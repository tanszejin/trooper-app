var KC=Object.defineProperty;var WC=(r,e,t)=>e in r?KC(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var pe=(r,e,t)=>WC(r,typeof e!="symbol"?e+"":e,t);function $C(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function qT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _g={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function XC(){if(lE)return Xu;lE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:r,type:n,key:u,ref:a!==void 0?a:null,props:o}}return Xu.Fragment=e,Xu.jsx=t,Xu.jsxs=t,Xu}var uE;function ZC(){return uE||(uE=1,_g.exports=XC()),_g.exports}var k=ZC(),wg={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function JC(){if(cE)return Ne;cE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function I(U,ne,fe){this.props=U,this.context=ne,this.refs=C,this.updater=fe||S}I.prototype.isReactComponent={},I.prototype.setState=function(U,ne){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ne,"setState")},I.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function V(){}V.prototype=I.prototype;function G(U,ne,fe){this.props=U,this.context=ne,this.refs=C,this.updater=fe||S}var H=G.prototype=new V;H.constructor=G,T(H,I.prototype),H.isPureReactComponent=!0;var X=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function N(U,ne,fe,ce,Te,Ve){return fe=Ve.ref,{$$typeof:r,type:U,key:ne,ref:fe!==void 0?fe:null,props:Ve}}function A(U,ne){return N(U.type,ne,void 0,void 0,void 0,U.props)}function x(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function P(U){var ne={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(fe){return ne[fe]})}var j=/\/+/g;function B(U,ne){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):ne.toString(36)}function O(){}function Me(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(O,O):(U.status="pending",U.then(function(ne){U.status==="pending"&&(U.status="fulfilled",U.value=ne)},function(ne){U.status==="pending"&&(U.status="rejected",U.reason=ne)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function we(U,ne,fe,ce,Te){var Ve=typeof U;(Ve==="undefined"||Ve==="boolean")&&(U=null);var Ie=!1;if(U===null)Ie=!0;else switch(Ve){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(U.$$typeof){case r:case e:Ie=!0;break;case y:return Ie=U._init,we(Ie(U._payload),ne,fe,ce,Te)}}if(Ie)return Te=Te(U),Ie=ce===""?"."+B(U,0):ce,X(Te)?(fe="",Ie!=null&&(fe=Ie.replace(j,"$&/")+"/"),we(Te,ne,fe,"",function(Cr){return Cr})):Te!=null&&(x(Te)&&(Te=A(Te,fe+(Te.key==null||U&&U.key===Te.key?"":(""+Te.key).replace(j,"$&/")+"/")+Ie)),ne.push(Te)),1;Ie=0;var Yt=ce===""?".":ce+":";if(X(U))for(var dt=0;dt<U.length;dt++)ce=U[dt],Ve=Yt+B(ce,dt),Ie+=we(ce,ne,fe,Ve,Te);else if(dt=w(U),typeof dt=="function")for(U=dt.call(U),dt=0;!(ce=U.next()).done;)ce=ce.value,Ve=Yt+B(ce,dt++),Ie+=we(ce,ne,fe,Ve,Te);else if(Ve==="object"){if(typeof U.then=="function")return we(Me(U),ne,fe,ce,Te);throw ne=String(U),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Y(U,ne,fe){if(U==null)return U;var ce=[],Te=0;return we(U,ce,"","",function(Ve){return ne.call(fe,Ve,Te++)}),ce}function ie(U){if(U._status===-1){var ne=U._result;ne=ne(),ne.then(function(fe){(U._status===0||U._status===-1)&&(U._status=1,U._result=fe)},function(fe){(U._status===0||U._status===-1)&&(U._status=2,U._result=fe)}),U._status===-1&&(U._status=0,U._result=ne)}if(U._status===1)return U._result.default;throw U._result}var ue=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function be(){}return Ne.Children={map:Y,forEach:function(U,ne,fe){Y(U,function(){ne.apply(this,arguments)},fe)},count:function(U){var ne=0;return Y(U,function(){ne++}),ne},toArray:function(U){return Y(U,function(ne){return ne})||[]},only:function(U){if(!x(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ne.Component=I,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=G,Ne.StrictMode=n,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(U){return J.H.useMemoCache(U)}},Ne.cache=function(U){return function(){return U.apply(null,arguments)}},Ne.cloneElement=function(U,ne,fe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=T({},U.props),Te=U.key,Ve=void 0;if(ne!=null)for(Ie in ne.ref!==void 0&&(Ve=void 0),ne.key!==void 0&&(Te=""+ne.key),ne)!le.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(ce[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)ce.children=fe;else if(1<Ie){for(var Yt=Array(Ie),dt=0;dt<Ie;dt++)Yt[dt]=arguments[dt+2];ce.children=Yt}return N(U.type,Te,void 0,void 0,Ve,ce)},Ne.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Ne.createElement=function(U,ne,fe){var ce,Te={},Ve=null;if(ne!=null)for(ce in ne.key!==void 0&&(Ve=""+ne.key),ne)le.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=ne[ce]);var Ie=arguments.length-2;if(Ie===1)Te.children=fe;else if(1<Ie){for(var Yt=Array(Ie),dt=0;dt<Ie;dt++)Yt[dt]=arguments[dt+2];Te.children=Yt}if(U&&U.defaultProps)for(ce in Ie=U.defaultProps,Ie)Te[ce]===void 0&&(Te[ce]=Ie[ce]);return N(U,Ve,void 0,void 0,null,Te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:d,render:U}},Ne.isValidElement=x,Ne.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:ie}},Ne.memo=function(U,ne){return{$$typeof:m,type:U,compare:ne===void 0?null:ne}},Ne.startTransition=function(U){var ne=J.T,fe={};J.T=fe;try{var ce=U(),Te=J.S;Te!==null&&Te(fe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(be,ue)}catch(Ve){ue(Ve)}finally{J.T=ne}},Ne.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ne.use=function(U){return J.H.use(U)},Ne.useActionState=function(U,ne,fe){return J.H.useActionState(U,ne,fe)},Ne.useCallback=function(U,ne){return J.H.useCallback(U,ne)},Ne.useContext=function(U){return J.H.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U,ne){return J.H.useDeferredValue(U,ne)},Ne.useEffect=function(U,ne,fe){var ce=J.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(U,ne)},Ne.useId=function(){return J.H.useId()},Ne.useImperativeHandle=function(U,ne,fe){return J.H.useImperativeHandle(U,ne,fe)},Ne.useInsertionEffect=function(U,ne){return J.H.useInsertionEffect(U,ne)},Ne.useLayoutEffect=function(U,ne){return J.H.useLayoutEffect(U,ne)},Ne.useMemo=function(U,ne){return J.H.useMemo(U,ne)},Ne.useOptimistic=function(U,ne){return J.H.useOptimistic(U,ne)},Ne.useReducer=function(U,ne,fe){return J.H.useReducer(U,ne,fe)},Ne.useRef=function(U){return J.H.useRef(U)},Ne.useState=function(U){return J.H.useState(U)},Ne.useSyncExternalStore=function(U,ne,fe){return J.H.useSyncExternalStore(U,ne,fe)},Ne.useTransition=function(){return J.H.useTransition()},Ne.version="19.1.0",Ne}var dE;function xy(){return dE||(dE=1,wg.exports=JC()),wg.exports}var M=xy();const ee=qT(M),YT=$C({__proto__:null,default:ee},[M]);var Eg={exports:{}},Zu={},bg={exports:{}},Tg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function e1(){return fE||(fE=1,function(r){function e(Y,ie){var ue=Y.length;Y.push(ie);e:for(;0<ue;){var be=ue-1>>>1,U=Y[be];if(0<a(U,ie))Y[be]=ie,Y[ue]=U,ue=be;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ie=Y[0],ue=Y.pop();if(ue!==ie){Y[0]=ue;e:for(var be=0,U=Y.length,ne=U>>>1;be<ne;){var fe=2*(be+1)-1,ce=Y[fe],Te=fe+1,Ve=Y[Te];if(0>a(ce,ue))Te<U&&0>a(Ve,ce)?(Y[be]=Ve,Y[Te]=ue,be=Te):(Y[be]=ce,Y[fe]=ue,be=fe);else if(Te<U&&0>a(Ve,ue))Y[be]=Ve,Y[Te]=ue,be=Te;else break e}}return ie}function a(Y,ie){var ue=Y.sortIndex-ie.sortIndex;return ue!==0?ue:Y.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();r.unstable_now=function(){return u.now()-d}}var h=[],m=[],y=1,_=null,w=3,S=!1,T=!1,C=!1,I=!1,V=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function X(Y){for(var ie=t(m);ie!==null;){if(ie.callback===null)n(m);else if(ie.startTime<=Y)n(m),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=t(m)}}function J(Y){if(C=!1,X(Y),!T)if(t(h)!==null)T=!0,le||(le=!0,B());else{var ie=t(m);ie!==null&&we(J,ie.startTime-Y)}}var le=!1,N=-1,A=5,x=-1;function P(){return I?!0:!(r.unstable_now()-x<A)}function j(){if(I=!1,le){var Y=r.unstable_now();x=Y;var ie=!0;try{e:{T=!1,C&&(C=!1,G(N),N=-1),S=!0;var ue=w;try{t:{for(X(Y),_=t(h);_!==null&&!(_.expirationTime>Y&&P());){var be=_.callback;if(typeof be=="function"){_.callback=null,w=_.priorityLevel;var U=be(_.expirationTime<=Y);if(Y=r.unstable_now(),typeof U=="function"){_.callback=U,X(Y),ie=!0;break t}_===t(h)&&n(h),X(Y)}else n(h);_=t(h)}if(_!==null)ie=!0;else{var ne=t(m);ne!==null&&we(J,ne.startTime-Y),ie=!1}}break e}finally{_=null,w=ue,S=!1}ie=void 0}}finally{ie?B():le=!1}}}var B;if(typeof H=="function")B=function(){H(j)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Me=O.port2;O.port1.onmessage=j,B=function(){Me.postMessage(null)}}else B=function(){V(j,0)};function we(Y,ie){N=V(function(){Y(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var ue=w;w=ie;try{return Y()}finally{w=ue}},r.unstable_requestPaint=function(){I=!0},r.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=w;w=Y;try{return ie()}finally{w=ue}},r.unstable_scheduleCallback=function(Y,ie,ue){var be=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?be+ue:be):ue=be,Y){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ue+U,Y={id:y++,callback:ie,priorityLevel:Y,startTime:ue,expirationTime:U,sortIndex:-1},ue>be?(Y.sortIndex=ue,e(m,Y),t(h)===null&&Y===t(m)&&(C?(G(N),N=-1):C=!0,we(J,ue-be))):(Y.sortIndex=U,e(h,Y),T||S||(T=!0,le||(le=!0,B()))),Y},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Y){var ie=w;return function(){var ue=w;w=ie;try{return Y.apply(this,arguments)}finally{w=ue}}}}(Tg)),Tg}var hE;function t1(){return hE||(hE=1,bg.exports=e1()),bg.exports}var Sg={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function n1(){if(pE)return hn;pE=1;var r=xy();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:h,containerInfo:m,implementation:y}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,hn.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,y)},hn.flushSync=function(h){var m=u.T,y=n.p;try{if(u.T=null,n.p=2,h)return h()}finally{u.T=m,n.p=y,n.d.f()}},hn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},hn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},hn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):y==="script"&&n.d.X(h,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},hn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin);n.d.L(h,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hn.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=d(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},hn.requestFormReset=function(h){n.d.r(h)},hn.unstable_batchedUpdates=function(h,m){return h(m)},hn.useFormState=function(h,m,y){return u.H.useFormState(h,m,y)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.1.0",hn}var mE;function GT(){if(mE)return Sg.exports;mE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sg.exports=n1(),Sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function r1(){if(gE)return Zu;gE=1;var r=t1(),e=xy(),t=GT();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(n(188))}function h(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var l=i,c=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),i;if(g===c)return d(p),s;g=g.sibling}throw Error(n(188))}if(l.return!==c.return)l=p,c=g;else{for(var b=!1,D=p.child;D;){if(D===l){b=!0,l=p,c=g;break}if(D===c){b=!0,c=p,l=g;break}D=D.sibling}if(!b){for(D=g.child;D;){if(D===l){b=!0,l=g,c=p;break}if(D===c){b=!0,c=g,l=p;break}D=D.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function Me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case J:return"Suspense";case le:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case H:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case X:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:Me(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return Me(i(s))}catch{}}return null}var we=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},be=[],U=-1;function ne(i){return{current:i}}function fe(i){0>U||(i.current=be[U],be[U]=null,U--)}function ce(i,s){U++,be[U]=i.current,i.current=s}var Te=ne(null),Ve=ne(null),Ie=ne(null),Yt=ne(null);function dt(i,s){switch(ce(Ie,s),ce(Ve,i),ce(Te,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Lw(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Lw(s),i=Vw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}fe(Te),ce(Te,i)}function Cr(){fe(Te),fe(Ve),fe(Ie)}function Ji(i){i.memoizedState!==null&&ce(Yt,i);var s=Te.current,l=Vw(s,i.type);s!==l&&(ce(Ve,i),ce(Te,l))}function si(i){Ve.current===i&&(fe(Te),fe(Ve)),Yt.current===i&&(fe(Yt),Gu._currentValue=ue)}var rs=Object.prototype.hasOwnProperty,is=r.unstable_scheduleCallback,as=r.unstable_cancelCallback,zl=r.unstable_shouldYield,Xc=r.unstable_requestPaint,Kn=r.unstable_now,_p=r.unstable_getCurrentPriorityLevel,ql=r.unstable_ImmediatePriority,uo=r.unstable_UserBlockingPriority,ss=r.unstable_NormalPriority,wp=r.unstable_LowPriority,co=r.unstable_IdlePriority,Yl=r.log,Zc=r.unstable_setDisableYieldValue,Et=null,tt=null;function Vn(i){if(typeof Yl=="function"&&Zc(i),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Et,i)}catch{}}var dn=Math.clz32?Math.clz32:os,Jc=Math.log,Ep=Math.LN2;function os(i){return i>>>=0,i===0?32:31-(Jc(i)/Ep|0)|0}var ls=256,us=4194304;function hr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function fo(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var D=c&134217727;return D!==0?(c=D&~g,c!==0?p=hr(c):(b&=D,b!==0?p=hr(b):l||(l=D&~i,l!==0&&(p=hr(l))))):(D=c&~g,D!==0?p=hr(D):b!==0?p=hr(b):l||(l=c&~i,l!==0&&(p=hr(l)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:p}function cs(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Gl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ql(){var i=ls;return ls<<=1,(ls&4194048)===0&&(ls=256),i}function Kl(){var i=us;return us<<=1,(us&62914560)===0&&(us=4194304),i}function oi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function li(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Wl(i,s,l,c,p,g){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var D=i.entanglements,L=i.expirationTimes,K=i.hiddenUpdates;for(l=b&~l;0<l;){var te=31-dn(l),ae=1<<te;D[te]=0,L[te]=-1;var W=K[te];if(W!==null)for(K[te]=null,te=0;te<W.length;te++){var $=W[te];$!==null&&($.lane&=-536870913)}l&=~ae}c!==0&&Ir(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function Ir(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-dn(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function $l(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-dn(l),p=1<<c;p&s|i[c]&s&&(i[c]|=s),l&=~p}}function ea(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ho(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ta(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:nE(i.type))}function ed(i,s){var l=ie.p;try{return ie.p=i,s()}finally{ie.p=l}}var pt=Math.random().toString(36).slice(2),Ut="__reactFiber$"+pt,Mt="__reactProps$"+pt,Wn="__reactContainer$"+pt,Xl="__reactEvents$"+pt,bp="__reactListeners$"+pt,na="__reactHandles$"+pt,td="__reactResources$"+pt,ds="__reactMarker$"+pt;function ra(i){delete i[Ut],delete i[Mt],delete i[Xl],delete i[bp],delete i[na]}function ui(i){var s=i[Ut];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Wn]||l[Ut]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Fw(i);i!==null;){if(l=i[Ut])return l;i=Fw(i)}return s}i=l,l=i.parentNode}return null}function xr(i){if(i=i[Ut]||i[Wn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function kr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function bn(i){var s=i[td];return s||(s=i[td]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(i){i[ds]=!0}var Zl=new Set,po={};function pr(i,s){ci(i,s),ci(i+"Capture",s)}function ci(i,s){for(po[i]=s,i=0;i<s.length;i++)Zl.add(s[i])}var nd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rd={},fs={};function id(i){return rs.call(fs,i)?!0:rs.call(rd,i)?!1:nd.test(i)?fs[i]=!0:(rd[i]=!0,!1)}function ia(i,s,l){if(id(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Mr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function en(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}var hs,ad;function di(i){if(hs===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);hs=s&&s[1]||"",ad=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+i+ad}var mo=!1;function go(i,s){if(!i||mo)return"";mo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch($){var W=$}Reflect.construct(i,[],ae)}else{try{ae.call()}catch($){W=$}i.call(ae.prototype)}}else{try{throw Error()}catch($){W=$}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch($){if($&&W&&typeof $.stack=="string")return[$.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],D=g[1];if(b&&D){var L=b.split(`
`),K=D.split(`
`);for(p=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(c===L.length||p===K.length)for(c=L.length-1,p=K.length-1;1<=c&&0<=p&&L[c]!==K[p];)p--;for(;1<=c&&0<=p;c--,p--)if(L[c]!==K[p]){if(c!==1||p!==1)do if(c--,p--,0>p||L[c]!==K[p]){var te=`
`+L[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=p);break}}}finally{mo=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?di(l):""}function Jl(i){switch(i.tag){case 26:case 27:case 5:return di(i.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return go(i.type,!1);case 11:return go(i.type.render,!1);case 1:return go(i.type,!0);case 31:return di("Activity");default:return""}}function yo(i){try{var s="";do s+=Jl(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function eu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tp(i){var s=eu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function vo(i){i._valueTracker||(i._valueTracker=Tp(i))}function tu(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=eu(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function ps(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Sp=/[\n"\\]/g;function Nt(i){return i.replace(Sp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Un(i,s,l,c,p,g,b,D){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Tn(s)):i.value!==""+Tn(s)&&(i.value=""+Tn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?aa(i,b,Tn(s)):l!=null?aa(i,b,Tn(l)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+Tn(D):i.removeAttribute("name")}function ms(i,s,l,c,p,g,b,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+Tn(l):"",s=s!=null?""+Tn(s):l,D||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=D?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function aa(i,s,l){s==="number"&&ps(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function fi(i,s,l,c){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Tn(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function st(i,s,l){if(s!=null&&(s=""+Tn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Tn(l):""}function gs(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(n(92));if(we(c)){if(1<c.length)throw Error(n(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Tn(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function $n(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sd(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||ys.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function nu(i,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&sd(i,p,c)}else for(var g in s)s.hasOwnProperty(g)&&sd(i,g,s[g])}function ru(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ap=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(i){return Ap.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var hi=null;function Xn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var pi=null,mi=null;function iu(i){var s=xr(i);if(s&&(i=s.stateNode)){var l=i[Mt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Un(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var p=c[Mt]||null;if(!p)throw Error(n(90));Un(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&tu(c)}break e;case"textarea":st(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&fi(i,!!l.multiple,s,!1)}}}var Nr=!1;function od(i,s,l){if(Nr)return i(s,l);Nr=!0;try{var c=i(s);return c}finally{if(Nr=!1,(pi!==null||mi!==null)&&(ef(),pi&&(s=pi,i=mi,mi=pi=null,iu(s),i)))for(s=0;s<i.length;s++)iu(i[s])}}function vs(i,s){var l=i.stateNode;if(l===null)return null;var c=l[Mt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zn=!1;if(mr)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Zn=!1}var Or=null,sa=null,gi=null;function au(){if(gi)return gi;var i,s=sa,l=s.length,c,p="value"in Or?Or.value:Or.textContent,g=p.length;for(i=0;i<l&&s[i]===p[i];i++);var b=l-i;for(c=1;c<=b&&s[l-c]===p[g-c];c++);return gi=p.slice(i,1<c?1-c:void 0)}function Pr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Lr(){return!0}function su(){return!1}function Gt(i){function s(l,c,p,g,b){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Lr:su,this.isPropagationStopped=su,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),s}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Gt(Ze),ws=y({},Ze,{view:0,detail:0}),ld=Gt(ws),Eo,bo,Vr,Es=y({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vr&&(Vr&&i.type==="mousemove"?(Eo=i.screenX-Vr.screenX,bo=i.screenY-Vr.screenY):bo=Eo=0,Vr=i),Eo)},movementY:function(i){return"movementY"in i?i.movementY:bo}}),Jn=Gt(Es),ud=y({},Es,{dataTransfer:0}),Rp=Gt(ud),bs=y({},ws,{relatedTarget:0}),To=Gt(bs),ou=y({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),So=Gt(ou),cd=y({},Ze,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Do=Gt(cd),Cp=y({},Ze,{data:0}),lu=Gt(Cp),Ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=fd[i])?!!s[i]:!1}function Ss(){return uu}var hd=y({},ws,{key:function(i){if(i.key){var s=Ts[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Pr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(i){return i.type==="keypress"?Pr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ao=Gt(hd),pd=y({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=Gt(pd),yi=y({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),md=Gt(yi),gd=y({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),yd=Gt(gd),vd=y({},Es,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ro=Gt(vd),Sn=y({},Ze,{newState:0,oldState:0}),_d=Gt(Sn),wd=[9,13,27,32],Ur=mr&&"CompositionEvent"in window,f=null;mr&&"documentMode"in document&&(f=document.documentMode);var v=mr&&"TextEvent"in window&&!f,E=mr&&(!Ur||f&&8<f&&11>=f),R=" ",q=!1;function Z(i,s){switch(i){case"keyup":return wd.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ze=!1;function jt(i,s){switch(i){case"compositionend":return de(s);case"keypress":return s.which!==32?null:(q=!0,R);case"textInput":return i=s.data,i===R&&q?null:i;default:return null}}function qe(i,s){if(ze)return i==="compositionend"||!Ur&&Z(i,s)?(i=au(),gi=sa=Or=null,ze=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Qt[i.type]:s==="textarea"}function vi(i,s,l,c){pi?mi?mi.push(c):mi=[c]:pi=c,s=of(s,"onChange"),0<s.length&&(l=new wo("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var tn=null,jr=null;function du(i){kw(i,0)}function Ed(i){var s=kr(i);if(tu(s))return i}function Zv(i,s){if(i==="change")return s}var Jv=!1;if(mr){var Ip;if(mr){var xp="oninput"in document;if(!xp){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),xp=typeof e_.oninput=="function"}Ip=xp}else Ip=!1;Jv=Ip&&(!document.documentMode||9<document.documentMode)}function t_(){tn&&(tn.detachEvent("onpropertychange",n_),jr=tn=null)}function n_(i){if(i.propertyName==="value"&&Ed(jr)){var s=[];vi(s,jr,i,Xn(i)),od(du,s)}}function SR(i,s,l){i==="focusin"?(t_(),tn=s,jr=l,tn.attachEvent("onpropertychange",n_)):i==="focusout"&&t_()}function DR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ed(jr)}function AR(i,s){if(i==="click")return Ed(s)}function RR(i,s){if(i==="input"||i==="change")return Ed(s)}function CR(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var jn=typeof Object.is=="function"?Object.is:CR;function fu(i,s){if(jn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!rs.call(s,p)||!jn(i[p],s[p]))return!1}return!0}function r_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function i_(i,s){var l=r_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=r_(l)}}function a_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?a_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function s_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ps(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ps(i.document)}return s}function kp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var IR=mr&&"documentMode"in document&&11>=document.documentMode,Co=null,Mp=null,hu=null,Np=!1;function o_(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Np||Co==null||Co!==ps(c)||(c=Co,"selectionStart"in c&&kp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),hu&&fu(hu,c)||(hu=c,c=of(Mp,"onSelect"),0<c.length&&(s=new wo("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Co)))}function Ds(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Io={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},Op={},l_={};mr&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function As(i){if(Op[i])return Op[i];if(!Io[i])return i;var s=Io[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in l_)return Op[i]=s[l];return i}var u_=As("animationend"),c_=As("animationiteration"),d_=As("animationstart"),xR=As("transitionrun"),kR=As("transitionstart"),MR=As("transitioncancel"),f_=As("transitionend"),h_=new Map,Pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pp.push("scrollEnd");function gr(i,s){h_.set(i,s),pr(s,[i])}var p_=new WeakMap;function er(i,s){if(typeof i=="object"&&i!==null){var l=p_.get(i);return l!==void 0?l:(s={value:i,source:s,stack:yo(s)},p_.set(i,s),s)}return{value:i,source:s,stack:yo(s)}}var tr=[],xo=0,Lp=0;function bd(){for(var i=xo,s=Lp=xo=0;s<i;){var l=tr[s];tr[s++]=null;var c=tr[s];tr[s++]=null;var p=tr[s];tr[s++]=null;var g=tr[s];if(tr[s++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}g!==0&&m_(l,p,g)}}function Td(i,s,l,c){tr[xo++]=i,tr[xo++]=s,tr[xo++]=l,tr[xo++]=c,Lp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Vp(i,s,l,c){return Td(i,s,l,c),Sd(i)}function ko(i,s){return Td(i,null,null,s),Sd(i)}function m_(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&s!==null&&(p=31-dn(l),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=l|536870912),g):null}function Sd(i){if(50<Uu)throw Uu=0,zm=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Mo={};function NR(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(i,s,l,c){return new NR(i,s,l,c)}function Up(i){return i=i.prototype,!(!i||!i.isReactComponent)}function _i(i,s){var l=i.alternate;return l===null?(l=Bn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function g_(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Dd(i,s,l,c,p,g){var b=0;if(c=i,typeof i=="function")Up(i)&&(b=1);else if(typeof i=="string")b=PC(i,l,Te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case x:return i=Bn(31,l,s,p),i.elementType=x,i.lanes=g,i;case T:return Rs(l.children,p,g,s);case C:b=8,p|=24;break;case I:return i=Bn(12,l,s,p|2),i.elementType=I,i.lanes=g,i;case J:return i=Bn(13,l,s,p),i.elementType=J,i.lanes=g,i;case le:return i=Bn(19,l,s,p),i.elementType=le,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:case H:b=10;break e;case G:b=9;break e;case X:b=11;break e;case N:b=14;break e;case A:b=16,c=null;break e}b=29,l=Error(n(130,i===null?"null":typeof i,"")),c=null}return s=Bn(b,l,s,p),s.elementType=i,s.type=c,s.lanes=g,s}function Rs(i,s,l,c){return i=Bn(7,i,c,s),i.lanes=l,i}function jp(i,s,l){return i=Bn(6,i,null,s),i.lanes=l,i}function Bp(i,s,l){return s=Bn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var No=[],Oo=0,Ad=null,Rd=0,nr=[],rr=0,Cs=null,wi=1,Ei="";function Is(i,s){No[Oo++]=Rd,No[Oo++]=Ad,Ad=i,Rd=s}function y_(i,s,l){nr[rr++]=wi,nr[rr++]=Ei,nr[rr++]=Cs,Cs=i;var c=wi;i=Ei;var p=32-dn(c)-1;c&=~(1<<p),l+=1;var g=32-dn(s)+p;if(30<g){var b=p-p%5;g=(c&(1<<b)-1).toString(32),c>>=b,p-=b,wi=1<<32-dn(s)+p|l<<p|c,Ei=g+i}else wi=1<<g|l<<p|c,Ei=i}function Fp(i){i.return!==null&&(Is(i,1),y_(i,1,0))}function Hp(i){for(;i===Ad;)Ad=No[--Oo],No[Oo]=null,Rd=No[--Oo],No[Oo]=null;for(;i===Cs;)Cs=nr[--rr],nr[rr]=null,Ei=nr[--rr],nr[rr]=null,wi=nr[--rr],nr[rr]=null}var Dn=null,bt=null,$e=!1,xs=null,Br=!1,zp=Error(n(519));function ks(i){var s=Error(n(418,""));throw gu(er(s,i)),zp}function v_(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Ut]=i,s[Mt]=c,l){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(l=0;l<Bu.length;l++)Be(Bu[l],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),ms(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),vo(s);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),gs(s,c.value,c.defaultValue,c.children),vo(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||Pw(s.textContent,l)?(c.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),c.onScroll!=null&&Be("scroll",s),c.onScrollEnd!=null&&Be("scrollend",s),c.onClick!=null&&(s.onclick=lf),s=!0):s=!1,s||ks(i)}function __(i){for(Dn=i.return;Dn;)switch(Dn.tag){case 5:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:Dn=Dn.return}}function pu(i){if(i!==Dn)return!1;if(!$e)return __(i),$e=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ag(i.type,i.memoizedProps)),l=!l),l&&bt&&ks(i),__(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){bt=vr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}bt=null}}else s===27?(s=bt,ba(i.type)?(i=ug,ug=null,bt=i):bt=s):bt=Dn?vr(i.stateNode.nextSibling):null;return!0}function mu(){bt=Dn=null,$e=!1}function w_(){var i=xs;return i!==null&&(kn===null?kn=i:kn.push.apply(kn,i),xs=null),i}function gu(i){xs===null?xs=[i]:xs.push(i)}var qp=ne(null),Ms=null,bi=null;function oa(i,s,l){ce(qp,s._currentValue),s._currentValue=l}function Ti(i){i._currentValue=qp.current,fe(qp)}function Yp(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Gp(i,s,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var b=p.child;g=g.firstContext;e:for(;g!==null;){var D=g;g=p;for(var L=0;L<s.length;L++)if(D.context===s[L]){g.lanes|=l,D=g.alternate,D!==null&&(D.lanes|=l),Yp(g.return,l,i),c||(b=null);break e}g=D.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(n(341));b.lanes|=l,g=b.alternate,g!==null&&(g.lanes|=l),Yp(b,l,i),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===i){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function yu(i,s,l,c){i=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(n(387));if(b=b.memoizedProps,b!==null){var D=p.type;jn(p.pendingProps.value,b.value)||(i!==null?i.push(D):i=[D])}}else if(p===Yt.current){if(b=p.alternate,b===null)throw Error(n(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Gu):i=[Gu])}p=p.return}i!==null&&Gp(s,i,l,c),s.flags|=262144}function Cd(i){for(i=i.firstContext;i!==null;){if(!jn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ns(i){Ms=i,bi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function fn(i){return E_(Ms,i)}function Id(i,s){return Ms===null&&Ns(i),E_(i,s)}function E_(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},bi===null){if(i===null)throw Error(n(308));bi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else bi=bi.next=s;return l}var OR=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},PR=r.unstable_scheduleCallback,LR=r.unstable_NormalPriority,Ft={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qp(){return{controller:new OR,data:new Map,refCount:0}}function vu(i){i.refCount--,i.refCount===0&&PR(LR,function(){i.controller.abort()})}var _u=null,Kp=0,Po=0,Lo=null;function VR(i,s){if(_u===null){var l=_u=[];Kp=0,Po=$m(),Lo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Kp++,s.then(b_,b_),s}function b_(){if(--Kp===0&&_u!==null){Lo!==null&&(Lo.status="fulfilled");var i=_u;_u=null,Po=0,Lo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function UR(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var T_=Y.S;Y.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&VR(i,s),T_!==null&&T_(i,s)};var Os=ne(null);function Wp(){var i=Os.current;return i!==null?i:ft.pooledCache}function xd(i,s){s===null?ce(Os,Os.current):ce(Os,s.pool)}function S_(){var i=Wp();return i===null?null:{parent:Ft._currentValue,pool:i}}var wu=Error(n(460)),D_=Error(n(474)),kd=Error(n(542)),$p={then:function(){}};function A_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Md(){}function R_(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Md,Md),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,I_(i),i;default:if(typeof s.status=="string")s.then(Md,Md);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,I_(i),i}throw Eu=s,wu}}var Eu=null;function C_(){if(Eu===null)throw Error(n(459));var i=Eu;return Eu=null,i}function I_(i){if(i===wu||i===kd)throw Error(n(483))}var la=!1;function Xp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ua(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ca(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Sd(i),m_(i,null,l),s}return Td(i,c,s,l),Sd(i)}function bu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,$l(i,l)}}function Jp(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var em=!1;function Tu(){if(em){var i=Lo;if(i!==null)throw i}}function Su(i,s,l,c){em=!1;var p=i.updateQueue;la=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var L=D,K=L.next;L.next=null,b===null?g=K:b.next=K,b=L;var te=i.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==b&&(D===null?te.firstBaseUpdate=K:D.next=K,te.lastBaseUpdate=L))}if(g!==null){var ae=p.baseState;b=0,te=K=L=null,D=g;do{var W=D.lane&-536870913,$=W!==D.lane;if($?(Ye&W)===W:(c&W)===W){W!==0&&W===Po&&(em=!0),te!==null&&(te=te.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Re=i,Se=D;W=s;var ut=l;switch(Se.tag){case 1:if(Re=Se.payload,typeof Re=="function"){ae=Re.call(ut,ae,W);break e}ae=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Se.payload,W=typeof Re=="function"?Re.call(ut,ae,W):Re,W==null)break e;ae=y({},ae,W);break e;case 2:la=!0}}W=D.callback,W!==null&&(i.flags|=64,$&&(i.flags|=8192),$=p.callbacks,$===null?p.callbacks=[W]:$.push(W))}else $={lane:W,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(K=te=$,L=ae):te=te.next=$,b|=W;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;$=D,D=$.next,$.next=null,p.lastBaseUpdate=$,p.shared.pending=null}}while(!0);te===null&&(L=ae),p.baseState=L,p.firstBaseUpdate=K,p.lastBaseUpdate=te,g===null&&(p.shared.lanes=0),va|=b,i.lanes=b,i.memoizedState=ae}}function x_(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function k_(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)x_(l[i],s)}var Vo=ne(null),Nd=ne(0);function M_(i,s){i=xi,ce(Nd,i),ce(Vo,s),xi=i|s.baseLanes}function tm(){ce(Nd,xi),ce(Vo,Vo.current)}function nm(){xi=Nd.current,fe(Vo),fe(Nd)}var da=0,Oe=null,ot=null,Ot=null,Od=!1,Uo=!1,Ps=!1,Pd=0,Du=0,jo=null,jR=0;function Rt(){throw Error(n(321))}function rm(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!jn(i[l],s[l]))return!1;return!0}function im(i,s,l,c,p,g){return da=g,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?m0:g0,Ps=!1,g=l(c,p),Ps=!1,Uo&&(g=O_(s,l,c,p)),N_(i),g}function N_(i){Y.H=Fd;var s=ot!==null&&ot.next!==null;if(da=0,Ot=ot=Oe=null,Od=!1,Du=0,jo=null,s)throw Error(n(300));i===null||Kt||(i=i.dependencies,i!==null&&Cd(i)&&(Kt=!0))}function O_(i,s,l,c){Oe=i;var p=0;do{if(Uo&&(jo=null),Du=0,Uo=!1,25<=p)throw Error(n(301));if(p+=1,Ot=ot=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=GR,g=s(l,c)}while(Uo);return g}function BR(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?Au(s):s,i=i.useState()[0],(ot!==null?ot.memoizedState:null)!==i&&(Oe.flags|=1024),s}function am(){var i=Pd!==0;return Pd=0,i}function sm(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function om(i){if(Od){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Od=!1}da=0,Ot=ot=Oe=null,Uo=!1,Du=Pd=0,jo=null}function In(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Oe.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function Pt(){if(ot===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=ot.next;var s=Ot===null?Oe.memoizedState:Ot.next;if(s!==null)Ot=s,ot=i;else{if(i===null)throw Oe.alternate===null?Error(n(467)):Error(n(310));ot=i,i={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ot===null?Oe.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function lm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(i){var s=Du;return Du+=1,jo===null&&(jo=[]),i=R_(jo,i,s),s=Oe,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?m0:g0),i}function Ld(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Au(i);if(i.$$typeof===H)return fn(i)}throw Error(n(438,String(i)))}function um(i){var s=null,l=Oe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Oe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=lm(),Oe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=P;return s.index++,l}function Si(i,s){return typeof s=="function"?s(i):s}function Vd(i){var s=Pt();return cm(s,ot,i)}function cm(i,s,l){var c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=l;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}s.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{s=p.next;var D=b=null,L=null,K=s,te=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(Ye&ae)===ae:(da&ae)===ae){var W=K.revertLane;if(W===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===Po&&(te=!0);else if((da&W)===W){K=K.next,W===Po&&(te=!0);continue}else ae={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(D=L=ae,b=g):L=L.next=ae,Oe.lanes|=W,va|=W;ae=K.action,Ps&&l(g,ae),g=K.hasEagerState?K.eagerState:l(g,ae)}else W={lane:ae,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(D=L=W,b=g):L=L.next=W,Oe.lanes|=ae,va|=ae;K=K.next}while(K!==null&&K!==s);if(L===null?b=g:L.next=D,!jn(g,i.memoizedState)&&(Kt=!0,te&&(l=Lo,l!==null)))throw l;i.memoizedState=g,i.baseState=b,i.baseQueue=L,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function dm(i){var s=Pt(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do g=i(g,b.action),b=b.next;while(b!==p);jn(g,s.memoizedState)||(Kt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function P_(i,s,l){var c=Oe,p=Pt(),g=$e;if(g){if(l===void 0)throw Error(n(407));l=l()}else l=s();var b=!jn((ot||p).memoizedState,l);b&&(p.memoizedState=l,Kt=!0),p=p.queue;var D=U_.bind(null,c,p,i);if(Ru(2048,8,D,[i]),p.getSnapshot!==s||b||Ot!==null&&Ot.memoizedState.tag&1){if(c.flags|=2048,Bo(9,Ud(),V_.bind(null,c,p,l,s),null),ft===null)throw Error(n(349));g||(da&124)!==0||L_(c,s,l)}return l}function L_(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Oe.updateQueue,s===null?(s=lm(),Oe.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function V_(i,s,l,c){s.value=l,s.getSnapshot=c,j_(s)&&B_(i)}function U_(i,s,l){return l(function(){j_(s)&&B_(i)})}function j_(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!jn(i,l)}catch{return!0}}function B_(i){var s=ko(i,2);s!==null&&Yn(s,i,2)}function fm(i){var s=In();if(typeof i=="function"){var l=i;if(i=l(),Ps){Vn(!0);try{l()}finally{Vn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:i},s}function F_(i,s,l,c){return i.baseState=l,cm(i,ot,typeof c=="function"?c:Si)}function FR(i,s,l,c,p){if(Bd(i))throw Error(n(485));if(i=s.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Y.T!==null?l(!0):g.isTransition=!1,c(g),l=s.pending,l===null?(g.next=s.pending=g,H_(s,g)):(g.next=l.next,s.pending=l.next=g)}}function H_(i,s){var l=s.action,c=s.payload,p=i.state;if(s.isTransition){var g=Y.T,b={};Y.T=b;try{var D=l(p,c),L=Y.S;L!==null&&L(b,D),z_(i,s,D)}catch(K){hm(i,s,K)}finally{Y.T=g}}else try{g=l(p,c),z_(i,s,g)}catch(K){hm(i,s,K)}}function z_(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){q_(i,s,c)},function(c){return hm(i,s,c)}):q_(i,s,l)}function q_(i,s,l){s.status="fulfilled",s.value=l,Y_(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,H_(i,l)))}function hm(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Y_(s),s=s.next;while(s!==c)}i.action=null}function Y_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function G_(i,s){return s}function Q_(i,s){if($e){var l=ft.formState;if(l!==null){e:{var c=Oe;if($e){if(bt){t:{for(var p=bt,g=Br;p.nodeType!==8;){if(!g){p=null;break t}if(p=vr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){bt=vr(p.nextSibling),c=p.data==="F!";break e}}ks(c)}c=!1}c&&(s=l[0])}}return l=In(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G_,lastRenderedState:s},l.queue=c,l=f0.bind(null,Oe,c),c.dispatch=l,c=fm(!1),g=vm.bind(null,Oe,!1,c.queue),c=In(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,l=FR.bind(null,Oe,p,g,l),p.dispatch=l,c.memoizedState=i,[s,l,!1]}function K_(i){var s=Pt();return W_(s,ot,i)}function W_(i,s,l){if(s=cm(i,s,G_)[0],i=Vd(Si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Au(s)}catch(b){throw b===wu?kd:b}else c=s;s=Pt();var p=s.queue,g=p.dispatch;return l!==s.memoizedState&&(Oe.flags|=2048,Bo(9,Ud(),HR.bind(null,p,l),null)),[c,g,i]}function HR(i,s){i.action=s}function $_(i){var s=Pt(),l=ot;if(l!==null)return W_(s,l,i);Pt(),s=s.memoizedState,l=Pt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Bo(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=lm(),Oe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function Ud(){return{destroy:void 0,resource:void 0}}function X_(){return Pt().memoizedState}function jd(i,s,l,c){var p=In();c=c===void 0?null:c,Oe.flags|=i,p.memoizedState=Bo(1|s,Ud(),l,c)}function Ru(i,s,l,c){var p=Pt();c=c===void 0?null:c;var g=p.memoizedState.inst;ot!==null&&c!==null&&rm(c,ot.memoizedState.deps)?p.memoizedState=Bo(s,g,l,c):(Oe.flags|=i,p.memoizedState=Bo(1|s,g,l,c))}function Z_(i,s){jd(8390656,8,i,s)}function J_(i,s){Ru(2048,8,i,s)}function e0(i,s){return Ru(4,2,i,s)}function t0(i,s){return Ru(4,4,i,s)}function n0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function r0(i,s,l){l=l!=null?l.concat([i]):null,Ru(4,4,n0.bind(null,s,i),l)}function pm(){}function i0(i,s){var l=Pt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&rm(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function a0(i,s){var l=Pt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&rm(s,c[1]))return c[0];if(c=i(),Ps){Vn(!0);try{i()}finally{Vn(!1)}}return l.memoizedState=[c,s],c}function mm(i,s,l){return l===void 0||(da&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=lw(),Oe.lanes|=i,va|=i,l)}function s0(i,s,l,c){return jn(l,s)?l:Vo.current!==null?(i=mm(i,l,c),jn(i,s)||(Kt=!0),i):(da&42)===0?(Kt=!0,i.memoizedState=l):(i=lw(),Oe.lanes|=i,va|=i,s)}function o0(i,s,l,c,p){var g=ie.p;ie.p=g!==0&&8>g?g:8;var b=Y.T,D={};Y.T=D,vm(i,!1,s,l);try{var L=p(),K=Y.S;if(K!==null&&K(D,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var te=UR(L,c);Cu(i,s,te,qn(i))}else Cu(i,s,c,qn(i))}catch(ae){Cu(i,s,{then:function(){},status:"rejected",reason:ae},qn())}finally{ie.p=g,Y.T=b}}function zR(){}function gm(i,s,l,c){if(i.tag!==5)throw Error(n(476));var p=l0(i).queue;o0(i,p,s,ue,l===null?zR:function(){return u0(i),l(c)})}function l0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ue},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function u0(i){var s=l0(i).next.queue;Cu(i,s,{},qn())}function ym(){return fn(Gu)}function c0(){return Pt().memoizedState}function d0(){return Pt().memoizedState}function qR(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=qn();i=ua(l);var c=ca(s,i,l);c!==null&&(Yn(c,s,l),bu(c,s,l)),s={cache:Qp()},i.payload=s;return}s=s.return}}function YR(i,s,l){var c=qn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Bd(i)?h0(s,l):(l=Vp(i,s,l,c),l!==null&&(Yn(l,i,c),p0(l,s,c)))}function f0(i,s,l){var c=qn();Cu(i,s,l,c)}function Cu(i,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bd(i))h0(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,D=g(b,l);if(p.hasEagerState=!0,p.eagerState=D,jn(D,b))return Td(i,s,p,0),ft===null&&bd(),!1}catch{}finally{}if(l=Vp(i,s,p,c),l!==null)return Yn(l,i,c),p0(l,s,c),!0}return!1}function vm(i,s,l,c){if(c={lane:2,revertLane:$m(),action:c,hasEagerState:!1,eagerState:null,next:null},Bd(i)){if(s)throw Error(n(479))}else s=Vp(i,l,c,2),s!==null&&Yn(s,i,2)}function Bd(i){var s=i.alternate;return i===Oe||s!==null&&s===Oe}function h0(i,s){Uo=Od=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function p0(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,$l(i,l)}}var Fd={readContext:fn,use:Ld,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt},m0={readContext:fn,use:Ld,useCallback:function(i,s){return In().memoizedState=[i,s===void 0?null:s],i},useContext:fn,useEffect:Z_,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,jd(4194308,4,n0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return jd(4194308,4,i,s)},useInsertionEffect:function(i,s){jd(4,2,i,s)},useMemo:function(i,s){var l=In();s=s===void 0?null:s;var c=i();if(Ps){Vn(!0);try{i()}finally{Vn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=In();if(l!==void 0){var p=l(s);if(Ps){Vn(!0);try{l(s)}finally{Vn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=YR.bind(null,Oe,i),[c.memoizedState,i]},useRef:function(i){var s=In();return i={current:i},s.memoizedState=i},useState:function(i){i=fm(i);var s=i.queue,l=f0.bind(null,Oe,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:pm,useDeferredValue:function(i,s){var l=In();return mm(l,i,s)},useTransition:function(){var i=fm(!1);return i=o0.bind(null,Oe,i.queue,!0,!1),In().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Oe,p=In();if($e){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),ft===null)throw Error(n(349));(Ye&124)!==0||L_(c,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,Z_(U_.bind(null,c,g,i),[i]),c.flags|=2048,Bo(9,Ud(),V_.bind(null,c,g,l,s),null),l},useId:function(){var i=In(),s=ft.identifierPrefix;if($e){var l=Ei,c=wi;l=(c&~(1<<32-dn(c)-1)).toString(32)+l,s=""+s+"R"+l,l=Pd++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=jR++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:ym,useFormState:Q_,useActionState:Q_,useOptimistic:function(i){var s=In();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=vm.bind(null,Oe,!0,l),l.dispatch=s,[i,s]},useMemoCache:um,useCacheRefresh:function(){return In().memoizedState=qR.bind(null,Oe)}},g0={readContext:fn,use:Ld,useCallback:i0,useContext:fn,useEffect:J_,useImperativeHandle:r0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:a0,useReducer:Vd,useRef:X_,useState:function(){return Vd(Si)},useDebugValue:pm,useDeferredValue:function(i,s){var l=Pt();return s0(l,ot.memoizedState,i,s)},useTransition:function(){var i=Vd(Si)[0],s=Pt().memoizedState;return[typeof i=="boolean"?i:Au(i),s]},useSyncExternalStore:P_,useId:c0,useHostTransitionStatus:ym,useFormState:K_,useActionState:K_,useOptimistic:function(i,s){var l=Pt();return F_(l,ot,i,s)},useMemoCache:um,useCacheRefresh:d0},GR={readContext:fn,use:Ld,useCallback:i0,useContext:fn,useEffect:J_,useImperativeHandle:r0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:a0,useReducer:dm,useRef:X_,useState:function(){return dm(Si)},useDebugValue:pm,useDeferredValue:function(i,s){var l=Pt();return ot===null?mm(l,i,s):s0(l,ot.memoizedState,i,s)},useTransition:function(){var i=dm(Si)[0],s=Pt().memoizedState;return[typeof i=="boolean"?i:Au(i),s]},useSyncExternalStore:P_,useId:c0,useHostTransitionStatus:ym,useFormState:$_,useActionState:$_,useOptimistic:function(i,s){var l=Pt();return ot!==null?F_(l,ot,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:um,useCacheRefresh:d0},Fo=null,Iu=0;function Hd(i){var s=Iu;return Iu+=1,Fo===null&&(Fo=[]),R_(Fo,i,s)}function xu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function zd(i,s){throw s.$$typeof===_?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function y0(i){var s=i._init;return s(i._payload)}function v0(i){function s(z,F){if(i){var Q=z.deletions;Q===null?(z.deletions=[F],z.flags|=16):Q.push(F)}}function l(z,F){if(!i)return null;for(;F!==null;)s(z,F),F=F.sibling;return null}function c(z){for(var F=new Map;z!==null;)z.key!==null?F.set(z.key,z):F.set(z.index,z),z=z.sibling;return F}function p(z,F){return z=_i(z,F),z.index=0,z.sibling=null,z}function g(z,F,Q){return z.index=Q,i?(Q=z.alternate,Q!==null?(Q=Q.index,Q<F?(z.flags|=67108866,F):Q):(z.flags|=67108866,F)):(z.flags|=1048576,F)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function D(z,F,Q,re){return F===null||F.tag!==6?(F=jp(Q,z.mode,re),F.return=z,F):(F=p(F,Q),F.return=z,F)}function L(z,F,Q,re){var ye=Q.type;return ye===T?te(z,F,Q.props.children,re,Q.key):F!==null&&(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&y0(ye)===F.type)?(F=p(F,Q.props),xu(F,Q),F.return=z,F):(F=Dd(Q.type,Q.key,Q.props,null,z.mode,re),xu(F,Q),F.return=z,F)}function K(z,F,Q,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=Bp(Q,z.mode,re),F.return=z,F):(F=p(F,Q.children||[]),F.return=z,F)}function te(z,F,Q,re,ye){return F===null||F.tag!==7?(F=Rs(Q,z.mode,re,ye),F.return=z,F):(F=p(F,Q),F.return=z,F)}function ae(z,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=jp(""+F,z.mode,Q),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return Q=Dd(F.type,F.key,F.props,null,z.mode,Q),xu(Q,F),Q.return=z,Q;case S:return F=Bp(F,z.mode,Q),F.return=z,F;case A:var re=F._init;return F=re(F._payload),ae(z,F,Q)}if(we(F)||B(F))return F=Rs(F,z.mode,Q,null),F.return=z,F;if(typeof F.then=="function")return ae(z,Hd(F),Q);if(F.$$typeof===H)return ae(z,Id(z,F),Q);zd(z,F)}return null}function W(z,F,Q,re){var ye=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ye!==null?null:D(z,F,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return Q.key===ye?L(z,F,Q,re):null;case S:return Q.key===ye?K(z,F,Q,re):null;case A:return ye=Q._init,Q=ye(Q._payload),W(z,F,Q,re)}if(we(Q)||B(Q))return ye!==null?null:te(z,F,Q,re,null);if(typeof Q.then=="function")return W(z,F,Hd(Q),re);if(Q.$$typeof===H)return W(z,F,Id(z,Q),re);zd(z,Q)}return null}function $(z,F,Q,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(Q)||null,D(F,z,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return z=z.get(re.key===null?Q:re.key)||null,L(F,z,re,ye);case S:return z=z.get(re.key===null?Q:re.key)||null,K(F,z,re,ye);case A:var Ue=re._init;return re=Ue(re._payload),$(z,F,Q,re,ye)}if(we(re)||B(re))return z=z.get(Q)||null,te(F,z,re,ye,null);if(typeof re.then=="function")return $(z,F,Q,Hd(re),ye);if(re.$$typeof===H)return $(z,F,Q,Id(F,re),ye);zd(F,re)}return null}function Re(z,F,Q,re){for(var ye=null,Ue=null,_e=F,De=F=0,$t=null;_e!==null&&De<Q.length;De++){_e.index>De?($t=_e,_e=null):$t=_e.sibling;var We=W(z,_e,Q[De],re);if(We===null){_e===null&&(_e=$t);break}i&&_e&&We.alternate===null&&s(z,_e),F=g(We,F,De),Ue===null?ye=We:Ue.sibling=We,Ue=We,_e=$t}if(De===Q.length)return l(z,_e),$e&&Is(z,De),ye;if(_e===null){for(;De<Q.length;De++)_e=ae(z,Q[De],re),_e!==null&&(F=g(_e,F,De),Ue===null?ye=_e:Ue.sibling=_e,Ue=_e);return $e&&Is(z,De),ye}for(_e=c(_e);De<Q.length;De++)$t=$(_e,z,De,Q[De],re),$t!==null&&(i&&$t.alternate!==null&&_e.delete($t.key===null?De:$t.key),F=g($t,F,De),Ue===null?ye=$t:Ue.sibling=$t,Ue=$t);return i&&_e.forEach(function(Ra){return s(z,Ra)}),$e&&Is(z,De),ye}function Se(z,F,Q,re){if(Q==null)throw Error(n(151));for(var ye=null,Ue=null,_e=F,De=F=0,$t=null,We=Q.next();_e!==null&&!We.done;De++,We=Q.next()){_e.index>De?($t=_e,_e=null):$t=_e.sibling;var Ra=W(z,_e,We.value,re);if(Ra===null){_e===null&&(_e=$t);break}i&&_e&&Ra.alternate===null&&s(z,_e),F=g(Ra,F,De),Ue===null?ye=Ra:Ue.sibling=Ra,Ue=Ra,_e=$t}if(We.done)return l(z,_e),$e&&Is(z,De),ye;if(_e===null){for(;!We.done;De++,We=Q.next())We=ae(z,We.value,re),We!==null&&(F=g(We,F,De),Ue===null?ye=We:Ue.sibling=We,Ue=We);return $e&&Is(z,De),ye}for(_e=c(_e);!We.done;De++,We=Q.next())We=$(_e,z,De,We.value,re),We!==null&&(i&&We.alternate!==null&&_e.delete(We.key===null?De:We.key),F=g(We,F,De),Ue===null?ye=We:Ue.sibling=We,Ue=We);return i&&_e.forEach(function(QC){return s(z,QC)}),$e&&Is(z,De),ye}function ut(z,F,Q,re){if(typeof Q=="object"&&Q!==null&&Q.type===T&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:e:{for(var ye=Q.key;F!==null;){if(F.key===ye){if(ye=Q.type,ye===T){if(F.tag===7){l(z,F.sibling),re=p(F,Q.props.children),re.return=z,z=re;break e}}else if(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&y0(ye)===F.type){l(z,F.sibling),re=p(F,Q.props),xu(re,Q),re.return=z,z=re;break e}l(z,F);break}else s(z,F);F=F.sibling}Q.type===T?(re=Rs(Q.props.children,z.mode,re,Q.key),re.return=z,z=re):(re=Dd(Q.type,Q.key,Q.props,null,z.mode,re),xu(re,Q),re.return=z,z=re)}return b(z);case S:e:{for(ye=Q.key;F!==null;){if(F.key===ye)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){l(z,F.sibling),re=p(F,Q.children||[]),re.return=z,z=re;break e}else{l(z,F);break}else s(z,F);F=F.sibling}re=Bp(Q,z.mode,re),re.return=z,z=re}return b(z);case A:return ye=Q._init,Q=ye(Q._payload),ut(z,F,Q,re)}if(we(Q))return Re(z,F,Q,re);if(B(Q)){if(ye=B(Q),typeof ye!="function")throw Error(n(150));return Q=ye.call(Q),Se(z,F,Q,re)}if(typeof Q.then=="function")return ut(z,F,Hd(Q),re);if(Q.$$typeof===H)return ut(z,F,Id(z,Q),re);zd(z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(l(z,F.sibling),re=p(F,Q),re.return=z,z=re):(l(z,F),re=jp(Q,z.mode,re),re.return=z,z=re),b(z)):l(z,F)}return function(z,F,Q,re){try{Iu=0;var ye=ut(z,F,Q,re);return Fo=null,ye}catch(_e){if(_e===wu||_e===kd)throw _e;var Ue=Bn(29,_e,null,z.mode);return Ue.lanes=re,Ue.return=z,Ue}finally{}}}var Ho=v0(!0),_0=v0(!1),ir=ne(null),Fr=null;function fa(i){var s=i.alternate;ce(Ht,Ht.current&1),ce(ir,i),Fr===null&&(s===null||Vo.current!==null||s.memoizedState!==null)&&(Fr=i)}function w0(i){if(i.tag===22){if(ce(Ht,Ht.current),ce(ir,i),Fr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Fr=i)}}else ha()}function ha(){ce(Ht,Ht.current),ce(ir,ir.current)}function Di(i){fe(ir),Fr===i&&(Fr=null),fe(Ht)}var Ht=ne(0);function qd(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||lg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function _m(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var wm={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=qn(),p=ua(c);p.payload=s,l!=null&&(p.callback=l),s=ca(i,p,c),s!==null&&(Yn(s,i,c),bu(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=qn(),p=ua(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=ca(i,p,c),s!==null&&(Yn(s,i,c),bu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=qn(),c=ua(l);c.tag=2,s!=null&&(c.callback=s),s=ca(i,c,l),s!==null&&(Yn(s,i,l),bu(s,i,l))}};function E0(i,s,l,c,p,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!fu(l,c)||!fu(p,g):!0}function b0(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&wm.enqueueReplaceState(s,s.state,null)}function Ls(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var Yd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function T0(i){Yd(i)}function S0(i){console.error(i)}function D0(i){Yd(i)}function Gd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function A0(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Em(i,s,l){return l=ua(l),l.tag=3,l.payload={element:null},l.callback=function(){Gd(i,s)},l}function R0(i){return i=ua(i),i.tag=3,i}function C0(i,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){A0(s,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){A0(s,l,c),typeof p!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function QR(i,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&yu(s,l,p,!0),l=ir.current,l!==null){switch(l.tag){case 13:return Fr===null?Ym():l.alternate===null&&Tt===0&&(Tt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===$p?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Qm(i,c,p)),!1;case 22:return l.flags|=65536,c===$p?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Qm(i,c,p)),!1}throw Error(n(435,l.tag))}return Qm(i,c,p),Ym(),!1}if($e)return s=ir.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==zp&&(i=Error(n(422),{cause:c}),gu(er(i,l)))):(c!==zp&&(s=Error(n(423),{cause:c}),gu(er(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=er(c,l),p=Em(i.stateNode,c,p),Jp(i,p),Tt!==4&&(Tt=2)),!1;var g=Error(n(520),{cause:c});if(g=er(g,l),Vu===null?Vu=[g]:Vu.push(g),Tt!==4&&(Tt=2),s===null)return!0;c=er(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Em(l.stateNode,c,i),Jp(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_a===null||!_a.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=R0(p),C0(p,i,l,c),Jp(l,p),!1}l=l.return}while(l!==null);return!1}var I0=Error(n(461)),Kt=!1;function nn(i,s,l,c){s.child=i===null?_0(s,null,l,c):Ho(s,i.child,l,c)}function x0(i,s,l,c,p){l=l.render;var g=s.ref;if("ref"in c){var b={};for(var D in c)D!=="ref"&&(b[D]=c[D])}else b=c;return Ns(s),c=im(i,s,l,b,g,p),D=am(),i!==null&&!Kt?(sm(i,s,p),Ai(i,s,p)):($e&&D&&Fp(s),s.flags|=1,nn(i,s,c,p),s.child)}function k0(i,s,l,c,p){if(i===null){var g=l.type;return typeof g=="function"&&!Up(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,M0(i,s,g,c,p)):(i=Dd(l.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Im(i,p)){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:fu,l(b,c)&&i.ref===s.ref)return Ai(i,s,p)}return s.flags|=1,i=_i(g,c),i.ref=s.ref,i.return=s,s.child=i}function M0(i,s,l,c,p){if(i!==null){var g=i.memoizedProps;if(fu(g,c)&&i.ref===s.ref)if(Kt=!1,s.pendingProps=c=g,Im(i,p))(i.flags&131072)!==0&&(Kt=!0);else return s.lanes=i.lanes,Ai(i,s,p)}return bm(i,s,l,c,p)}function N0(i,s,l){var c=s.pendingProps,p=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,i!==null){for(p=s.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return O0(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&xd(s,g!==null?g.cachePool:null),g!==null?M_(s,g):tm(),w0(s);else return s.lanes=s.childLanes=536870912,O0(i,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(xd(s,g.cachePool),M_(s,g),ha(),s.memoizedState=null):(i!==null&&xd(s,null),tm(),ha());return nn(i,s,p,l),s.child}function O0(i,s,l,c){var p=Wp();return p=p===null?null:{parent:Ft._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},i!==null&&xd(s,null),tm(),w0(s),i!==null&&yu(i,s,c,!0),null}function Qd(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function bm(i,s,l,c,p){return Ns(s),l=im(i,s,l,c,void 0,p),c=am(),i!==null&&!Kt?(sm(i,s,p),Ai(i,s,p)):($e&&c&&Fp(s),s.flags|=1,nn(i,s,l,p),s.child)}function P0(i,s,l,c,p,g){return Ns(s),s.updateQueue=null,l=O_(s,c,l,p),N_(i),c=am(),i!==null&&!Kt?(sm(i,s,g),Ai(i,s,g)):($e&&c&&Fp(s),s.flags|=1,nn(i,s,l,g),s.child)}function L0(i,s,l,c,p){if(Ns(s),s.stateNode===null){var g=Mo,b=l.contextType;typeof b=="object"&&b!==null&&(g=fn(b)),g=new l(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=wm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Xp(s),b=l.contextType,g.context=typeof b=="object"&&b!==null?fn(b):Mo,g.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(_m(s,l,b,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&wm.enqueueReplaceState(g,g.state,null),Su(s,c,g,p),Tu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var D=s.memoizedProps,L=Ls(l,D);g.props=L;var K=g.context,te=l.contextType;b=Mo,typeof te=="object"&&te!==null&&(b=fn(te));var ae=l.getDerivedStateFromProps;te=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||K!==b)&&b0(s,g,c,b),la=!1;var W=s.memoizedState;g.state=W,Su(s,c,g,p),Tu(),K=s.memoizedState,D||W!==K||la?(typeof ae=="function"&&(_m(s,l,ae,c),K=s.memoizedState),(L=la||E0(s,l,L,c,W,K,b))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=b,c=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Zp(i,s),b=s.memoizedProps,te=Ls(l,b),g.props=te,ae=s.pendingProps,W=g.context,K=l.contextType,L=Mo,typeof K=="object"&&K!==null&&(L=fn(K)),D=l.getDerivedStateFromProps,(K=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ae||W!==L)&&b0(s,g,c,L),la=!1,W=s.memoizedState,g.state=W,Su(s,c,g,p),Tu();var $=s.memoizedState;b!==ae||W!==$||la||i!==null&&i.dependencies!==null&&Cd(i.dependencies)?(typeof D=="function"&&(_m(s,l,D,c),$=s.memoizedState),(te=la||E0(s,l,te,c,W,$,L)||i!==null&&i.dependencies!==null&&Cd(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,$,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,$,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=$),g.props=c,g.state=$,g.context=L,c=te):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Qd(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Ho(s,i.child,null,p),s.child=Ho(s,null,l,p)):nn(i,s,l,p),s.memoizedState=g.state,i=s.child):i=Ai(i,s,p),i}function V0(i,s,l,c){return mu(),s.flags|=256,nn(i,s,l,c),s.child}var Tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sm(i){return{baseLanes:i,cachePool:S_()}}function Dm(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ar),i}function U0(i,s,l){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Ht.current&2)!==0),b&&(p=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if($e){if(p?fa(s):ha(),$e){var D=bt,L;if(L=D){e:{for(L=D,D=Br;L.nodeType!==8;){if(!D){D=null;break e}if(L=vr(L.nextSibling),L===null){D=null;break e}}D=L}D!==null?(s.memoizedState={dehydrated:D,treeContext:Cs!==null?{id:wi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},L=Bn(18,null,null,0),L.stateNode=D,L.return=s,s.child=L,Dn=s,bt=null,L=!0):L=!1}L||ks(s)}if(D=s.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return lg(D)?s.lanes=32:s.lanes=536870912,null;Di(s)}return D=c.children,c=c.fallback,p?(ha(),p=s.mode,D=Kd({mode:"hidden",children:D},p),c=Rs(c,p,l,null),D.return=s,c.return=s,D.sibling=c,s.child=D,p=s.child,p.memoizedState=Sm(l),p.childLanes=Dm(i,b,l),s.memoizedState=Tm,c):(fa(s),Am(s,D))}if(L=i.memoizedState,L!==null&&(D=L.dehydrated,D!==null)){if(g)s.flags&256?(fa(s),s.flags&=-257,s=Rm(i,s,l)):s.memoizedState!==null?(ha(),s.child=i.child,s.flags|=128,s=null):(ha(),p=c.fallback,D=s.mode,c=Kd({mode:"visible",children:c.children},D),p=Rs(p,D,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Ho(s,i.child,null,l),c=s.child,c.memoizedState=Sm(l),c.childLanes=Dm(i,b,l),s.memoizedState=Tm,s=p);else if(fa(s),lg(D)){if(b=D.nextSibling&&D.nextSibling.dataset,b)var K=b.dgst;b=K,c=Error(n(419)),c.stack="",c.digest=b,gu({value:c,source:null,stack:null}),s=Rm(i,s,l)}else if(Kt||yu(i,s,l,!1),b=(l&i.childLanes)!==0,Kt||b){if(b=ft,b!==null&&(c=l&-l,c=(c&42)!==0?1:ea(c),c=(c&(b.suspendedLanes|l))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,ko(i,c),Yn(b,i,c),I0;D.data==="$?"||Ym(),s=Rm(i,s,l)}else D.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,bt=vr(D.nextSibling),Dn=s,$e=!0,xs=null,Br=!1,i!==null&&(nr[rr++]=wi,nr[rr++]=Ei,nr[rr++]=Cs,wi=i.id,Ei=i.overflow,Cs=s),s=Am(s,c.children),s.flags|=4096);return s}return p?(ha(),p=c.fallback,D=s.mode,L=i.child,K=L.sibling,c=_i(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,K!==null?p=_i(K,p):(p=Rs(p,D,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,D=i.child.memoizedState,D===null?D=Sm(l):(L=D.cachePool,L!==null?(K=Ft._currentValue,L=L.parent!==K?{parent:K,pool:K}:L):L=S_(),D={baseLanes:D.baseLanes|l,cachePool:L}),p.memoizedState=D,p.childLanes=Dm(i,b,l),s.memoizedState=Tm,c):(fa(s),l=i.child,i=l.sibling,l=_i(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=l,s.memoizedState=null,l)}function Am(i,s){return s=Kd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Kd(i,s){return i=Bn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Rm(i,s,l){return Ho(s,i.child,null,l),i=Am(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function j0(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Yp(i.return,s,l)}function Cm(i,s,l,c,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=p)}function B0(i,s,l){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(nn(i,s,c.children,l),c=Ht.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&j0(i,l,s);else if(i.tag===19)j0(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(ce(Ht,c),p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&qd(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Cm(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&qd(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Cm(s,!0,l,null,g);break;case"together":Cm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ai(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),va|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(yu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,l=_i(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=_i(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Im(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Cd(i)))}function KR(i,s,l){switch(s.tag){case 3:dt(s,s.stateNode.containerInfo),oa(s,Ft,i.memoizedState.cache),mu();break;case 27:case 5:Ji(s);break;case 4:dt(s,s.stateNode.containerInfo);break;case 10:oa(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(fa(s),s.flags|=128,null):(l&s.child.childLanes)!==0?U0(i,s,l):(fa(s),i=Ai(i,s,l),i!==null?i.sibling:null);fa(s);break;case 19:var p=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(yu(i,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return B0(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ce(Ht,Ht.current),c)break;return null;case 22:case 23:return s.lanes=0,N0(i,s,l);case 24:oa(s,Ft,i.memoizedState.cache)}return Ai(i,s,l)}function F0(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Kt=!0;else{if(!Im(i,l)&&(s.flags&128)===0)return Kt=!1,KR(i,s,l);Kt=(i.flags&131072)!==0}else Kt=!1,$e&&(s.flags&1048576)!==0&&y_(s,Rd,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")Up(c)?(i=Ls(c,i),s.tag=1,s=L0(null,s,c,i,l)):(s.tag=0,s=bm(null,s,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===X){s.tag=11,s=x0(null,s,c,i,l);break e}else if(p===N){s.tag=14,s=k0(null,s,c,i,l);break e}}throw s=Me(c)||c,Error(n(306,s,""))}}return s;case 0:return bm(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=Ls(c,s.pendingProps),L0(i,s,c,p,l);case 3:e:{if(dt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,Zp(i,s),Su(s,c,null,l);var b=s.memoizedState;if(c=b.cache,oa(s,Ft,c),c!==g.cache&&Gp(s,[Ft],l,!0),Tu(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=V0(i,s,c,l);break e}else if(c!==p){p=er(Error(n(424)),s),gu(p),s=V0(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(bt=vr(i.firstChild),Dn=s,$e=!0,xs=null,Br=!0,l=_0(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(mu(),c===p){s=Ai(i,s,l);break e}nn(i,s,c,l)}s=s.child}return s;case 26:return Qd(i,s),i===null?(l=Yw(s.type,null,s.pendingProps,null))?s.memoizedState=l:$e||(l=s.type,i=s.pendingProps,c=uf(Ie.current).createElement(l),c[Ut]=s,c[Mt]=i,an(c,l,i),At(c),s.stateNode=c):s.memoizedState=Yw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ji(s),i===null&&$e&&(c=s.stateNode=Hw(s.type,s.pendingProps,Ie.current),Dn=s,Br=!0,p=bt,ba(s.type)?(ug=p,bt=vr(c.firstChild)):bt=p),nn(i,s,s.pendingProps.children,l),Qd(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&$e&&((p=c=bt)&&(c=bC(c,s.type,s.pendingProps,Br),c!==null?(s.stateNode=c,Dn=s,bt=vr(c.firstChild),Br=!1,p=!0):p=!1),p||ks(s)),Ji(s),p=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,ag(p,g)?c=null:b!==null&&ag(p,b)&&(s.flags|=32),s.memoizedState!==null&&(p=im(i,s,BR,null,null,l),Gu._currentValue=p),Qd(i,s),nn(i,s,c,l),s.child;case 6:return i===null&&$e&&((i=l=bt)&&(l=TC(l,s.pendingProps,Br),l!==null?(s.stateNode=l,Dn=s,bt=null,i=!0):i=!1),i||ks(s)),null;case 13:return U0(i,s,l);case 4:return dt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Ho(s,null,c,l):nn(i,s,c,l),s.child;case 11:return x0(i,s,s.type,s.pendingProps,l);case 7:return nn(i,s,s.pendingProps,l),s.child;case 8:return nn(i,s,s.pendingProps.children,l),s.child;case 12:return nn(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,oa(s,s.type,c.value),nn(i,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Ns(s),p=fn(p),c=c(p),s.flags|=1,nn(i,s,c,l),s.child;case 14:return k0(i,s,s.type,s.pendingProps,l);case 15:return M0(i,s,s.type,s.pendingProps,l);case 19:return B0(i,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},i===null?(l=Kd(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=_i(i.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return N0(i,s,l);case 24:return Ns(s),c=fn(Ft),i===null?(p=Wp(),p===null&&(p=ft,g=Qp(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),s.memoizedState={parent:c,cache:p},Xp(s),oa(s,Ft,p)):((i.lanes&l)!==0&&(Zp(i,s),Su(s,null,null,l),Tu()),p=i.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),oa(s,Ft,c)):(c=g.cache,oa(s,Ft,c),c!==p.cache&&Gp(s,[Ft],l,!0))),nn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Ri(i){i.flags|=4}function H0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!$w(s)){if(s=ir.current,s!==null&&((Ye&4194048)===Ye?Fr!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||s!==Fr))throw Eu=$p,D_;i.flags|=8192}}function Wd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Kl():536870912,i.lanes|=s,Go|=s)}function ku(i,s){if(!$e)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function vt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function WR(i,s,l){var c=s.pendingProps;switch(Hp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ti(Ft),Cr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(pu(s)?Ri(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,w_())),vt(s),null;case 26:return l=s.memoizedState,i===null?(Ri(s),l!==null?(vt(s),H0(s,l)):(vt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(Ri(s),vt(s),H0(s,l)):(vt(s),s.flags&=-16777217):(i.memoizedProps!==c&&Ri(s),vt(s),s.flags&=-16777217),null;case 27:si(s),l=Ie.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ri(s);else{if(!c){if(s.stateNode===null)throw Error(n(166));return vt(s),null}i=Te.current,pu(s)?v_(s):(i=Hw(p,c,l),s.stateNode=i,Ri(s))}return vt(s),null;case 5:if(si(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ri(s);else{if(!c){if(s.stateNode===null)throw Error(n(166));return vt(s),null}if(i=Te.current,pu(s))v_(s);else{switch(p=uf(Ie.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[Ut]=s,i[Mt]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(an(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ri(s)}}return vt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Ri(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(i=Ie.current,pu(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,p=Dn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Ut]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Pw(i.nodeValue,l)),i||ks(s)}else i=uf(i).createTextNode(c),i[Ut]=s,s.stateNode=i}return vt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=pu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Ut]=s}else mu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),p=!1}else p=w_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Di(s),s):(Di(s),null)}if(Di(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Wd(s,s.updateQueue),vt(s),null;case 4:return Cr(),i===null&&eg(s.stateNode.containerInfo),vt(s),null;case 10:return Ti(s.type),vt(s),null;case 19:if(fe(Ht),p=s.memoizedState,p===null)return vt(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)ku(p,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=qd(i),g!==null){for(s.flags|=128,ku(p,!1),i=g.updateQueue,s.updateQueue=i,Wd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)g_(l,i),l=l.sibling;return ce(Ht,Ht.current&1|2),s.child}i=i.sibling}p.tail!==null&&Kn()>Zd&&(s.flags|=128,c=!0,ku(p,!1),s.lanes=4194304)}else{if(!c)if(i=qd(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,Wd(s,i),ku(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!$e)return vt(s),null}else 2*Kn()-p.renderingStartTime>Zd&&l!==536870912&&(s.flags|=128,c=!0,ku(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(i=p.last,i!==null?i.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Kn(),s.sibling=null,i=Ht.current,ce(Ht,c?i&1|2:i&1),s):(vt(s),null);case 22:case 23:return Di(s),nm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),l=s.updateQueue,l!==null&&Wd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&fe(Os),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ti(Ft),vt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function $R(i,s){switch(Hp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ti(Ft),Cr(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return si(s),null;case 13:if(Di(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));mu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return fe(Ht),null;case 4:return Cr(),null;case 10:return Ti(s.type),null;case 22:case 23:return Di(s),nm(),i!==null&&fe(Os),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ti(Ft),null;case 25:return null;default:return null}}function z0(i,s){switch(Hp(s),s.tag){case 3:Ti(Ft),Cr();break;case 26:case 27:case 5:si(s);break;case 4:Cr();break;case 13:Di(s);break;case 19:fe(Ht);break;case 10:Ti(s.type);break;case 22:case 23:Di(s),nm(),i!==null&&fe(Os);break;case 24:Ti(Ft)}}function Mu(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var g=l.create,b=l.inst;c=g(),b.destroy=c}l=l.next}while(l!==p)}}catch(D){ct(s,s.return,D)}}function pa(i,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var b=c.inst,D=b.destroy;if(D!==void 0){b.destroy=void 0,p=s;var L=l,K=D;try{K()}catch(te){ct(p,L,te)}}}c=c.next}while(c!==g)}}catch(te){ct(s,s.return,te)}}function q0(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{k_(s,l)}catch(c){ct(i,i.return,c)}}}function Y0(i,s,l){l.props=Ls(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){ct(i,s,c)}}function Nu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){ct(i,s,p)}}function Hr(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){ct(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ct(i,s,p)}else l.current=null}function G0(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){ct(i,i.return,p)}}function xm(i,s,l){try{var c=i.stateNode;yC(c,i.type,l,s),c[Mt]=s}catch(p){ct(i,i.return,p)}}function Q0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ba(i.type)||i.tag===4}function km(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Q0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ba(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mm(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=lf));else if(c!==4&&(c===27&&ba(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Mm(i,s,l),i=i.sibling;i!==null;)Mm(i,s,l),i=i.sibling}function $d(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&ba(i.type)&&(l=i.stateNode),i=i.child,i!==null))for($d(i,s,l),i=i.sibling;i!==null;)$d(i,s,l),i=i.sibling}function K0(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);an(s,c,l),s[Ut]=i,s[Mt]=l}catch(g){ct(i,i.return,g)}}var Ci=!1,Ct=!1,Nm=!1,W0=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function XR(i,s){if(i=i.containerInfo,rg=mf,i=s_(i),kp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,D=-1,L=-1,K=0,te=0,ae=i,W=null;t:for(;;){for(var $;ae!==l||p!==0&&ae.nodeType!==3||(D=b+p),ae!==g||c!==0&&ae.nodeType!==3||(L=b+c),ae.nodeType===3&&(b+=ae.nodeValue.length),($=ae.firstChild)!==null;)W=ae,ae=$;for(;;){if(ae===i)break t;if(W===l&&++K===p&&(D=b),W===g&&++te===c&&(L=b),($=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=$}l=D===-1||L===-1?null:{start:D,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(ig={focusedElem:i,selectionRange:l},mf=!1,Wt=s;Wt!==null;)if(s=Wt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Wt=i;else for(;Wt!==null;){switch(s=Wt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=s,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Re=Ls(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Re,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Se){ct(l,l.return,Se)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)og(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":og(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Wt=i;break}Wt=s.return}}function $0(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ma(i,l),c&4&&Mu(5,l);break;case 1:if(ma(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(b){ct(l,l.return,b)}else{var p=Ls(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ct(l,l.return,b)}}c&64&&q0(l),c&512&&Nu(l,l.return);break;case 3:if(ma(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{k_(i,s)}catch(b){ct(l,l.return,b)}}break;case 27:s===null&&c&4&&K0(l);case 26:case 5:ma(i,l),s===null&&c&4&&G0(l),c&512&&Nu(l,l.return);break;case 12:ma(i,l);break;case 13:ma(i,l),c&4&&J0(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=sC.bind(null,l),SC(i,l))));break;case 22:if(c=l.memoizedState!==null||Ci,!c){s=s!==null&&s.memoizedState!==null||Ct,p=Ci;var g=Ct;Ci=c,(Ct=s)&&!g?ga(i,l,(l.subtreeFlags&8772)!==0):ma(i,l),Ci=p,Ct=g}break;case 30:break;default:ma(i,l)}}function X0(i){var s=i.alternate;s!==null&&(i.alternate=null,X0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ra(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var mt=null,xn=!1;function Ii(i,s,l){for(l=l.child;l!==null;)Z0(i,s,l),l=l.sibling}function Z0(i,s,l){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Et,l)}catch{}switch(l.tag){case 26:Ct||Hr(l,s),Ii(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ct||Hr(l,s);var c=mt,p=xn;ba(l.type)&&(mt=l.stateNode,xn=!1),Ii(i,s,l),Hu(l.stateNode),mt=c,xn=p;break;case 5:Ct||Hr(l,s);case 6:if(c=mt,p=xn,mt=null,Ii(i,s,l),mt=c,xn=p,mt!==null)if(xn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(l.stateNode)}catch(g){ct(l,s,g)}else try{mt.removeChild(l.stateNode)}catch(g){ct(l,s,g)}break;case 18:mt!==null&&(xn?(i=mt,Bw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),$u(i)):Bw(mt,l.stateNode));break;case 4:c=mt,p=xn,mt=l.stateNode.containerInfo,xn=!0,Ii(i,s,l),mt=c,xn=p;break;case 0:case 11:case 14:case 15:Ct||pa(2,l,s),Ct||pa(4,l,s),Ii(i,s,l);break;case 1:Ct||(Hr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Y0(l,s,c)),Ii(i,s,l);break;case 21:Ii(i,s,l);break;case 22:Ct=(c=Ct)||l.memoizedState!==null,Ii(i,s,l),Ct=c;break;default:Ii(i,s,l)}}function J0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{$u(i)}catch(l){ct(s,s.return,l)}}function ZR(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new W0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new W0),s;default:throw Error(n(435,i.tag))}}function Om(i,s){var l=ZR(i);s.forEach(function(c){var p=oC.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function Fn(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=i,b=s,D=b;e:for(;D!==null;){switch(D.tag){case 27:if(ba(D.type)){mt=D.stateNode,xn=!1;break e}break;case 5:mt=D.stateNode,xn=!1;break e;case 3:case 4:mt=D.stateNode.containerInfo,xn=!0;break e}D=D.return}if(mt===null)throw Error(n(160));Z0(g,b,p),mt=null,xn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ew(s,i),s=s.sibling}var yr=null;function ew(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Fn(s,i),Hn(i),c&4&&(pa(3,i,i.return),Mu(3,i),pa(5,i,i.return));break;case 1:Fn(s,i),Hn(i),c&512&&(Ct||l===null||Hr(l,l.return)),c&64&&Ci&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=yr;if(Fn(s,i),Hn(i),c&512&&(Ct||l===null||Hr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ds]||g[Ut]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),an(g,c,l),g[Ut]=i,At(g),c=g;break e;case"link":var b=Kw("link","href",p).get(c+(l.href||""));if(b){for(var D=0;D<b.length;D++)if(g=b[D],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(D,1);break t}}g=p.createElement(c),an(g,c,l),p.head.appendChild(g);break;case"meta":if(b=Kw("meta","content",p).get(c+(l.content||""))){for(D=0;D<b.length;D++)if(g=b[D],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(D,1);break t}}g=p.createElement(c),an(g,c,l),p.head.appendChild(g);break;default:throw Error(n(468,c))}g[Ut]=i,At(g),c=g}i.stateNode=c}else Ww(p,i.type,i.stateNode);else i.stateNode=Qw(p,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?Ww(p,i.type,i.stateNode):Qw(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&xm(i,i.memoizedProps,l.memoizedProps)}break;case 27:Fn(s,i),Hn(i),c&512&&(Ct||l===null||Hr(l,l.return)),l!==null&&c&4&&xm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Fn(s,i),Hn(i),c&512&&(Ct||l===null||Hr(l,l.return)),i.flags&32){p=i.stateNode;try{$n(p,"")}catch($){ct(i,i.return,$)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,xm(i,p,l!==null?l.memoizedProps:p)),c&1024&&(Nm=!0);break;case 6:if(Fn(s,i),Hn(i),c&4){if(i.stateNode===null)throw Error(n(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch($){ct(i,i.return,$)}}break;case 3:if(ff=null,p=yr,yr=cf(s.containerInfo),Fn(s,i),yr=p,Hn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{$u(s.containerInfo)}catch($){ct(i,i.return,$)}Nm&&(Nm=!1,tw(i));break;case 4:c=yr,yr=cf(i.stateNode.containerInfo),Fn(s,i),Hn(i),yr=c;break;case 12:Fn(s,i),Hn(i);break;case 13:Fn(s,i),Hn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Bm=Kn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Om(i,c)));break;case 22:p=i.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,K=Ci,te=Ct;if(Ci=K||p,Ct=te||L,Fn(s,i),Ct=te,Ci=K,Hn(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||L||Ci||Ct||Vs(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){L=l=s;try{if(g=L.stateNode,p)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{D=L.stateNode;var ae=L.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;D.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch($){ct(L,L.return,$)}}}else if(s.tag===6){if(l===null){L=s;try{L.stateNode.nodeValue=p?"":L.memoizedProps}catch($){ct(L,L.return,$)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Om(i,l))));break;case 19:Fn(s,i),Hn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Om(i,c)));break;case 30:break;case 21:break;default:Fn(s,i),Hn(i)}}function Hn(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(Q0(c)){l=c;break}c=c.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,g=km(i);$d(i,g,p);break;case 5:var b=l.stateNode;l.flags&32&&($n(b,""),l.flags&=-33);var D=km(i);$d(i,D,b);break;case 3:case 4:var L=l.stateNode.containerInfo,K=km(i);Mm(i,K,L);break;default:throw Error(n(161))}}catch(te){ct(i,i.return,te)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function tw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;tw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ma(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)$0(i,s.alternate,s),s=s.sibling}function Vs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:pa(4,s,s.return),Vs(s);break;case 1:Hr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Y0(s,s.return,l),Vs(s);break;case 27:Hu(s.stateNode);case 26:case 5:Hr(s,s.return),Vs(s);break;case 22:s.memoizedState===null&&Vs(s);break;case 30:Vs(s);break;default:Vs(s)}i=i.sibling}}function ga(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:ga(p,g,l),Mu(4,g);break;case 1:if(ga(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){ct(c,c.return,K)}if(c=g,p=c.updateQueue,p!==null){var D=c.stateNode;try{var L=p.shared.hiddenCallbacks;if(L!==null)for(p.shared.hiddenCallbacks=null,p=0;p<L.length;p++)x_(L[p],D)}catch(K){ct(c,c.return,K)}}l&&b&64&&q0(g),Nu(g,g.return);break;case 27:K0(g);case 26:case 5:ga(p,g,l),l&&c===null&&b&4&&G0(g),Nu(g,g.return);break;case 12:ga(p,g,l);break;case 13:ga(p,g,l),l&&b&4&&J0(p,g);break;case 22:g.memoizedState===null&&ga(p,g,l),Nu(g,g.return);break;case 30:break;default:ga(p,g,l)}s=s.sibling}}function Pm(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&vu(l))}function Lm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&vu(i))}function zr(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nw(i,s,l,c),s=s.sibling}function nw(i,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:zr(i,s,l,c),p&2048&&Mu(9,s);break;case 1:zr(i,s,l,c);break;case 3:zr(i,s,l,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&vu(i)));break;case 12:if(p&2048){zr(i,s,l,c),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,D=g.onPostCommit;typeof D=="function"&&D(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){ct(s,s.return,L)}}else zr(i,s,l,c);break;case 13:zr(i,s,l,c);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?zr(i,s,l,c):Ou(i,s):g._visibility&2?zr(i,s,l,c):(g._visibility|=2,zo(i,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&Pm(b,s);break;case 24:zr(i,s,l,c),p&2048&&Lm(s.alternate,s);break;default:zr(i,s,l,c)}}function zo(i,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,D=l,L=c,K=b.flags;switch(b.tag){case 0:case 11:case 15:zo(g,b,D,L,p),Mu(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?zo(g,b,D,L,p):Ou(g,b):(te._visibility|=2,zo(g,b,D,L,p)),p&&K&2048&&Pm(b.alternate,b);break;case 24:zo(g,b,D,L,p),p&&K&2048&&Lm(b.alternate,b);break;default:zo(g,b,D,L,p)}s=s.sibling}}function Ou(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,p=c.flags;switch(c.tag){case 22:Ou(l,c),p&2048&&Pm(c.alternate,c);break;case 24:Ou(l,c),p&2048&&Lm(c.alternate,c);break;default:Ou(l,c)}s=s.sibling}}var Pu=8192;function qo(i){if(i.subtreeFlags&Pu)for(i=i.child;i!==null;)rw(i),i=i.sibling}function rw(i){switch(i.tag){case 26:qo(i),i.flags&Pu&&i.memoizedState!==null&&VC(yr,i.memoizedState,i.memoizedProps);break;case 5:qo(i);break;case 3:case 4:var s=yr;yr=cf(i.stateNode.containerInfo),qo(i),yr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Pu,Pu=16777216,qo(i),Pu=s):qo(i));break;default:qo(i)}}function iw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Lu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Wt=c,sw(c,i)}iw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aw(i),i=i.sibling}function aw(i){switch(i.tag){case 0:case 11:case 15:Lu(i),i.flags&2048&&pa(9,i,i.return);break;case 3:Lu(i);break;case 12:Lu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Xd(i)):Lu(i);break;default:Lu(i)}}function Xd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Wt=c,sw(c,i)}iw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:pa(8,s,s.return),Xd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Xd(s));break;default:Xd(s)}i=i.sibling}}function sw(i,s){for(;Wt!==null;){var l=Wt;switch(l.tag){case 0:case 11:case 15:pa(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:vu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Wt=c;else e:for(l=i;Wt!==null;){c=Wt;var p=c.sibling,g=c.return;if(X0(c),c===l){Wt=null;break e}if(p!==null){p.return=g,Wt=p;break e}Wt=g}}}var JR={getCacheForType:function(i){var s=fn(Ft),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},eC=typeof WeakMap=="function"?WeakMap:Map,nt=0,ft=null,je=null,Ye=0,rt=0,zn=null,ya=!1,Yo=!1,Vm=!1,xi=0,Tt=0,va=0,Us=0,Um=0,ar=0,Go=0,Vu=null,kn=null,jm=!1,Bm=0,Zd=1/0,Jd=null,_a=null,rn=0,wa=null,Qo=null,Ko=0,Fm=0,Hm=null,ow=null,Uu=0,zm=null;function qn(){if((nt&2)!==0&&Ye!==0)return Ye&-Ye;if(Y.T!==null){var i=Po;return i!==0?i:$m()}return ta()}function lw(){ar===0&&(ar=(Ye&536870912)===0||$e?Ql():536870912);var i=ir.current;return i!==null&&(i.flags|=32),ar}function Yn(i,s,l){(i===ft&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(Wo(i,0),Ea(i,Ye,ar,!1)),li(i,l),((nt&2)===0||i!==ft)&&(i===ft&&((nt&2)===0&&(Us|=l),Tt===4&&Ea(i,Ye,ar,!1)),qr(i))}function uw(i,s,l){if((nt&6)!==0)throw Error(n(327));var c=!l&&(s&124)===0&&(s&i.expiredLanes)===0||cs(i,s),p=c?rC(i,s):Gm(i,s,!0),g=c;do{if(p===0){Yo&&!c&&Ea(i,s,0,!1);break}else{if(l=i.current.alternate,g&&!tC(l)){p=Gm(i,s,!1),g=!1;continue}if(p===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var D=i;p=Vu;var L=D.current.memoizedState.isDehydrated;if(L&&(Wo(D,b).flags|=256),b=Gm(D,b,!1),b!==2){if(Vm&&!L){D.errorRecoveryDisabledLanes|=g,Us|=g,p=4;break e}g=kn,kn=p,g!==null&&(kn===null?kn=g:kn.push.apply(kn,g))}p=b}if(g=!1,p!==2)continue}}if(p===1){Wo(i,0),Ea(i,s,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Ea(c,s,ar,!ya);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(p=Bm+300-Kn(),10<p)){if(Ea(c,s,ar,!ya),fo(c,0,!0)!==0)break e;c.timeoutHandle=Uw(cw.bind(null,c,l,kn,Jd,jm,s,ar,Us,Go,ya,g,2,-0,0),p);break e}cw(c,l,kn,Jd,jm,s,ar,Us,Go,ya,g,0,-0,0)}}break}while(!0);qr(i)}function cw(i,s,l,c,p,g,b,D,L,K,te,ae,W,$){if(i.timeoutHandle=-1,ae=s.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Yu={stylesheets:null,count:0,unsuspend:LC},rw(s),ae=UC(),ae!==null)){i.cancelPendingCommit=ae(yw.bind(null,i,s,g,l,c,p,b,D,L,te,1,W,$)),Ea(i,g,b,!K);return}yw(i,s,g,l,c,p,b,D,L)}function tC(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!jn(g(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ea(i,s,l,c){s&=~Um,s&=~Us,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var g=31-dn(p),b=1<<g;c[g]=-1,p&=~b}l!==0&&Ir(i,l,s)}function ef(){return(nt&6)===0?(ju(0),!1):!0}function qm(){if(je!==null){if(rt===0)var i=je.return;else i=je,bi=Ms=null,om(i),Fo=null,Iu=0,i=je;for(;i!==null;)z0(i.alternate,i),i=i.return;je=null}}function Wo(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,_C(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),qm(),ft=i,je=l=_i(i.current,null),Ye=s,rt=0,zn=null,ya=!1,Yo=cs(i,s),Vm=!1,Go=ar=Um=Us=va=Tt=0,kn=Vu=null,jm=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-dn(c),g=1<<p;s|=i[p],c&=~g}return xi=s,bd(),l}function dw(i,s){Oe=null,Y.H=Fd,s===wu||s===kd?(s=C_(),rt=3):s===D_?(s=C_(),rt=4):rt=s===I0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,je===null&&(Tt=1,Gd(i,er(s,i.current)))}function fw(){var i=Y.H;return Y.H=Fd,i===null?Fd:i}function hw(){var i=Y.A;return Y.A=JR,i}function Ym(){Tt=4,ya||(Ye&4194048)!==Ye&&ir.current!==null||(Yo=!0),(va&134217727)===0&&(Us&134217727)===0||ft===null||Ea(ft,Ye,ar,!1)}function Gm(i,s,l){var c=nt;nt|=2;var p=fw(),g=hw();(ft!==i||Ye!==s)&&(Jd=null,Wo(i,s)),s=!1;var b=Tt;e:do try{if(rt!==0&&je!==null){var D=je,L=zn;switch(rt){case 8:qm(),b=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(s=!0);var K=rt;if(rt=0,zn=null,$o(i,D,L,K),l&&Yo){b=0;break e}break;default:K=rt,rt=0,zn=null,$o(i,D,L,K)}}nC(),b=Tt;break}catch(te){dw(i,te)}while(!0);return s&&i.shellSuspendCounter++,bi=Ms=null,nt=c,Y.H=p,Y.A=g,je===null&&(ft=null,Ye=0,bd()),b}function nC(){for(;je!==null;)pw(je)}function rC(i,s){var l=nt;nt|=2;var c=fw(),p=hw();ft!==i||Ye!==s?(Jd=null,Zd=Kn()+500,Wo(i,s)):Yo=cs(i,s);e:do try{if(rt!==0&&je!==null){s=je;var g=zn;t:switch(rt){case 1:rt=0,zn=null,$o(i,s,g,1);break;case 2:case 9:if(A_(g)){rt=0,zn=null,mw(s);break}s=function(){rt!==2&&rt!==9||ft!==i||(rt=7),qr(i)},g.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:A_(g)?(rt=0,zn=null,mw(s)):(rt=0,zn=null,$o(i,s,g,7));break;case 5:var b=null;switch(je.tag){case 26:b=je.memoizedState;case 5:case 27:var D=je;if(!b||$w(b)){rt=0,zn=null;var L=D.sibling;if(L!==null)je=L;else{var K=D.return;K!==null?(je=K,tf(K)):je=null}break t}}rt=0,zn=null,$o(i,s,g,5);break;case 6:rt=0,zn=null,$o(i,s,g,6);break;case 8:qm(),Tt=6;break e;default:throw Error(n(462))}}iC();break}catch(te){dw(i,te)}while(!0);return bi=Ms=null,Y.H=c,Y.A=p,nt=l,je!==null?0:(ft=null,Ye=0,bd(),Tt)}function iC(){for(;je!==null&&!zl();)pw(je)}function pw(i){var s=F0(i.alternate,i,xi);i.memoizedProps=i.pendingProps,s===null?tf(i):je=s}function mw(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=P0(l,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=P0(l,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:om(s);default:z0(l,s),s=je=g_(s,xi),s=F0(l,s,xi)}i.memoizedProps=i.pendingProps,s===null?tf(i):je=s}function $o(i,s,l,c){bi=Ms=null,om(s),Fo=null,Iu=0;var p=s.return;try{if(QR(i,p,s,l,Ye)){Tt=1,Gd(i,er(l,i.current)),je=null;return}}catch(g){if(p!==null)throw je=p,g;Tt=1,Gd(i,er(l,i.current)),je=null;return}s.flags&32768?($e||c===1?i=!0:Yo||(Ye&536870912)!==0?i=!1:(ya=i=!0,(c===2||c===9||c===3||c===6)&&(c=ir.current,c!==null&&c.tag===13&&(c.flags|=16384))),gw(s,i)):tf(s)}function tf(i){var s=i;do{if((s.flags&32768)!==0){gw(s,ya);return}i=s.return;var l=WR(s.alternate,s,xi);if(l!==null){je=l;return}if(s=s.sibling,s!==null){je=s;return}je=s=i}while(s!==null);Tt===0&&(Tt=5)}function gw(i,s){do{var l=$R(i.alternate,i);if(l!==null){l.flags&=32767,je=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){je=i;return}je=i=l}while(i!==null);Tt=6,je=null}function yw(i,s,l,c,p,g,b,D,L){i.cancelPendingCommit=null;do nf();while(rn!==0);if((nt&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(g=s.lanes|s.childLanes,g|=Lp,Wl(i,l,g,b,D,L),i===ft&&(je=ft=null,Ye=0),Qo=s,wa=i,Ko=l,Fm=g,Hm=p,ow=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,lC(ss,function(){return bw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,p=ie.p,ie.p=2,b=nt,nt|=4;try{XR(i,s,l)}finally{nt=b,ie.p=p,Y.T=c}}rn=1,vw(),_w(),ww()}}function vw(){if(rn===1){rn=0;var i=wa,s=Qo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var c=ie.p;ie.p=2;var p=nt;nt|=4;try{ew(s,i);var g=ig,b=s_(i.containerInfo),D=g.focusedElem,L=g.selectionRange;if(b!==D&&D&&D.ownerDocument&&a_(D.ownerDocument.documentElement,D)){if(L!==null&&kp(D)){var K=L.start,te=L.end;if(te===void 0&&(te=K),"selectionStart"in D)D.selectionStart=K,D.selectionEnd=Math.min(te,D.value.length);else{var ae=D.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var $=W.getSelection(),Re=D.textContent.length,Se=Math.min(L.start,Re),ut=L.end===void 0?Se:Math.min(L.end,Re);!$.extend&&Se>ut&&(b=ut,ut=Se,Se=b);var z=i_(D,Se),F=i_(D,ut);if(z&&F&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==F.node||$.focusOffset!==F.offset)){var Q=ae.createRange();Q.setStart(z.node,z.offset),$.removeAllRanges(),Se>ut?($.addRange(Q),$.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),$.addRange(Q))}}}}for(ae=[],$=D;$=$.parentNode;)$.nodeType===1&&ae.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ae.length;D++){var re=ae[D];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}mf=!!rg,ig=rg=null}finally{nt=p,ie.p=c,Y.T=l}}i.current=s,rn=2}}function _w(){if(rn===2){rn=0;var i=wa,s=Qo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var c=ie.p;ie.p=2;var p=nt;nt|=4;try{$0(i,s.alternate,s)}finally{nt=p,ie.p=c,Y.T=l}}rn=3}}function ww(){if(rn===4||rn===3){rn=0,Xc();var i=wa,s=Qo,l=Ko,c=ow;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?rn=5:(rn=0,Qo=wa=null,Ew(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(_a=null),ho(l),s=s.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Et,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Y.T,p=ie.p,ie.p=2,Y.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var D=c[b];g(D.value,{componentStack:D.stack})}}finally{Y.T=s,ie.p=p}}(Ko&3)!==0&&nf(),qr(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===zm?Uu++:(Uu=0,zm=i):Uu=0,ju(0)}}function Ew(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,vu(s)))}function nf(i){return vw(),_w(),ww(),bw()}function bw(){if(rn!==5)return!1;var i=wa,s=Fm;Fm=0;var l=ho(Ko),c=Y.T,p=ie.p;try{ie.p=32>l?32:l,Y.T=null,l=Hm,Hm=null;var g=wa,b=Ko;if(rn=0,Qo=wa=null,Ko=0,(nt&6)!==0)throw Error(n(331));var D=nt;if(nt|=4,aw(g.current),nw(g,g.current,b,l),nt=D,ju(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Et,g)}catch{}return!0}finally{ie.p=p,Y.T=c,Ew(i,s)}}function Tw(i,s,l){s=er(l,s),s=Em(i.stateNode,s,2),i=ca(i,s,2),i!==null&&(li(i,2),qr(i))}function ct(i,s,l){if(i.tag===3)Tw(i,i,l);else for(;s!==null;){if(s.tag===3){Tw(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_a===null||!_a.has(c))){i=er(l,i),l=R0(2),c=ca(s,l,2),c!==null&&(C0(l,c,s,i),li(c,2),qr(c));break}}s=s.return}}function Qm(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new eC;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(Vm=!0,p.add(l),i=aC.bind(null,i,s,l),s.then(i,i))}function aC(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ft===i&&(Ye&l)===l&&(Tt===4||Tt===3&&(Ye&62914560)===Ye&&300>Kn()-Bm?(nt&2)===0&&Wo(i,0):Um|=l,Go===Ye&&(Go=0)),qr(i)}function Sw(i,s){s===0&&(s=Kl()),i=ko(i,s),i!==null&&(li(i,s),qr(i))}function sC(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Sw(i,l)}function oC(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(n(314))}c!==null&&c.delete(s),Sw(i,l)}function lC(i,s){return is(i,s)}var rf=null,Xo=null,Km=!1,af=!1,Wm=!1,js=0;function qr(i){i!==Xo&&i.next===null&&(Xo===null?rf=Xo=i:Xo=Xo.next=i),af=!0,Km||(Km=!0,cC())}function ju(i,s){if(!Wm&&af){Wm=!0;do for(var l=!1,c=rf;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var b=c.suspendedLanes,D=c.pingedLanes;g=(1<<31-dn(42|i)+1)-1,g&=p&~(b&~D),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Cw(c,g))}else g=Ye,g=fo(c,c===ft?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||cs(c,g)||(l=!0,Cw(c,g));c=c.next}while(l);Wm=!1}}function uC(){Dw()}function Dw(){af=Km=!1;var i=0;js!==0&&(vC()&&(i=js),js=0);for(var s=Kn(),l=null,c=rf;c!==null;){var p=c.next,g=Aw(c,s);g===0?(c.next=null,l===null?rf=p:l.next=p,p===null&&(Xo=l)):(l=c,(i!==0||(g&3)!==0)&&(af=!0)),c=p}ju(i)}function Aw(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-dn(g),D=1<<b,L=p[b];L===-1?((D&l)===0||(D&c)!==0)&&(p[b]=Gl(D,s)):L<=s&&(i.expiredLanes|=D),g&=~D}if(s=ft,l=Ye,l=fo(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&as(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||cs(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&as(c),ho(l)){case 2:case 8:l=uo;break;case 32:l=ss;break;case 268435456:l=co;break;default:l=ss}return c=Rw.bind(null,i),l=is(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&as(c),i.callbackPriority=2,i.callbackNode=null,2}function Rw(i,s){if(rn!==0&&rn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(nf()&&i.callbackNode!==l)return null;var c=Ye;return c=fo(i,i===ft?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(uw(i,c,s),Aw(i,Kn()),i.callbackNode!=null&&i.callbackNode===l?Rw.bind(null,i):null)}function Cw(i,s){if(nf())return null;uw(i,s,!0)}function cC(){wC(function(){(nt&6)!==0?is(ql,uC):Dw()})}function $m(){return js===0&&(js=Ql()),js}function Iw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_o(""+i)}function xw(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function dC(i,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var g=Iw((p[Mt]||null).action),b=c.submitter;b&&(s=(s=b[Mt]||null)?Iw(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var D=new wo("action","action",null,c,p);i.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(js!==0){var L=b?xw(p,b):new FormData(p);gm(l,{pending:!0,data:L,method:p.method,action:g},null,L)}}else typeof g=="function"&&(D.preventDefault(),L=b?xw(p,b):new FormData(p),gm(l,{pending:!0,data:L,method:p.method,action:g},g,L))},currentTarget:p}]})}}for(var Xm=0;Xm<Pp.length;Xm++){var Zm=Pp[Xm],fC=Zm.toLowerCase(),hC=Zm[0].toUpperCase()+Zm.slice(1);gr(fC,"on"+hC)}gr(u_,"onAnimationEnd"),gr(c_,"onAnimationIteration"),gr(d_,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr(xR,"onTransitionRun"),gr(kR,"onTransitionStart"),gr(MR,"onTransitionCancel"),gr(f_,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function kw(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var D=c[b],L=D.instance,K=D.currentTarget;if(D=D.listener,L!==g&&p.isPropagationStopped())break e;g=D,p.currentTarget=K;try{g(p)}catch(te){Yd(te)}p.currentTarget=null,g=L}else for(b=0;b<c.length;b++){if(D=c[b],L=D.instance,K=D.currentTarget,D=D.listener,L!==g&&p.isPropagationStopped())break e;g=D,p.currentTarget=K;try{g(p)}catch(te){Yd(te)}p.currentTarget=null,g=L}}}}function Be(i,s){var l=s[Xl];l===void 0&&(l=s[Xl]=new Set);var c=i+"__bubble";l.has(c)||(Mw(s,i,2,!1),l.add(c))}function Jm(i,s,l){var c=0;s&&(c|=4),Mw(l,i,c,s)}var sf="_reactListening"+Math.random().toString(36).slice(2);function eg(i){if(!i[sf]){i[sf]=!0,Zl.forEach(function(l){l!=="selectionchange"&&(pC.has(l)||Jm(l,!1,i),Jm(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[sf]||(s[sf]=!0,Jm("selectionchange",!1,s))}}function Mw(i,s,l,c){switch(nE(s)){case 2:var p=FC;break;case 8:p=HC;break;default:p=pg}l=p.bind(null,s,l,i),p=void 0,!Zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function tg(i,s,l,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var D=c.stateNode.containerInfo;if(D===p)break;if(b===4)for(b=c.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;D!==null;){if(b=ui(D),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){c=g=b;continue e}D=D.parentNode}}c=c.return}od(function(){var K=g,te=Xn(l),ae=[];e:{var W=h_.get(i);if(W!==void 0){var $=wo,Re=i;switch(i){case"keypress":if(Pr(l)===0)break e;case"keydown":case"keyup":$=Ao;break;case"focusin":Re="focus",$=To;break;case"focusout":Re="blur",$=To;break;case"beforeblur":case"afterblur":$=To;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=md;break;case u_:case c_:case d_:$=So;break;case f_:$=yd;break;case"scroll":case"scrollend":$=ld;break;case"wheel":$=Ro;break;case"copy":case"cut":case"paste":$=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=cu;break;case"toggle":case"beforetoggle":$=_d}var Se=(s&4)!==0,ut=!Se&&(i==="scroll"||i==="scrollend"),z=Se?W!==null?W+"Capture":null:W;Se=[];for(var F=K,Q;F!==null;){var re=F;if(Q=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Q===null||z===null||(re=vs(F,z),re!=null&&Se.push(Fu(F,re,Q))),ut)break;F=F.return}0<Se.length&&(W=new $(W,Re,null,l,te),ae.push({event:W,listeners:Se}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",W&&l!==hi&&(Re=l.relatedTarget||l.fromElement)&&(ui(Re)||Re[Wn]))break e;if(($||W)&&(W=te.window===te?te:(W=te.ownerDocument)?W.defaultView||W.parentWindow:window,$?(Re=l.relatedTarget||l.toElement,$=K,Re=Re?ui(Re):null,Re!==null&&(ut=o(Re),Se=Re.tag,Re!==ut||Se!==5&&Se!==27&&Se!==6)&&(Re=null)):($=null,Re=K),$!==Re)){if(Se=Jn,re="onMouseLeave",z="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Se=cu,re="onPointerLeave",z="onPointerEnter",F="pointer"),ut=$==null?W:kr($),Q=Re==null?W:kr(Re),W=new Se(re,F+"leave",$,l,te),W.target=ut,W.relatedTarget=Q,re=null,ui(te)===K&&(Se=new Se(z,F+"enter",Re,l,te),Se.target=Q,Se.relatedTarget=ut,re=Se),ut=re,$&&Re)t:{for(Se=$,z=Re,F=0,Q=Se;Q;Q=Zo(Q))F++;for(Q=0,re=z;re;re=Zo(re))Q++;for(;0<F-Q;)Se=Zo(Se),F--;for(;0<Q-F;)z=Zo(z),Q--;for(;F--;){if(Se===z||z!==null&&Se===z.alternate)break t;Se=Zo(Se),z=Zo(z)}Se=null}else Se=null;$!==null&&Nw(ae,W,$,Se,!1),Re!==null&&ut!==null&&Nw(ae,ut,Re,Se,!0)}}e:{if(W=K?kr(K):window,$=W.nodeName&&W.nodeName.toLowerCase(),$==="select"||$==="input"&&W.type==="file")var ye=Zv;else if(Bt(W))if(Jv)ye=RR;else{ye=DR;var Ue=SR}else $=W.nodeName,!$||$.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&ru(K.elementType)&&(ye=Zv):ye=AR;if(ye&&(ye=ye(i,K))){vi(ae,ye,l,te);break e}Ue&&Ue(i,W,K),i==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&aa(W,"number",W.value)}switch(Ue=K?kr(K):window,i){case"focusin":(Bt(Ue)||Ue.contentEditable==="true")&&(Co=Ue,Mp=K,hu=null);break;case"focusout":hu=Mp=Co=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,o_(ae,l,te);break;case"selectionchange":if(IR)break;case"keydown":case"keyup":o_(ae,l,te)}var _e;if(Ur)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ze?Z(i,l)&&(De="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(E&&l.locale!=="ko"&&(ze||De!=="onCompositionStart"?De==="onCompositionEnd"&&ze&&(_e=au()):(Or=te,sa="value"in Or?Or.value:Or.textContent,ze=!0)),Ue=of(K,De),0<Ue.length&&(De=new lu(De,i,null,l,te),ae.push({event:De,listeners:Ue}),_e?De.data=_e:(_e=de(l),_e!==null&&(De.data=_e)))),(_e=v?jt(i,l):qe(i,l))&&(De=of(K,"onBeforeInput"),0<De.length&&(Ue=new lu("onBeforeInput","beforeinput",null,l,te),ae.push({event:Ue,listeners:De}),Ue.data=_e)),dC(ae,i,K,l,te)}kw(ae,s)})}function Fu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function of(i,s){for(var l=s+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=vs(i,l),p!=null&&c.unshift(Fu(i,p,g)),p=vs(i,s),p!=null&&c.push(Fu(i,p,g))),i.tag===3)return c;i=i.return}return[]}function Zo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Nw(i,s,l,c,p){for(var g=s._reactName,b=[];l!==null&&l!==c;){var D=l,L=D.alternate,K=D.stateNode;if(D=D.tag,L!==null&&L===c)break;D!==5&&D!==26&&D!==27||K===null||(L=K,p?(K=vs(l,g),K!=null&&b.unshift(Fu(l,K,L))):p||(K=vs(l,g),K!=null&&b.push(Fu(l,K,L)))),l=l.return}b.length!==0&&i.push({event:s,listeners:b})}var mC=/\r\n?/g,gC=/\u0000|\uFFFD/g;function Ow(i){return(typeof i=="string"?i:""+i).replace(mC,`
`).replace(gC,"")}function Pw(i,s){return s=Ow(s),Ow(i)===s}function lf(){}function lt(i,s,l,c,p,g){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||$n(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&$n(i,""+c);break;case"className":Mr(i,"class",c);break;case"tabIndex":Mr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(i,l,c);break;case"style":nu(i,c,g);break;case"data":if(s!=="object"){Mr(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=_o(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&lt(i,s,"name",p.name,p,null),lt(i,s,"formEncType",p.formEncType,p,null),lt(i,s,"formMethod",p.formMethod,p,null),lt(i,s,"formTarget",p.formTarget,p,null)):(lt(i,s,"encType",p.encType,p,null),lt(i,s,"method",p.method,p,null),lt(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=_o(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=lf);break;case"onScroll":c!=null&&Be("scroll",i);break;case"onScrollEnd":c!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=_o(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Be("beforetoggle",i),Be("toggle",i),ia(i,"popover",c);break;case"xlinkActuate":en(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":en(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":en(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":en(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":en(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":en(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":en(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":en(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":en(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ia(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Dp.get(l)||l,ia(i,l,c))}}function ng(i,s,l,c,p,g){switch(l){case"style":nu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof c=="string"?$n(i,c):(typeof c=="number"||typeof c=="bigint")&&$n(i,""+c);break;case"onScroll":c!=null&&Be("scroll",i);break;case"onScrollEnd":c!=null&&Be("scrollend",i);break;case"onClick":c!=null&&(i.onclick=lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),g=i[Mt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):ia(i,l,c)}}}function an(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:lt(i,s,g,b,l,null)}}p&&lt(i,s,"srcSet",l.srcSet,l,null),c&&lt(i,s,"src",l.src,l,null);return;case"input":Be("invalid",i);var D=g=b=p=null,L=null,K=null;for(c in l)if(l.hasOwnProperty(c)){var te=l[c];if(te!=null)switch(c){case"name":p=te;break;case"type":b=te;break;case"checked":L=te;break;case"defaultChecked":K=te;break;case"value":g=te;break;case"defaultValue":D=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,s));break;default:lt(i,s,c,te,l,null)}}ms(i,g,D,L,K,b,p,!1),vo(i);return;case"select":Be("invalid",i),c=b=g=null;for(p in l)if(l.hasOwnProperty(p)&&(D=l[p],D!=null))switch(p){case"value":g=D;break;case"defaultValue":b=D;break;case"multiple":c=D;default:lt(i,s,p,D,l,null)}s=g,l=b,i.multiple=!!c,s!=null?fi(i,!!c,s,!1):l!=null&&fi(i,!!c,l,!0);return;case"textarea":Be("invalid",i),g=p=c=null;for(b in l)if(l.hasOwnProperty(b)&&(D=l[b],D!=null))switch(b){case"value":c=D;break;case"defaultValue":p=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:lt(i,s,b,D,l,null)}gs(i,c,p,g),vo(i);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(c=l[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:lt(i,s,L,c,l,null)}return;case"dialog":Be("beforetoggle",i),Be("toggle",i),Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(c=0;c<Bu.length;c++)Be(Bu[c],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(c=l[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:lt(i,s,K,c,l,null)}return;default:if(ru(s)){for(te in l)l.hasOwnProperty(te)&&(c=l[te],c!==void 0&&ng(i,s,te,c,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null&&lt(i,s,D,c,l,null))}function yC(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,b=null,D=null,L=null,K=null,te=null;for($ in l){var ae=l[$];if(l.hasOwnProperty($)&&ae!=null)switch($){case"checked":break;case"value":break;case"defaultValue":L=ae;default:c.hasOwnProperty($)||lt(i,s,$,null,c,ae)}}for(var W in c){var $=c[W];if(ae=l[W],c.hasOwnProperty(W)&&($!=null||ae!=null))switch(W){case"type":g=$;break;case"name":p=$;break;case"checked":K=$;break;case"defaultChecked":te=$;break;case"value":b=$;break;case"defaultValue":D=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(n(137,s));break;default:$!==ae&&lt(i,s,W,$,c,ae)}}Un(i,b,D,L,K,te,g,p);return;case"select":$=b=D=W=null;for(g in l)if(L=l[g],l.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":$=L;default:c.hasOwnProperty(g)||lt(i,s,g,null,c,L)}for(p in c)if(g=c[p],L=l[p],c.hasOwnProperty(p)&&(g!=null||L!=null))switch(p){case"value":W=g;break;case"defaultValue":D=g;break;case"multiple":b=g;default:g!==L&&lt(i,s,p,g,c,L)}s=D,l=b,c=$,W!=null?fi(i,!!l,W,!1):!!c!=!!l&&(s!=null?fi(i,!!l,s,!0):fi(i,!!l,l?[]:"",!1));return;case"textarea":$=W=null;for(D in l)if(p=l[D],l.hasOwnProperty(D)&&p!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:lt(i,s,D,null,c,p)}for(b in c)if(p=c[b],g=l[b],c.hasOwnProperty(b)&&(p!=null||g!=null))switch(b){case"value":W=p;break;case"defaultValue":$=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==g&&lt(i,s,b,p,c,g)}st(i,W,$);return;case"option":for(var Re in l)if(W=l[Re],l.hasOwnProperty(Re)&&W!=null&&!c.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:lt(i,s,Re,null,c,W)}for(L in c)if(W=c[L],$=l[L],c.hasOwnProperty(L)&&W!==$&&(W!=null||$!=null))switch(L){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:lt(i,s,L,W,c,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in l)W=l[Se],l.hasOwnProperty(Se)&&W!=null&&!c.hasOwnProperty(Se)&&lt(i,s,Se,null,c,W);for(K in c)if(W=c[K],$=l[K],c.hasOwnProperty(K)&&W!==$&&(W!=null||$!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,s));break;default:lt(i,s,K,W,c,$)}return;default:if(ru(s)){for(var ut in l)W=l[ut],l.hasOwnProperty(ut)&&W!==void 0&&!c.hasOwnProperty(ut)&&ng(i,s,ut,void 0,c,W);for(te in c)W=c[te],$=l[te],!c.hasOwnProperty(te)||W===$||W===void 0&&$===void 0||ng(i,s,te,W,c,$);return}}for(var z in l)W=l[z],l.hasOwnProperty(z)&&W!=null&&!c.hasOwnProperty(z)&&lt(i,s,z,null,c,W);for(ae in c)W=c[ae],$=l[ae],!c.hasOwnProperty(ae)||W===$||W==null&&$==null||lt(i,s,ae,W,c,$)}var rg=null,ig=null;function uf(i){return i.nodeType===9?i:i.ownerDocument}function Lw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ag(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sg=null;function vC(){var i=window.event;return i&&i.type==="popstate"?i===sg?!1:(sg=i,!0):(sg=null,!1)}var Uw=typeof setTimeout=="function"?setTimeout:void 0,_C=typeof clearTimeout=="function"?clearTimeout:void 0,jw=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof jw<"u"?function(i){return jw.resolve(null).then(i).catch(EC)}:Uw;function EC(i){setTimeout(function(){throw i})}function ba(i){return i==="head"}function Bw(i,s){var l=s,c=0,p=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var b=i.ownerDocument;if(l&1&&Hu(b.documentElement),l&2&&Hu(b.body),l&4)for(l=b.head,Hu(l),b=l.firstChild;b;){var D=b.nextSibling,L=b.nodeName;b[ds]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=D}}if(p===0){i.removeChild(g),$u(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);$u(s)}function og(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":og(l),ra(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function bC(i,s,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ds])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=vr(i.nextSibling),i===null)break}return null}function TC(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=vr(i.nextSibling),i===null))return null;return i}function lg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function SC(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function vr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var ug=null;function Fw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function Hw(i,s,l){switch(s=uf(l),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Hu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ra(i)}var sr=new Map,zw=new Set;function cf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ki=ie.d;ie.d={f:DC,r:AC,D:RC,C:CC,L:IC,m:xC,X:MC,S:kC,M:NC};function DC(){var i=ki.f(),s=ef();return i||s}function AC(i){var s=xr(i);s!==null&&s.tag===5&&s.type==="form"?u0(s):ki.r(i)}var Jo=typeof document>"u"?null:document;function qw(i,s,l){var c=Jo;if(c&&typeof s=="string"&&s){var p=Nt(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),zw.has(p)||(zw.add(p),i={rel:i,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),an(s,"link",i),At(s),c.head.appendChild(s)))}}function RC(i){ki.D(i),qw("dns-prefetch",i,null)}function CC(i,s){ki.C(i,s),qw("preconnect",i,s)}function IC(i,s,l){ki.L(i,s,l);var c=Jo;if(c&&i&&s){var p='link[rel="preload"][as="'+Nt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Nt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Nt(l.imageSizes)+'"]')):p+='[href="'+Nt(i)+'"]';var g=p;switch(s){case"style":g=el(i);break;case"script":g=tl(i)}sr.has(g)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),sr.set(g,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(zu(g))||s==="script"&&c.querySelector(qu(g))||(s=c.createElement("link"),an(s,"link",i),At(s),c.head.appendChild(s)))}}function xC(i,s){ki.m(i,s);var l=Jo;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Nt(c)+'"][href="'+Nt(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=tl(i)}if(!sr.has(g)&&(i=y({rel:"modulepreload",href:i},s),sr.set(g,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qu(g)))return}c=l.createElement("link"),an(c,"link",i),At(c),l.head.appendChild(c)}}}function kC(i,s,l){ki.S(i,s,l);var c=Jo;if(c&&i){var p=bn(c).hoistableStyles,g=el(i);s=s||"default";var b=p.get(g);if(!b){var D={loading:0,preload:null};if(b=c.querySelector(zu(g)))D.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=sr.get(g))&&cg(i,l);var L=b=c.createElement("link");At(L),an(L,"link",i),L._p=new Promise(function(K,te){L.onload=K,L.onerror=te}),L.addEventListener("load",function(){D.loading|=1}),L.addEventListener("error",function(){D.loading|=2}),D.loading|=4,df(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:D},p.set(g,b)}}}function MC(i,s){ki.X(i,s);var l=Jo;if(l&&i){var c=bn(l).hoistableScripts,p=tl(i),g=c.get(p);g||(g=l.querySelector(qu(p)),g||(i=y({src:i,async:!0},s),(s=sr.get(p))&&dg(i,s),g=l.createElement("script"),At(g),an(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function NC(i,s){ki.M(i,s);var l=Jo;if(l&&i){var c=bn(l).hoistableScripts,p=tl(i),g=c.get(p);g||(g=l.querySelector(qu(p)),g||(i=y({src:i,async:!0,type:"module"},s),(s=sr.get(p))&&dg(i,s),g=l.createElement("script"),At(g),an(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Yw(i,s,l,c){var p=(p=Ie.current)?cf(p):null;if(!p)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=el(l.href),l=bn(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=el(l.href);var g=bn(p).hoistableStyles,b=g.get(i);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=p.querySelector(zu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),sr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},sr.set(i,l),g||OC(p,i,l,b.state))),s&&c===null)throw Error(n(528,""));return b}if(s&&c!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=tl(l),l=bn(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function el(i){return'href="'+Nt(i)+'"'}function zu(i){return'link[rel="stylesheet"]['+i+"]"}function Gw(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function OC(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),an(s,"link",l),At(s),i.head.appendChild(s))}function tl(i){return'[src="'+Nt(i)+'"]'}function qu(i){return"script[async]"+i}function Qw(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Nt(l.href)+'"]');if(c)return s.instance=c,At(c),c;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),At(c),an(c,"style",p),df(c,l.precedence,i),s.instance=c;case"stylesheet":p=el(l.href);var g=i.querySelector(zu(p));if(g)return s.state.loading|=4,s.instance=g,At(g),g;c=Gw(l),(p=sr.get(p))&&cg(c,p),g=(i.ownerDocument||i).createElement("link"),At(g);var b=g;return b._p=new Promise(function(D,L){b.onload=D,b.onerror=L}),an(g,"link",c),s.state.loading|=4,df(g,l.precedence,i),s.instance=g;case"script":return g=tl(l.src),(p=i.querySelector(qu(g)))?(s.instance=p,At(p),p):(c=l,(p=sr.get(g))&&(c=y({},l),dg(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),At(p),an(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,df(c,l.precedence,i));return s.instance}function df(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,b=0;b<c.length;b++){var D=c[b];if(D.dataset.precedence===s)g=D;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function cg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function dg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ff=null;function Kw(i,s,l){if(ff===null){var c=new Map,p=ff=new Map;p.set(l,c)}else p=ff,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[ds]||g[Ut]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var D=c.get(b);D?D.push(g):c.set(b,[g])}}return c}function Ww(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function PC(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function $w(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Yu=null;function LC(){}function VC(i,s,l){if(Yu===null)throw Error(n(475));var c=Yu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=el(l.href),g=i.querySelector(zu(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=hf.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,At(g);return}g=i.ownerDocument||i,l=Gw(l),(p=sr.get(p))&&cg(l,p),g=g.createElement("link"),At(g);var b=g;b._p=new Promise(function(D,L){b.onload=D,b.onerror=L}),an(g,"link",l),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=hf.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function UC(){if(Yu===null)throw Error(n(475));var i=Yu;return i.stylesheets&&i.count===0&&fg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&fg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function hf(){if(this.count--,this.count===0){if(this.stylesheets)fg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pf=null;function fg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pf=new Map,s.forEach(jC,i),pf=null,hf.call(i))}function jC(i,s){if(!(s.state.loading&4)){var l=pf.get(i);if(l)var c=l.get(null);else{l=new Map,pf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var b=p[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}p=s.instance,b=p.getAttribute("data-precedence"),g=l.get(b)||c,g===c&&l.set(null,p),l.set(b,p),this.count++,c=hf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Gu={$$typeof:H,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function BC(i,s,l,c,p,g,b,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Xw(i,s,l,c,p,g,b,D,L,K,te,ae){return i=new BC(i,s,l,b,D,L,K,ae),s=1,g===!0&&(s|=24),g=Bn(3,null,null,s),i.current=g,g.stateNode=i,s=Qp(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:s},Xp(g),i}function Zw(i){return i?(i=Mo,i):Mo}function Jw(i,s,l,c,p,g){p=Zw(p),c.context===null?c.context=p:c.pendingContext=p,c=ua(s),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=ca(i,c,s),l!==null&&(Yn(l,i,s),bu(l,i,s))}function eE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function hg(i,s){eE(i,s),(i=i.alternate)&&eE(i,s)}function tE(i){if(i.tag===13){var s=ko(i,67108864);s!==null&&Yn(s,i,67108864),hg(i,67108864)}}var mf=!0;function FC(i,s,l,c){var p=Y.T;Y.T=null;var g=ie.p;try{ie.p=2,pg(i,s,l,c)}finally{ie.p=g,Y.T=p}}function HC(i,s,l,c){var p=Y.T;Y.T=null;var g=ie.p;try{ie.p=8,pg(i,s,l,c)}finally{ie.p=g,Y.T=p}}function pg(i,s,l,c){if(mf){var p=mg(c);if(p===null)tg(i,s,c,gf,l),rE(i,c);else if(qC(p,i,s,l,c))c.stopPropagation();else if(rE(i,c),s&4&&-1<zC.indexOf(i)){for(;p!==null;){var g=xr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=hr(g.pendingLanes);if(b!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;b;){var L=1<<31-dn(b);D.entanglements[1]|=L,b&=~L}qr(g),(nt&6)===0&&(Zd=Kn()+500,ju(0))}}break;case 13:D=ko(g,2),D!==null&&Yn(D,g,2),ef(),hg(g,2)}if(g=mg(c),g===null&&tg(i,s,c,gf,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else tg(i,s,c,null,l)}}function mg(i){return i=Xn(i),gg(i)}var gf=null;function gg(i){if(gf=null,i=ui(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return gf=i,null}function nE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_p()){case ql:return 2;case uo:return 8;case ss:case wp:return 32;case co:return 268435456;default:return 32}default:return 32}}var yg=!1,Ta=null,Sa=null,Da=null,Qu=new Map,Ku=new Map,Aa=[],zC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rE(i,s){switch(i){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Qu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(s.pointerId)}}function Wu(i,s,l,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=xr(s),s!==null&&tE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function qC(i,s,l,c,p){switch(s){case"focusin":return Ta=Wu(Ta,i,s,l,c,p),!0;case"dragenter":return Sa=Wu(Sa,i,s,l,c,p),!0;case"mouseover":return Da=Wu(Da,i,s,l,c,p),!0;case"pointerover":var g=p.pointerId;return Qu.set(g,Wu(Qu.get(g)||null,i,s,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Ku.set(g,Wu(Ku.get(g)||null,i,s,l,c,p)),!0}return!1}function iE(i){var s=ui(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,ed(i.priority,function(){if(l.tag===13){var c=qn();c=ea(c);var p=ko(l,c);p!==null&&Yn(p,l,c),hg(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function yf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=mg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);hi=c,l.target.dispatchEvent(c),hi=null}else return s=xr(l),s!==null&&tE(s),i.blockedOn=l,!1;s.shift()}return!0}function aE(i,s,l){yf(i)&&l.delete(s)}function YC(){yg=!1,Ta!==null&&yf(Ta)&&(Ta=null),Sa!==null&&yf(Sa)&&(Sa=null),Da!==null&&yf(Da)&&(Da=null),Qu.forEach(aE),Ku.forEach(aE)}function vf(i,s){i.blockedOn===s&&(i.blockedOn=null,yg||(yg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,YC)))}var _f=null;function sE(i){_f!==i&&(_f=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_f===i&&(_f=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(gg(c||l)===null)continue;break}var g=xr(l);g!==null&&(i.splice(s,3),s-=3,gm(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function $u(i){function s(L){return vf(L,i)}Ta!==null&&vf(Ta,i),Sa!==null&&vf(Sa,i),Da!==null&&vf(Da,i),Qu.forEach(s),Ku.forEach(s);for(var l=0;l<Aa.length;l++){var c=Aa[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Aa.length&&(l=Aa[0],l.blockedOn===null);)iE(l),l.blockedOn===null&&Aa.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],b=p[Mt]||null;if(typeof g=="function")b||sE(l);else if(b){var D=null;if(g&&g.hasAttribute("formAction")){if(p=g,b=g[Mt]||null)D=b.formAction;else if(gg(p)!==null)continue}else D=b.action;typeof D=="function"?l[c+1]=D:(l.splice(c,3),c-=3),sE(l)}}}function vg(i){this._internalRoot=i}wf.prototype.render=vg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,c=qn();Jw(l,c,i,s,null,null)},wf.prototype.unmount=vg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Jw(i.current,2,null,i,null,null),ef(),s[Wn]=null}};function wf(i){this._internalRoot=i}wf.prototype.unstable_scheduleHydration=function(i){if(i){var s=ta();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Aa.length&&s!==0&&s<Aa[l].priority;l++);Aa.splice(l,0,i),l===0&&iE(i)}};var oE=e.version;if(oE!=="19.1.0")throw Error(n(527,oE,"19.1.0"));ie.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var GC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Et=Ef.inject(GC),tt=Ef}catch{}}return Zu.createRoot=function(i,s){if(!a(i))throw Error(n(299));var l=!1,c="",p=T0,g=S0,b=D0,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks)),s=Xw(i,1,!1,null,null,l,c,p,g,b,D,null),i[Wn]=s.current,eg(i),new vg(s)},Zu.hydrateRoot=function(i,s,l){if(!a(i))throw Error(n(299));var c=!1,p="",g=T0,b=S0,D=D0,L=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),s=Xw(i,1,!0,s,l??null,c,p,g,b,D,L,K),s.context=Zw(null),l=s.current,c=qn(),c=ea(c),p=ua(c),p.callback=null,ca(l,p,c),l=c,s.current.lanes=l,li(s,l),qr(s),i[Wn]=s.current,eg(i),new wf(s)},Zu.version="19.1.0",Zu}var yE;function i1(){if(yE)return Eg.exports;yE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Eg.exports=r1(),Eg.exports}var a1=i1(),Ju={},vE;function s1(){if(vE)return Ju;vE=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.parse=u,Ju.serialize=m;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,S){const T=new o,C=w.length;if(C<2)return T;const I=(S==null?void 0:S.decode)||y;let V=0;do{const G=w.indexOf("=",V);if(G===-1)break;const H=w.indexOf(";",V),X=H===-1?C:H;if(G>X){V=w.lastIndexOf(";",G-1)+1;continue}const J=d(w,V,G),le=h(w,G,J),N=w.slice(J,le);if(T[N]===void 0){let A=d(w,G+1,X),x=h(w,X,A);const P=I(w.slice(A,x));T[N]=P}V=X+1}while(V<C);return T}function d(w,S,T){do{const C=w.charCodeAt(S);if(C!==32&&C!==9)return S}while(++S<T);return T}function h(w,S,T){for(;S>T;){const C=w.charCodeAt(--S);if(C!==32&&C!==9)return S+1}return T}function m(w,S,T){const C=(T==null?void 0:T.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const I=C(S);if(!e.test(I))throw new TypeError(`argument val is invalid: ${S}`);let V=w+"="+I;if(!T)return V;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);V+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);V+="; Domain="+T.domain}if(T.path){if(!n.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);V+="; Path="+T.path}if(T.expires){if(!_(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);V+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(V+="; HttpOnly"),T.secure&&(V+="; Secure"),T.partitioned&&(V+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return V}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return a.call(w)==="[object Date]"}return Ju}s1();var _E="popstate";function o1(r={}){function e(n,a){let{pathname:o,search:u,hash:d}=n.location;return Qg("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:vc(a)}return u1(e,t,null,r)}function yt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Er(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l1(){return Math.random().toString(36).substring(2,10)}function wE(r,e){return{usr:r.state,key:r.key,idx:e}}function Qg(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ml(e):e,state:t,key:e&&e.key||n||l1()}}function vc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ml(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function u1(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,u=a.history,d="POP",h=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function _(){d="POP";let I=y(),V=I==null?null:I-m;m=I,h&&h({action:d,location:C.location,delta:V})}function w(I,V){d="PUSH";let G=Qg(C.location,I,V);m=y()+1;let H=wE(G,m),X=C.createHref(G);try{u.pushState(H,"",X)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(X)}o&&h&&h({action:d,location:C.location,delta:1})}function S(I,V){d="REPLACE";let G=Qg(C.location,I,V);m=y();let H=wE(G,m),X=C.createHref(G);u.replaceState(H,"",X),o&&h&&h({action:d,location:C.location,delta:0})}function T(I){let V=a.location.origin!=="null"?a.location.origin:a.location.href,G=typeof I=="string"?I:vc(I);return G=G.replace(/ $/,"%20"),yt(V,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,V)}let C={get action(){return d},get location(){return r(a,u)},listen(I){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(_E,_),h=I,()=>{a.removeEventListener(_E,_),h=null}},createHref(I){return e(a,I)},createURL:T,encodeLocation(I){let V=T(I);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:w,replace:S,go(I){return u.go(I)}};return C}function QT(r,e,t="/"){return c1(r,e,t,!1)}function c1(r,e,t,n){let a=typeof e=="string"?Ml(e):e,o=zi(a.pathname||"/",t);if(o==null)return null;let u=KT(r);d1(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=b1(o);d=w1(u[h],m,n)}return d}function KT(r,e=[],t=[],n=""){let a=(o,u,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(yt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let m=Pi([n,h.relativePath]),y=t.concat(h);o.children&&o.children.length>0&&(yt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),KT(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:v1(m,o.index),routesMeta:y})};return r.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let h of WT(o.path))a(o,u,h)}),e}function WT(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let u=WT(n.join("/")),d=[];return d.push(...u.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...u),d.map(h=>r.startsWith("/")&&h===""?"/":h)}function d1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:_1(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var f1=/^:[\w-]+$/,h1=3,p1=2,m1=1,g1=10,y1=-2,EE=r=>r==="*";function v1(r,e){let t=r.split("/"),n=t.length;return t.some(EE)&&(n+=y1),e&&(n+=p1),t.filter(a=>!EE(a)).reduce((a,o)=>a+(f1.test(o)?h1:o===""?m1:g1),n)}function _1(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function w1(r,e,t=!1){let{routesMeta:n}=r,a={},o="/",u=[];for(let d=0;d<n.length;++d){let h=n[d],m=d===n.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=eh({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),w=h.route;if(!_&&m&&t&&!n[n.length-1].route.index&&(_=eh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Pi([o,_.pathname]),pathnameBase:A1(Pi([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=Pi([o,_.pathnameBase]))}return u}function eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=E1(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((m,{paramName:y,isOptional:_},w)=>{if(y==="*"){let T=d[w]||"";u=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const S=d[w];return _&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:r}}function E1(r,e=!1,t=!0){Er(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function b1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Er(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function zi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function T1(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?Ml(r):r;return{pathname:t?t.startsWith("/")?t:S1(t,e):e,search:R1(n),hash:C1(a)}}function S1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Dg(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ky(r){let e=D1(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function My(r,e,t,n=!1){let a;typeof r=="string"?a=Ml(r):(a={...r},yt(!a.pathname||!a.pathname.includes("?"),Dg("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Dg("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Dg("#","search","hash",a)));let o=r===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=t;else{let _=e.length-1;if(!n&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}d=_>=0?e[_]:"/"}let h=T1(a,d),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var Pi=r=>r.join("/").replace(/\/\/+/g,"/"),A1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),R1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,C1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function I1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var $T=["POST","PUT","PATCH","DELETE"];new Set($T);var x1=["GET",...$T];new Set(x1);var Nl=M.createContext(null);Nl.displayName="DataRouter";var Ph=M.createContext(null);Ph.displayName="DataRouterState";var XT=M.createContext({isTransitioning:!1});XT.displayName="ViewTransition";var k1=M.createContext(new Map);k1.displayName="Fetchers";var M1=M.createContext(null);M1.displayName="Await";var Dr=M.createContext(null);Dr.displayName="Navigation";var Mc=M.createContext(null);Mc.displayName="Location";var Ar=M.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var Ny=M.createContext(null);Ny.displayName="RouteError";function N1(r,{relative:e}={}){yt(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=M.useContext(Dr),{hash:a,pathname:o,search:u}=Oc(r,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Pi([t,o])),n.createHref({pathname:d,search:u,hash:a})}function Ol(){return M.useContext(Mc)!=null}function Xa(){return yt(Ol(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Mc).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JT(r){M.useContext(Dr).static||M.useLayoutEffect(r)}function Nc(){let{isDataRoute:r}=M.useContext(Ar);return r?G1():O1()}function O1(){yt(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let r=M.useContext(Nl),{basename:e,navigator:t}=M.useContext(Dr),{matches:n}=M.useContext(Ar),{pathname:a}=Xa(),o=JSON.stringify(ky(n)),u=M.useRef(!1);return JT(()=>{u.current=!0}),M.useCallback((h,m={})=>{if(Er(u.current,ZT),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=My(h,JSON.parse(o),a,m.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Pi([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,a,r])}M.createContext(null);function eS(){let{matches:r}=M.useContext(Ar),e=r[r.length-1];return e?e.params:{}}function Oc(r,{relative:e}={}){let{matches:t}=M.useContext(Ar),{pathname:n}=Xa(),a=JSON.stringify(ky(t));return M.useMemo(()=>My(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function P1(r,e){return tS(r,e)}function tS(r,e,t,n){var G;yt(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=M.useContext(Dr),{matches:u}=M.useContext(Ar),d=u[u.length-1],h=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let H=_&&_.path||"";nS(m,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=Xa(),S;if(e){let H=typeof e=="string"?Ml(e):e;yt(y==="/"||((G=H.pathname)==null?void 0:G.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${H.pathname}" was given in the \`location\` prop.`),S=H}else S=w;let T=S.pathname||"/",C=T;if(y!=="/"){let H=y.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(H.length).join("/")}let I=!o&&t&&t.matches&&t.matches.length>0?t.matches:QT(r,{pathname:C});Er(_||I!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Er(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=B1(I&&I.map(H=>Object.assign({},H,{params:Object.assign({},h,H.params),pathname:Pi([y,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Pi([y,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,t,n);return e&&V?M.createElement(Mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function L1(){let r=Y1(),e=I1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:a},t):null,u)}var V1=M.createElement(L1,null),U1=class extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?M.createElement(Ar.Provider,{value:this.props.routeContext},M.createElement(Ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j1({routeContext:r,match:e,children:t}){let n=M.useContext(Nl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Ar.Provider,{value:r},t)}function B1(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=t==null?void 0:t.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);yt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(t)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:y,errors:_}=t,w=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||w){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,y)=>{let _,w=!1,S=null,T=null;t&&(_=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||V1,u&&(d<0&&y===0?(nS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):d===y&&(w=!0,T=m.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,y+1)),I=()=>{let V;return _?V=S:w?V=T:m.route.Component?V=M.createElement(m.route.Component,null):m.route.element?V=m.route.element:V=h,M.createElement(j1,{match:m,routeContext:{outlet:h,matches:C,isDataRoute:t!=null},children:V})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?M.createElement(U1,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):I()},null)}function Oy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F1(r){let e=M.useContext(Nl);return yt(e,Oy(r)),e}function H1(r){let e=M.useContext(Ph);return yt(e,Oy(r)),e}function z1(r){let e=M.useContext(Ar);return yt(e,Oy(r)),e}function Py(r){let e=z1(r),t=e.matches[e.matches.length-1];return yt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function q1(){return Py("useRouteId")}function Y1(){var n;let r=M.useContext(Ny),e=H1("useRouteError"),t=Py("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function G1(){let{router:r}=F1("useNavigate"),e=Py("useNavigate"),t=M.useRef(!1);return JT(()=>{t.current=!0}),M.useCallback(async(a,o={})=>{Er(t.current,ZT),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var bE={};function nS(r,e,t){!e&&!bE[r]&&(bE[r]=!0,Er(!1,t))}M.memo(Q1);function Q1({routes:r,future:e,state:t}){return tS(r,void 0,t,e)}function rS({to:r,replace:e,state:t,relative:n}){yt(Ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(Dr);Er(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(Ar),{pathname:u}=Xa(),d=Nc(),h=My(r,ky(o),u,n==="path"),m=JSON.stringify(h);return M.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:n})},[d,m,n,e,t]),null}function Bs(r){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K1({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:o=!1}){yt(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=Ml(t));let{pathname:h="/",search:m="",hash:y="",state:_=null,key:w="default"}=t,S=M.useMemo(()=>{let T=zi(h,u);return T==null?null:{location:{pathname:T,search:m,hash:y,state:_,key:w},navigationType:n}},[u,h,m,y,_,w,n]);return Er(S!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(Dr.Provider,{value:d},M.createElement(Mc.Provider,{children:e,value:S}))}function TE({children:r,location:e}){return P1(Kg(r),e)}function Kg(r,e=[]){let t=[];return M.Children.forEach(r,(n,a)=>{if(!M.isValidElement(n))return;let o=[...e,a];if(n.type===M.Fragment){t.push.apply(t,Kg(n.props.children,o));return}yt(n.type===Bs,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Kg(n.props.children,o)),t.push(u)}),t}var Lf="get",Vf="application/x-www-form-urlencoded";function Lh(r){return r!=null&&typeof r.tagName=="string"}function W1(r){return Lh(r)&&r.tagName.toLowerCase()==="button"}function $1(r){return Lh(r)&&r.tagName.toLowerCase()==="form"}function X1(r){return Lh(r)&&r.tagName.toLowerCase()==="input"}function Z1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function J1(r,e){return r.button===0&&(!e||e==="_self")&&!Z1(r)}var bf=null;function eI(){if(bf===null)try{new FormData(document.createElement("form"),0),bf=!1}catch{bf=!0}return bf}var tI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ag(r){return r!=null&&!tI.has(r)?(Er(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vf}"`),null):r}function nI(r,e){let t,n,a,o,u;if($1(r)){let d=r.getAttribute("action");n=d?zi(d,e):null,t=r.getAttribute("method")||Lf,a=Ag(r.getAttribute("enctype"))||Vf,o=new FormData(r)}else if(W1(r)||X1(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||d.getAttribute("action");if(n=h?zi(h,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Lf,a=Ag(r.getAttribute("formenctype"))||Ag(d.getAttribute("enctype"))||Vf,o=new FormData(d,r),!eI()){let{name:m,type:y,value:_}=r;if(y==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,_)}}else{if(Lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lf,n=null,a=Vf,u=r}return o&&a==="text/plain"&&(u=o,o=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:o,body:u}}function Ly(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function rI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function aI(r,e,t){let n=await Promise.all(r.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await rI(o,t);return u.links?u.links():[]}return[]}));return uI(n.flat(1).filter(iI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function SE(r,e,t,n,a,o){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,d=(h,m)=>{var y;return t[m].pathname!==h.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,m)=>u(h,m)||d(h,m)):o==="data"?e.filter((h,m)=>{var _;let y=n.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function sI(r,e,{includeHydrateFallback:t}={}){return oI(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function oI(r){return[...new Set(r)]}function lI(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function uI(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let o=JSON.stringify(lI(a));return t.has(o)||(t.add(o),n.push({key:o,link:a})),n},[])}var cI=new Set([100,101,204,205]);function dI(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&zi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function iS(){let r=M.useContext(Nl);return Ly(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fI(){let r=M.useContext(Ph);return Ly(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Vy=M.createContext(void 0);Vy.displayName="FrameworkContext";function aS(){let r=M.useContext(Vy);return Ly(r,"You must render this element inside a <HydratedRouter> element"),r}function hI(r,e){let t=M.useContext(Vy),[n,a]=M.useState(!1),[o,u]=M.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,w=M.useRef(null);M.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let C=V=>{V.forEach(G=>{u(G.isIntersecting)})},I=new IntersectionObserver(C,{threshold:.5});return w.current&&I.observe(w.current),()=>{I.disconnect()}}},[r]),M.useEffect(()=>{if(n){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[n]);let S=()=>{a(!0)},T=()=>{a(!1),u(!1)};return t?r!=="intent"?[o,w,{}]:[o,w,{onFocus:ec(d,S),onBlur:ec(h,T),onMouseEnter:ec(m,S),onMouseLeave:ec(y,T),onTouchStart:ec(_,S)}]:[!1,w,{}]}function ec(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function pI({page:r,...e}){let{router:t}=iS(),n=M.useMemo(()=>QT(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?M.createElement(gI,{page:r,matches:n,...e}):null}function mI(r){let{manifest:e,routeModules:t}=aS(),[n,a]=M.useState([]);return M.useEffect(()=>{let o=!1;return aI(r,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[r,e,t]),n}function gI({page:r,matches:e,...t}){let n=Xa(),{manifest:a,routeModules:o}=aS(),{basename:u}=iS(),{loaderData:d,matches:h}=fI(),m=M.useMemo(()=>SE(r,e,h,a,n,"data"),[r,e,h,a,n]),y=M.useMemo(()=>SE(r,e,h,a,n,"assets"),[r,e,h,a,n]),_=M.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let T=new Set,C=!1;if(e.forEach(V=>{var H;let G=a.routes[V.route.id];!G||!G.hasLoader||(!m.some(X=>X.route.id===V.route.id)&&V.route.id in d&&((H=o[V.route.id])!=null&&H.shouldRevalidate)||G.hasClientLoader?C=!0:T.add(V.route.id))}),T.size===0)return[];let I=dI(r,u);return C&&T.size>0&&I.searchParams.set("_routes",e.filter(V=>T.has(V.route.id)).map(V=>V.route.id).join(",")),[I.pathname+I.search]},[u,d,n,a,m,e,r,o]),w=M.useMemo(()=>sI(y,a),[y,a]),S=mI(y);return M.createElement(M.Fragment,null,_.map(T=>M.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),w.map(T=>M.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),S.map(({key:T,link:C})=>M.createElement("link",{key:T,...C})))}function yI(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sS&&(window.__reactRouterVersion="7.5.3")}catch{}function vI({basename:r,children:e,window:t}){let n=M.useRef();n.current==null&&(n.current=o1({window:t,v5Compat:!0}));let a=n.current,[o,u]=M.useState({action:a.action,location:a.location}),d=M.useCallback(h=>{M.startTransition(()=>u(h))},[u]);return M.useLayoutEffect(()=>a.listen(d),[a,d]),M.createElement(K1,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:a})}var oS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uy=M.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:o,replace:u,state:d,target:h,to:m,preventScrollReset:y,viewTransition:_,...w},S){let{basename:T}=M.useContext(Dr),C=typeof m=="string"&&oS.test(m),I,V=!1;if(typeof m=="string"&&C&&(I=m,sS))try{let x=new URL(window.location.href),P=m.startsWith("//")?new URL(x.protocol+m):new URL(m),j=zi(P.pathname,T);P.origin===x.origin&&j!=null?m=j+P.search+P.hash:V=!0}catch{Er(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=N1(m,{relative:a}),[H,X,J]=hI(n,w),le=bI(m,{replace:u,state:d,target:h,preventScrollReset:y,relative:a,viewTransition:_});function N(x){e&&e(x),x.defaultPrevented||le(x)}let A=M.createElement("a",{...w,...J,href:I||G,onClick:V||o?e:N,ref:yI(S,X),target:h,"data-discover":!C&&t==="render"?"true":void 0});return H&&!C?M.createElement(M.Fragment,null,A,M.createElement(pI,{page:G})):A});Uy.displayName="Link";var _I=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:o,to:u,viewTransition:d,children:h,...m},y){let _=Oc(u,{relative:m.relative}),w=Xa(),S=M.useContext(Ph),{navigator:T,basename:C}=M.useContext(Dr),I=S!=null&&RI(_)&&d===!0,V=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,G=w.pathname,H=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(G=G.toLowerCase(),H=H?H.toLowerCase():null,V=V.toLowerCase()),H&&C&&(H=zi(H,C)||H);const X=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let J=G===V||!a&&G.startsWith(V)&&G.charAt(X)==="/",le=H!=null&&(H===V||!a&&H.startsWith(V)&&H.charAt(V.length)==="/"),N={isActive:J,isPending:le,isTransitioning:I},A=J?e:void 0,x;typeof n=="function"?x=n(N):x=[n,J?"active":null,le?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(N):o;return M.createElement(Uy,{...m,"aria-current":A,className:x,ref:y,style:P,to:u,viewTransition:d},typeof h=="function"?h(N):h)});_I.displayName="NavLink";var wI=M.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:o,method:u=Lf,action:d,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:_,...w},S)=>{let T=DI(),C=AI(d,{relative:m}),I=u.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&oS.test(d),G=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let X=H.nativeEvent.submitter,J=(X==null?void 0:X.getAttribute("formmethod"))||u;T(X||H.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:a,state:o,relative:m,preventScrollReset:y,viewTransition:_})};return M.createElement("form",{ref:S,method:I,action:C,onSubmit:n?h:G,...w,"data-discover":!V&&r==="render"?"true":void 0})});wI.displayName="Form";function EI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lS(r){let e=M.useContext(Nl);return yt(e,EI(r)),e}function bI(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=Nc(),h=Xa(),m=Oc(r,{relative:o});return M.useCallback(y=>{if(J1(y,e)){y.preventDefault();let _=t!==void 0?t:vc(h)===vc(m);d(r,{replace:_,state:n,preventScrollReset:a,relative:o,viewTransition:u})}},[h,d,m,t,n,e,r,a,o,u])}var TI=0,SI=()=>`__${String(++TI)}__`;function DI(){let{router:r}=lS("useSubmit"),{basename:e}=M.useContext(Dr),t=q1();return M.useCallback(async(n,a={})=>{let{action:o,method:u,encType:d,formData:h,body:m}=nI(n,e);if(a.navigate===!1){let y=a.fetcherKey||SI();await r.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function AI(r,{relative:e}={}){let{basename:t}=M.useContext(Dr),n=M.useContext(Ar);yt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...Oc(r||".",{relative:e})},u=Xa();if(r==null){o.search=u.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();o.search=y?`?${y}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Pi([t,o.pathname])),vc(o)}function RI(r,e={}){let t=M.useContext(XT);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=lS("useViewTransitionState"),a=Oc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=zi(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=zi(t.nextLocation.pathname,n)||t.nextLocation.pathname;return eh(a.pathname,u)!=null||eh(a.pathname,o)!=null}new TextEncoder;[...cI];var uS=GT();const CI=qT(uS),DE=["btn--white","btn--clear","btn--blue"],AE=["btn--morepress","btn--mediumpress","btn--lesspress"],RE=["btn--medium","btn--large","btn--small"];function un({children:r,onClick:e,buttonColor:t,buttonSize:n,buttonStyle:a}){const o=DE.includes(t)?t:DE[0],u=RE.includes(n)?n:RE[0],d=AE.includes(a)?a:AE[0];return k.jsx("button",{className:`btn ${o} ${u} ${d}`,onClick:e,children:r})}function Rr({className:r,children:e,height:t,width:n,margin:a,padding:o,backgroundColor:u}){return k.jsx("div",{className:r,style:{margin:a??"2rem auto",padding:o??"1.5rem",border:"1px solid #ccc",borderRadius:"15px",height:t??"auto",width:n??"auto",backgroundColor:u??"#f9f9ff",boxShadow:"0 9px #bbb"},children:e})}function II({setEmail:r,setPassword:e,handleSignIn:t}){return k.jsxs(Rr,{className:"sign-in-card",width:300,children:[k.jsx("input",{type:"email",placeholder:"Email",onChange:n=>r(n.target.value),style:{width:"100%",marginBottom:"1rem",padding:"0.5rem",borderRadius:"25px"},required:!0}),k.jsx("input",{type:"password",placeholder:"Password",onChange:n=>e(n.target.value),style:{width:"100%",marginBottom:"1rem",padding:"0.5rem",borderRadius:"25px"},required:!0}),k.jsx(un,{onClick:t,buttonColor:"btn--blue",buttonStyle:"btn--mediumpress",buttonSize:"btn--medium",children:"Sign in"})]})}function xI({setEmail:r,setFirstName:e,setLastName:t,setPassword:n,setConfirmPassword:a,handleSignUp:o}){return k.jsxs(Rr,{className:"sign-up-card",width:300,children:[k.jsx("input",{type:"email",placeholder:"Email",onChange:u=>r(u.target.value),style:{width:"100%",marginBottom:"1rem",padding:"0.2rem 0.5rem",borderRadius:"25px"},required:!0}),k.jsx("input",{type:"text",placeholder:"First name",onChange:u=>e(u.target.value),style:{width:"100%",marginBottom:"1rem",padding:"0.2rem 0.5rem",borderRadius:"25px"},required:!0}),k.jsx("input",{type:"text",placeholder:"Last name",onChange:u=>t(u.target.value),style:{width:"100%",marginBottom:"1rem",padding:"0.2rem 0.5rem",borderRadius:"25px"},required:!0}),k.jsx("input",{type:"password",placeholder:"Password",onChange:u=>n(u.target.value),style:{width:"100%",marginBottom:"1rem",padding:"0.2rem 0.5rem",borderRadius:"25px"},required:!0}),k.jsx("input",{type:"password",placeholder:"Confirm password",onChange:u=>a(u.target.value),style:{width:"100%",marginBottom:"1rem",padding:"0.2rem 0.5rem",borderRadius:"25px"},required:!0}),k.jsx(un,{onClick:o,buttonColor:"btn--blue",buttonStyle:"btn--mediumpress",buttonSize:"btn--medium",children:"Sign up"})]})}const kI=()=>{};var CE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},MI=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const a=r[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const o=r[t++];e[n++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=r[t++],u=r[t++],d=r[t++],h=((a&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const o=r[t++],u=r[t++];e[n++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},dS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<r.length;a+=3){const o=r[a],u=a+1<r.length,d=u?r[a+1]:0,h=a+2<r.length,m=h?r[a+2]:0,y=o>>2,_=(o&3)<<4|d>>4;let w=(d&15)<<2|m>>6,S=m&63;h||(S=64,u||(w=64)),n.push(t[y],t[_],t[w],t[S])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(cS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):MI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<r.length;){const o=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const m=a<r.length?t[r.charAt(a)]:64;++a;const _=a<r.length?t[r.charAt(a)]:64;if(++a,o==null||d==null||m==null||_==null)throw new NI;const w=o<<2|d>>4;if(n.push(w),m!==64){const S=d<<4&240|m>>2;if(n.push(S),_!==64){const T=m<<6&192|_;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OI=function(r){const e=cS(r);return dS.encodeByteArray(e,!0)},th=function(r){return OI(r).replace(/\./g,"")},fS=function(r){try{return dS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=()=>PI().__FIREBASE_DEFAULTS__,VI=()=>{if(typeof process>"u"||typeof CE>"u")return;const r=CE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},UI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fS(r[1]);return e&&JSON.parse(e)},Vh=()=>{try{return kI()||LI()||VI()||UI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hS=r=>{var e,t;return(t=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},jI=r=>{const e=hS(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},pS=()=>{var r;return(r=Vh())===null||r===void 0?void 0:r.config},mS=r=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",a=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[th(JSON.stringify(t)),th(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function zI(){var r;const e=(r=Vh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function GI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QI(){const r=En();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function KI(){return!zI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function $I(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="FirebaseError";class $i extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=XI,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pc.prototype.create)}}class Pc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?ZI(o,n):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new $i(a,d,n)}}function ZI(r,e){return r.replace(JI,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const JI=/\{\$([^}]+)}/g;function ex(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ks(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const o=r[a],u=e[a];if(IE(o)&&IE(u)){if(!Ks(o,u))return!1}else if(o!==u)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function IE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ac(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,o]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function sc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function tx(r,e){const t=new nx(r,e);return t.subscribe.bind(t)}class nx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");rx(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=Rg),a.error===void 0&&(a.error=Rg),a.complete===void 0&&(a.complete=Rg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rx(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new BI;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sx(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});n.resolve(o)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);n===d&&u.resolve(a)}return a}onInit(e,t){var n;const a=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ax(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ax(r){return r===Fs?void 0:r}function sx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ix(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const lx={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},ux=Fe.INFO,cx={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},dx=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),a=cx[e];if(a)console[a](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jy{constructor(e){this.name=e,this._logLevel=ux,this._logHandler=dx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const fx=(r,e)=>e.some(t=>r instanceof t);let xE,kE;function hx(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function px(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gS=new WeakMap,Wg=new WeakMap,yS=new WeakMap,Cg=new WeakMap,By=new WeakMap;function mx(r){const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("success",o),r.removeEventListener("error",u)},o=()=>{t(La(r.result)),a()},u=()=>{n(r.error),a()};r.addEventListener("success",o),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&gS.set(t,r)}).catch(()=>{}),By.set(e,r),e}function gx(r){if(Wg.has(r))return;const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",u),r.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",o),r.addEventListener("error",u),r.addEventListener("abort",u)});Wg.set(r,e)}let $g={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Wg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yS.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return La(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yx(r){$g=r($g)}function vx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Ig(this),e,...t);return yS.set(n,e.sort?e.sort():[e]),La(n)}:px().includes(r)?function(...e){return r.apply(Ig(this),e),La(gS.get(this))}:function(...e){return La(r.apply(Ig(this),e))}}function _x(r){return typeof r=="function"?vx(r):(r instanceof IDBTransaction&&gx(r),fx(r,hx())?new Proxy(r,$g):r)}function La(r){if(r instanceof IDBRequest)return mx(r);if(Cg.has(r))return Cg.get(r);const e=_x(r);return e!==r&&(Cg.set(r,e),By.set(e,r)),e}const Ig=r=>By.get(r);function wx(r,e,{blocked:t,upgrade:n,blocking:a,terminated:o}={}){const u=indexedDB.open(r,e),d=La(u);return n&&u.addEventListener("upgradeneeded",h=>{n(La(u.result),h.oldVersion,h.newVersion,La(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Ex=["get","getKey","getAll","getAllKeys","count"],bx=["put","add","delete","clear"],xg=new Map;function ME(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(xg.get(e))return xg.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=bx.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Ex.includes(t)))return;const o=async function(u,...d){const h=this.transaction(u,a?"readwrite":"readonly");let m=h.store;return n&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&h.done]))[0]};return xg.set(e,o),o}yx(r=>({...r,get:(e,t,n)=>ME(e,t)||r.get(e,t,n),has:(e,t)=>!!ME(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Sx(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Sx(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xg="@firebase/app",NE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new jy("@firebase/app"),Dx="@firebase/app-compat",Ax="@firebase/analytics-compat",Rx="@firebase/analytics",Cx="@firebase/app-check-compat",Ix="@firebase/app-check",xx="@firebase/auth",kx="@firebase/auth-compat",Mx="@firebase/database",Nx="@firebase/data-connect",Ox="@firebase/database-compat",Px="@firebase/functions",Lx="@firebase/functions-compat",Vx="@firebase/installations",Ux="@firebase/installations-compat",jx="@firebase/messaging",Bx="@firebase/messaging-compat",Fx="@firebase/performance",Hx="@firebase/performance-compat",zx="@firebase/remote-config",qx="@firebase/remote-config-compat",Yx="@firebase/storage",Gx="@firebase/storage-compat",Qx="@firebase/firestore",Kx="@firebase/vertexai",Wx="@firebase/firestore-compat",$x="firebase",Xx="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="[DEFAULT]",Zx={[Xg]:"fire-core",[Dx]:"fire-core-compat",[Rx]:"fire-analytics",[Ax]:"fire-analytics-compat",[Ix]:"fire-app-check",[Cx]:"fire-app-check-compat",[xx]:"fire-auth",[kx]:"fire-auth-compat",[Mx]:"fire-rtdb",[Nx]:"fire-data-connect",[Ox]:"fire-rtdb-compat",[Px]:"fire-fn",[Lx]:"fire-fn-compat",[Vx]:"fire-iid",[Ux]:"fire-iid-compat",[jx]:"fire-fcm",[Bx]:"fire-fcm-compat",[Fx]:"fire-perf",[Hx]:"fire-perf-compat",[zx]:"fire-rc",[qx]:"fire-rc-compat",[Yx]:"fire-gcs",[Gx]:"fire-gcs-compat",[Qx]:"fire-fst",[Wx]:"fire-fst-compat",[Kx]:"fire-vertex","fire-js":"fire-js",[$x]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,Jx=new Map,Jg=new Map;function OE(r,e){try{r.container.addComponent(e)}catch(t){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function yl(r){const e=r.name;if(Jg.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,r);for(const t of nh.values())OE(t,r);for(const t of Jx.values())OE(t,r);return!0}function Fy(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function cr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new Pc("app","Firebase",ek);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=Xx;function vS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},e),a=n.name;if(typeof a!="string"||!a)throw Va.create("bad-app-name",{appName:String(a)});if(t||(t=pS()),!t)throw Va.create("no-options");const o=nh.get(a);if(o){if(Ks(t,o.options)&&Ks(n,o.config))return o;throw Va.create("duplicate-app",{appName:a})}const u=new ox(a);for(const h of Jg.values())u.addComponent(h);const d=new tk(t,n,u);return nh.set(a,d),d}function _S(r=Zg){const e=nh.get(r);if(!e&&r===Zg&&pS())return vS();if(!e)throw Va.create("no-app",{appName:r});return e}function Ua(r,e,t){var n;let a=(n=Zx[r])!==null&&n!==void 0?n:r;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}yl(new Ws(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="firebase-heartbeat-database",rk=1,_c="firebase-heartbeat-store";let kg=null;function wS(){return kg||(kg=wx(nk,rk,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_c)}catch(t){console.warn(t)}}}}).catch(r=>{throw Va.create("idb-open",{originalErrorMessage:r.message})})),kg}async function ik(r){try{const t=(await wS()).transaction(_c),n=await t.objectStore(_c).get(ES(r));return await t.done,n}catch(e){if(e instanceof $i)qi.warn(e.message);else{const t=Va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(t.message)}}}async function PE(r,e){try{const n=(await wS()).transaction(_c,"readwrite");await n.objectStore(_c).put(e,ES(r)),await n.done}catch(t){if(t instanceof $i)qi.warn(t.message);else{const n=Va.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});qi.warn(n.message)}}}function ES(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=1024,sk=30;class ok{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uk(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=LE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>sk){const u=ck(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){qi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=LE(),{heartbeatsToSend:n,unsentEntries:a}=lk(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return qi.warn(t),""}}}function LE(){return new Date().toISOString().substring(0,10)}function lk(r,e=ak){const t=[];let n=r.slice();for(const a of r){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),VE(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),VE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class uk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?$I().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ik(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return PE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return PE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function VE(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function ck(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(r){yl(new Ws("platform-logger",e=>new Tx(e),"PRIVATE")),yl(new Ws("heartbeat",e=>new ok(e),"PRIVATE")),Ua(Xg,NE,r),Ua(Xg,NE,"esm2017"),Ua("fire-js","")}dk("");function Hy(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function bS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fk=bS,TS=new Pc("auth","Firebase",bS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new jy("@firebase/auth");function hk(r,...e){rh.logLevel<=Fe.WARN&&rh.warn(`Auth (${Pl}): ${r}`,...e)}function Uf(r,...e){rh.logLevel<=Fe.ERROR&&rh.error(`Auth (${Pl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(r,...e){throw zy(r,...e)}function Xr(r,...e){return zy(r,...e)}function SS(r,e,t){const n=Object.assign(Object.assign({},fk()),{[e]:t});return new Pc("auth","Firebase",n).create(e,{appName:r.name})}function Li(r){return SS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zy(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return TS.create(r,...e)}function Ae(r,e,...t){if(!r)throw zy(e,...t)}function Ni(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Uf(e),new Error(e)}function Yi(r,e){r||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function pk(){return UE()==="http:"||UE()==="https:"}function UE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pk()||YI()||"connection"in navigator)?navigator.onLine:!0}function gk(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yi(t>e,"Short delay should be less than long delay!"),this.isMobile=HI()||GI()}get(){return mk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(r,e){Yi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_k=new Vc(3e4,6e4);function Za(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ja(r,e,t,n,a={}){return AS(r,a,async()=>{let o={},u={};n&&(e==="GET"?u=n:o={body:JSON.stringify(n)});const d=Lc(Object.assign({key:r.config.apiKey},u)).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const m=Object.assign({method:e,headers:h},o);return qI()||(m.referrerPolicy="no-referrer"),DS.fetch()(await RS(r,r.config.apiHost,t,d),m)})}async function AS(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},yk),e);try{const a=new Ek(r),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Tf(r,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[h,m]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(r,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Tf(r,"email-already-in-use",u);if(h==="USER_DISABLED")throw Tf(r,"user-disabled",u);const y=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw SS(r,y,m);br(r,y)}}catch(a){if(a instanceof $i)throw a;br(r,"network-request-failed",{message:String(a)})}}async function Uc(r,e,t,n,a={}){const o=await Ja(r,e,t,n,a);return"mfaPendingCredential"in o&&br(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function RS(r,e,t,n){const a=`${e}${t}?${n}`,o=r,u=o.config.emulator?qy(r.config,a):`${r.config.apiScheme}://${a}`;return vk.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function wk(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ek{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Xr(this.auth,"network-request-failed")),_k.get())})}}function Tf(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=Xr(r,e,n);return a.customData._tokenResponse=t,a}function jE(r){return r!==void 0&&r.enterprise!==void 0}class bk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Tk(r,e){return Ja(r,"GET","/v2/recaptchaConfig",Za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(r,e){return Ja(r,"POST","/v1/accounts:delete",e)}async function ih(r,e){return Ja(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dk(r,e=!1){const t=Zt(r),n=await t.getIdToken(e),a=Yy(n);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:n,authTime:hc(Mg(a.auth_time)),issuedAtTime:hc(Mg(a.iat)),expirationTime:hc(Mg(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Mg(r){return Number(r)*1e3}function Yy(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=fS(t);return a?JSON.parse(a):(Uf("Failed to decode base64 JWT payload"),null)}catch(a){return Uf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function BE(r){const e=Yy(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof $i&&Ak(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function Ak({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(r){var e;const t=r.auth,n=await r.getIdToken(),a=await wc(r,ih(t,{idToken:n}));Ae(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CS(o.providerUserInfo):[],d=Ik(r.providerData,u),h=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(d!=null&&d.length),y=h?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ty(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function Ck(r){const e=Zt(r);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ik(r,e){return[...r.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function CS(r){return r.map(e=>{var{providerId:t}=e,n=Hy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(r,e){const t=await AS(r,{},async()=>{const n=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=r.config,u=await RS(r,a,"/v1/token",`key=${o}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",DS.fetch()(u,{method:"POST",headers:d,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kk(r,e){return Ja(r,"POST","/v2/accounts:revokeToken",Za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=BE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:o}=await xk(e,t);this.updateTokensAndExpiration(n,a,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:o}=t,u=new ul;return n&&(Ae(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),a&&(Ae(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ae(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class _r{constructor(e){var{uid:t,auth:n,stsTokenManager:a}=e,o=Hy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ty(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await wc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Dk(this,e)}reload(){return Ck(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ah(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await wc(this,Sk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,a,o,u,d,h,m,y;const _=(n=t.displayName)!==null&&n!==void 0?n:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(u=t.photoURL)!==null&&u!==void 0?u:void 0,C=(d=t.tenantId)!==null&&d!==void 0?d:void 0,I=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,V=(m=t.createdAt)!==null&&m!==void 0?m:void 0,G=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:X,isAnonymous:J,providerData:le,stsTokenManager:N}=t;Ae(H&&N,e,"internal-error");const A=ul.fromJSON(this.name,N);Ae(typeof H=="string",e,"internal-error"),Ca(_,e.name),Ca(w,e.name),Ae(typeof X=="boolean",e,"internal-error"),Ae(typeof J=="boolean",e,"internal-error"),Ca(S,e.name),Ca(T,e.name),Ca(C,e.name),Ca(I,e.name),Ca(V,e.name),Ca(G,e.name);const x=new _r({uid:H,auth:e,email:w,emailVerified:X,displayName:_,isAnonymous:J,photoURL:T,phoneNumber:S,tenantId:C,stsTokenManager:A,createdAt:V,lastLoginAt:G});return le&&Array.isArray(le)&&(x.providerData=le.map(P=>Object.assign({},P))),I&&(x._redirectEventId=I),x}static async _fromIdTokenResponse(e,t,n=!1){const a=new ul;a.updateFromServerResponse(t);const o=new _r({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await ah(o),o}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?CS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new ul;d.updateFromIdToken(n);const h=new _r({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new ty(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;function Oi(r){Yi(r instanceof Function,"Expected a class definition");let e=FE.get(r);return e?(Yi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,FE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}IS.type="NONE";const HE=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(r,e,t){return`firebase:${r}:${e}:${t}`}class cl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:o}=this.auth;this.fullUserKey=jf(this.userKey,a.apiKey,o),this.fullPersistenceKey=jf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ih(this.auth,{idToken:e}).catch(()=>{});return t?_r._fromGetAccountInfoResponse(this.auth,t,e):null}return _r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new cl(Oi(HE),e,n);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Oi(HE);const u=jf(n,e.config.apiKey,e.name);let d=null;for(const m of t)try{const y=await m._get(u);if(y){let _;if(typeof y=="string"){const w=await ih(e,{idToken:y}).catch(()=>{});if(!w)break;_=await _r._fromGetAccountInfoResponse(e,w,y)}else _=_r._fromJSON(e,y);m!==o&&(d=_),o=m;break}}catch{}const h=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new cl(o,e,n):(o=h[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new cl(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PS(e))return"Blackberry";if(LS(e))return"Webos";if(kS(e))return"Safari";if((e.includes("chrome/")||MS(e))&&!e.includes("edge/"))return"Chrome";if(OS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function xS(r=En()){return/firefox\//i.test(r)}function kS(r=En()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MS(r=En()){return/crios\//i.test(r)}function NS(r=En()){return/iemobile/i.test(r)}function OS(r=En()){return/android/i.test(r)}function PS(r=En()){return/blackberry/i.test(r)}function LS(r=En()){return/webos/i.test(r)}function Gy(r=En()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Mk(r=En()){var e;return Gy(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Nk(){return QI()&&document.documentMode===10}function VS(r=En()){return Gy(r)||OS(r)||LS(r)||PS(r)||/windows phone/i.test(r)||NS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(r,e=[]){let t;switch(r){case"Browser":t=zE(En());break;case"Worker":t=`${zE(En())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((u,d)=>{try{const h=e(o);u(h)}catch(h){d(h)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(r,e={}){return Ja(r,"GET","/v2/passwordPolicy",Za(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=6;class Vk{constructor(e){var t,n,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Lk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,a,o,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new Ok(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{var n,a,o;if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ih(this,{idToken:e}),n=await _r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Li(this));const t=e?Zt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pk(this),t=new Vk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await kk(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,a);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=US(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&hk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function io(r){return Zt(r)}class qE{constructor(e){this.auth=e,this.observer=null,this.addObserver=tx(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jk(r){Uh=r}function jS(r){return Uh.loadJS(r)}function Bk(){return Uh.recaptchaEnterpriseScript}function Fk(){return Uh.gapiScript}function Hk(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class zk{constructor(){this.enterprise=new qk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Yk="recaptcha-enterprise",BS="NO_RECAPTCHA";class Gk{constructor(e){this.type=Yk,this.auth=io(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{Tk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new bk(h);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(h=>{d(h)})})}function a(o,u,d){const h=window.grecaptcha;jE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(BS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zk().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{n(this.auth).then(d=>{if(!t&&jE(window.grecaptcha))a(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Bk();h.length!==0&&(h+=d),jS(h).then(()=>{a(d,o,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function YE(r,e,t,n=!1,a=!1){const o=new Gk(r);let u;if(a)u=BS;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return n?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ny(r,e,t,n,a){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await YE(r,e,t,t==="getOobCode");return n(r,u)}else return n(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await YE(r,e,t,t==="getOobCode");return n(r,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(r,e){const t=Fy(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Ks(o,e??{}))return a;br(a,"already-initialized")}return t.initialize({options:e})}function Kk(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Oi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Wk(r,e,t){const n=io(r);Ae(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,o=FS(e),{host:u,port:d}=$k(e),h=d===null?"":`:${d}`,m={url:`${o}//${u}${h}/`},y=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Ae(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ae(Ks(m,n.config.emulator)&&Ks(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,Xk()}function FS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function $k(r){const e=FS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const o=a[1];return{host:o,port:GE(n.substr(o.length+1))}}else{const[o,u]=n.split(":");return{host:o,port:GE(u)}}}function GE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Xk(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function Zk(r,e){return Ja(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(r,e){return Uc(r,"POST","/v1/accounts:signInWithPassword",Za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(r,e){return Uc(r,"POST","/v1/accounts:signInWithEmailLink",Za(r,e))}async function tM(r,e){return Uc(r,"POST","/v1/accounts:signInWithEmailLink",Za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Qy{constructor(e,t,n,a=null){super("password",n),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Ec(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ec(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ny(e,t,"signInWithPassword",Jk);case"emailLink":return eM(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ny(e,n,"signUpPassword",Zk);case"emailLink":return tM(e,{idToken:t,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(r,e){return Uc(r,"POST","/v1/accounts:signInWithIdp",Za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="http://localhost";class $s extends Qy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=t,o=Hy(t,["providerId","signInMethod"]);if(!n||!a)return null;const u=new $s(n,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return dl(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,dl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,dl(e,t)}buildRequest(){const e={requestUri:nM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iM(r){const e=ac(sc(r)).link,t=e?ac(sc(e)).deep_link_id:null,n=ac(sc(r)).deep_link_id;return(n?ac(sc(n)).link:null)||n||t||e||r}class Ky{constructor(e){var t,n,a,o,u,d;const h=ac(sc(e)),m=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(n=h.oobCode)!==null&&n!==void 0?n:null,_=rM((a=h.mode)!==null&&a!==void 0?a:null);Ae(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=iM(e);try{return new Ky(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,t){return Ec._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ky.parseLink(t);return Ae(n,"argument-error"),Ec._fromEmailAndCode(e,n.code,n.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends HS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends jc{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xa.credential(e.oauthAccessToken)}catch{return null}}}xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ka.credential(t,n)}catch{return null}}}ka.GOOGLE_SIGN_IN_METHOD="google.com";ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends jc{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends jc{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Na.credential(t,n)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(r,e){return Uc(r,"POST","/v1/accounts:signUp",Za(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const o=await _r._fromIdTokenResponse(e,n,a),u=QE(n);return new Xs({user:o,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=QE(n);return new Xs({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function QE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends $i{constructor(e,t,n,a){var o;super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new sh(e,t,n,a)}}function zS(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,o,e,n):o})}async function sM(r,e,t=!1){const n=await wc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Xs._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(r,e,t=!1){const{auth:n}=r;if(cr(n.app))return Promise.reject(Li(n));const a="reauthenticate";try{const o=await wc(r,zS(n,a,e,r),t);Ae(o.idToken,n,"internal-error");const u=Yy(o.idToken);Ae(u,n,"internal-error");const{sub:d}=u;return Ae(r.uid===d,n,"user-mismatch"),Xs._forOperation(r,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&br(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(r,e,t=!1){if(cr(r.app))return Promise.reject(Li(r));const n="signIn",a=await zS(r,n,e),o=await Xs._fromIdTokenResponse(r,n,a);return t||await r._updateCurrentUser(o.user),o}async function lM(r,e){return qS(io(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(r){const e=io(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uM(r,e,t){if(cr(r.app))return Promise.reject(Li(r));const n=io(r),u=await ny(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aM).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&YS(r),h}),d=await Xs._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(d.user),d}function cM(r,e,t){return cr(r.app)?Promise.reject(Li(r)):lM(Zt(r),Ll.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&YS(r),n})}function dM(r,e,t,n){return Zt(r).onIdTokenChanged(e,t,n)}function fM(r,e,t){return Zt(r).beforeAuthStateChanged(e,t)}function hM(r,e,t,n){return Zt(r).onAuthStateChanged(e,t,n)}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=1e3,mM=10;class QS extends GS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},o=this.storage.getItem(n);Nk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,mM):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},pM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}QS.type="LOCAL";const gM=QS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends GS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}KS.type="SESSION";const WS=KS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new jh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const d=Array.from(u).map(async m=>m(t.origin,o)),h=await yM(d);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((d,h)=>{const m=Wy("",20);a.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},n);u={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(w.data.response);break;default:clearTimeout(y),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function _M(r){Zr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function wM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EM(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function bM(){return $S()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebaseLocalStorageDb",TM=1,lh="firebaseLocalStorage",ZS="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bh(r,e){return r.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function SM(){const r=indexedDB.deleteDatabase(XS);return new Bc(r).toPromise()}function ry(){const r=indexedDB.open(XS,TM);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(lh,{keyPath:ZS})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(lh)?e(n):(n.close(),await SM(),e(await ry()))})})}async function KE(r,e,t){const n=Bh(r,!0).put({[ZS]:e,value:t});return new Bc(n).toPromise()}async function DM(r,e){const t=Bh(r,!1).get(e),n=await new Bc(t).toPromise();return n===void 0?null:n.value}function WE(r,e){const t=Bh(r,!0).delete(e);return new Bc(t).toPromise()}const AM=800,RM=3;class JS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>RM)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $S()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(bM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await wM(),!this.activeServiceWorker)return;this.sender=new vM(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await KE(e,oh,"1"),await WE(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>KE(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>DM(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>WE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Bh(a,!1).getAll();return new Bc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JS.type="LOCAL";const CM=JS;new Vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(r,e){return e?Oi(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends Qy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return dl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xM(r){return qS(r.auth,new $y(r),r.bypassAuthState)}function kM(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),oM(t,new $y(r),r.bypassAuthState)}async function MM(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),sM(t,new $y(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t,n,a,o=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xM;case"linkViaPopup":case"linkViaRedirect":return MM;case"reauthViaPopup":case"reauthViaRedirect":return kM;default:br(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new Vc(2e3,1e4);class ll extends eD{constructor(e,t,n,a,o){super(e,t,a,o),this.provider=n,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NM.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="pendingRedirect",Bf=new Map;class PM extends eD{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const n=await LM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LM(r,e){const t=jM(e),n=UM(r);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}function VM(r,e){Bf.set(r._key(),e)}function UM(r){return Oi(r._redirectPersistence)}function jM(r){return jf(OM,r.config.apiKey,r.name)}async function BM(r,e,t=!1){if(cr(r.app))return Promise.reject(Li(r));const n=io(r),a=IM(n,e),u=await new PM(n,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=10*60*1e3;class HM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tD(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FM&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(e))}saveEventToCache(e){this.cachedEventUids.add($E(e)),this.lastProcessedEventTime=Date.now()}}function $E(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tD({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zM(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tD(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(r,e={}){return Ja(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GM=/^https?/;async function QM(r){if(r.config.emulator)return;const{authorizedDomains:e}=await qM(r);for(const t of e)try{if(KM(t))return}catch{}br(r,"unauthorized-domain")}function KM(r){const e=ey(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!GM.test(t))return!1;if(YM.test(r))return n===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new Vc(3e4,6e4);function XE(){const r=Zr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function $M(r){return new Promise((e,t)=>{var n,a,o;function u(){XE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XE(),t(Xr(r,"network-request-failed"))},timeout:WM.get()})}if(!((a=(n=Zr().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Zr().gapi)===null||o===void 0)&&o.load)u();else{const d=Hk("iframefcb");return Zr()[d]=()=>{gapi.load?u():t(Xr(r,"network-request-failed"))},jS(`${Fk()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function XM(r){return Ff=Ff||$M(r),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new Vc(5e3,15e3),JM="__/auth/iframe",eN="emulator/auth/iframe",tN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rN(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?qy(e,eN):`https://${r.config.authDomain}/${JM}`,n={apiKey:e.apiKey,appName:r.name,v:Pl},a=nN.get(r.config.apiHost);a&&(n.eid=a);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Lc(n).slice(1)}`}async function iN(r){const e=await XM(r),t=Zr().gapi;return Ae(t,r,"internal-error"),e.open({where:document.body,url:rN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tN,dontclear:!0},n=>new Promise(async(a,o)=>{await n.restyle({setHideOnLeave:!1});const u=Xr(r,"network-request-failed"),d=Zr().setTimeout(()=>{o(u)},ZM.get());function h(){Zr().clearTimeout(d),a(n)}n.ping(h).then(h,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sN=500,oN=600,lN="_blank",uN="http://localhost";class ZE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cN(r,e,t,n=sN,a=oN){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let d="";const h=Object.assign(Object.assign({},aN),{width:n.toString(),height:a.toString(),top:o,left:u}),m=En().toLowerCase();t&&(d=MS(m)?lN:t),xS(m)&&(e=e||uN,h.scrollbars="yes");const y=Object.entries(h).reduce((w,[S,T])=>`${w}${S}=${T},`,"");if(Mk(m)&&d!=="_self")return dN(e||"",d),new ZE(null);const _=window.open(e||"",d,y);Ae(_,r,"popup-blocked");try{_.focus()}catch{}return new ZE(_)}function dN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="__/auth/handler",hN="emulator/auth/handler",pN=encodeURIComponent("fac");async function JE(r,e,t,n,a,o){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Pl,eventId:a};if(e instanceof HS){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",ex(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof jc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}r.tenantId&&(u.tid=r.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await r._getAppCheckToken(),m=h?`#${pN}=${encodeURIComponent(h)}`:"";return`${mN(r)}?${Lc(d).slice(1)}${m}`}function mN({config:r}){return r.emulator?qy(r,hN):`https://${r.authDomain}/${fN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class gN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WS,this._completeRedirectFn=BM,this._overrideRedirectResult=VM}async _openPopup(e,t,n,a){var o;Yi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await JE(e,t,n,ey(),a);return cN(e,u,Wy())}async _openRedirect(e,t,n,a){await this._originValidation(e);const o=await JE(e,t,n,ey(),a);return _M(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Yi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await iN(e),n=new HM(e);return t.register("authEvent",a=>(Ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ng,{type:Ng},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Ng];u!==void 0&&t(!!u),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VS()||kS()||Gy()}}const yN=gN;var eb="@firebase/auth",tb="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wN(r){yl(new Ws("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=n.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:u,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:US(r)},m=new Uk(n,a,o,h);return Kk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),yl(new Ws("auth-internal",e=>{const t=io(e.getProvider("auth").getImmediate());return(n=>new vN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ua(eb,tb,_N(r)),Ua(eb,tb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=5*60,bN=mS("authIdTokenMaxAge")||EN;let nb=null;const TN=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>bN)return;const a=t==null?void 0:t.token;nb!==a&&(nb=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function SN(r=_S()){const e=Fy(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Qk(r,{popupRedirectResolver:yN,persistence:[CM,gM,WS]}),n=mS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const u=TN(o.toString());fM(t,u,()=>u(t.currentUser)),dM(t,d=>u(d))}}const a=hS("auth");return a&&Wk(t,`http://${a}`),t}function DN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}jk({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=a=>{const o=Xr("internal-error");o.customData=a,t(o)},n.type="text/javascript",n.charset="UTF-8",DN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wN("Browser");var AN="firebase",RN="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua(AN,RN,"app");var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ja,nD;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function x(){}x.prototype=A.prototype,N.D=A.prototype,N.prototype=new x,N.prototype.constructor=N,N.C=function(P,j,B){for(var O=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)O[Me-2]=arguments[Me];return A.prototype[j].apply(P,O)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,x){x||(x=0);var P=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)P[j]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(j=0;16>j;++j)P[j]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=N.g[0],x=N.g[1],j=N.g[2];var B=N.g[3],O=A+(B^x&(j^B))+P[0]+3614090360&4294967295;A=x+(O<<7&4294967295|O>>>25),O=B+(j^A&(x^j))+P[1]+3905402710&4294967295,B=A+(O<<12&4294967295|O>>>20),O=j+(x^B&(A^x))+P[2]+606105819&4294967295,j=B+(O<<17&4294967295|O>>>15),O=x+(A^j&(B^A))+P[3]+3250441966&4294967295,x=j+(O<<22&4294967295|O>>>10),O=A+(B^x&(j^B))+P[4]+4118548399&4294967295,A=x+(O<<7&4294967295|O>>>25),O=B+(j^A&(x^j))+P[5]+1200080426&4294967295,B=A+(O<<12&4294967295|O>>>20),O=j+(x^B&(A^x))+P[6]+2821735955&4294967295,j=B+(O<<17&4294967295|O>>>15),O=x+(A^j&(B^A))+P[7]+4249261313&4294967295,x=j+(O<<22&4294967295|O>>>10),O=A+(B^x&(j^B))+P[8]+1770035416&4294967295,A=x+(O<<7&4294967295|O>>>25),O=B+(j^A&(x^j))+P[9]+2336552879&4294967295,B=A+(O<<12&4294967295|O>>>20),O=j+(x^B&(A^x))+P[10]+4294925233&4294967295,j=B+(O<<17&4294967295|O>>>15),O=x+(A^j&(B^A))+P[11]+2304563134&4294967295,x=j+(O<<22&4294967295|O>>>10),O=A+(B^x&(j^B))+P[12]+1804603682&4294967295,A=x+(O<<7&4294967295|O>>>25),O=B+(j^A&(x^j))+P[13]+4254626195&4294967295,B=A+(O<<12&4294967295|O>>>20),O=j+(x^B&(A^x))+P[14]+2792965006&4294967295,j=B+(O<<17&4294967295|O>>>15),O=x+(A^j&(B^A))+P[15]+1236535329&4294967295,x=j+(O<<22&4294967295|O>>>10),O=A+(j^B&(x^j))+P[1]+4129170786&4294967295,A=x+(O<<5&4294967295|O>>>27),O=B+(x^j&(A^x))+P[6]+3225465664&4294967295,B=A+(O<<9&4294967295|O>>>23),O=j+(A^x&(B^A))+P[11]+643717713&4294967295,j=B+(O<<14&4294967295|O>>>18),O=x+(B^A&(j^B))+P[0]+3921069994&4294967295,x=j+(O<<20&4294967295|O>>>12),O=A+(j^B&(x^j))+P[5]+3593408605&4294967295,A=x+(O<<5&4294967295|O>>>27),O=B+(x^j&(A^x))+P[10]+38016083&4294967295,B=A+(O<<9&4294967295|O>>>23),O=j+(A^x&(B^A))+P[15]+3634488961&4294967295,j=B+(O<<14&4294967295|O>>>18),O=x+(B^A&(j^B))+P[4]+3889429448&4294967295,x=j+(O<<20&4294967295|O>>>12),O=A+(j^B&(x^j))+P[9]+568446438&4294967295,A=x+(O<<5&4294967295|O>>>27),O=B+(x^j&(A^x))+P[14]+3275163606&4294967295,B=A+(O<<9&4294967295|O>>>23),O=j+(A^x&(B^A))+P[3]+4107603335&4294967295,j=B+(O<<14&4294967295|O>>>18),O=x+(B^A&(j^B))+P[8]+1163531501&4294967295,x=j+(O<<20&4294967295|O>>>12),O=A+(j^B&(x^j))+P[13]+2850285829&4294967295,A=x+(O<<5&4294967295|O>>>27),O=B+(x^j&(A^x))+P[2]+4243563512&4294967295,B=A+(O<<9&4294967295|O>>>23),O=j+(A^x&(B^A))+P[7]+1735328473&4294967295,j=B+(O<<14&4294967295|O>>>18),O=x+(B^A&(j^B))+P[12]+2368359562&4294967295,x=j+(O<<20&4294967295|O>>>12),O=A+(x^j^B)+P[5]+4294588738&4294967295,A=x+(O<<4&4294967295|O>>>28),O=B+(A^x^j)+P[8]+2272392833&4294967295,B=A+(O<<11&4294967295|O>>>21),O=j+(B^A^x)+P[11]+1839030562&4294967295,j=B+(O<<16&4294967295|O>>>16),O=x+(j^B^A)+P[14]+4259657740&4294967295,x=j+(O<<23&4294967295|O>>>9),O=A+(x^j^B)+P[1]+2763975236&4294967295,A=x+(O<<4&4294967295|O>>>28),O=B+(A^x^j)+P[4]+1272893353&4294967295,B=A+(O<<11&4294967295|O>>>21),O=j+(B^A^x)+P[7]+4139469664&4294967295,j=B+(O<<16&4294967295|O>>>16),O=x+(j^B^A)+P[10]+3200236656&4294967295,x=j+(O<<23&4294967295|O>>>9),O=A+(x^j^B)+P[13]+681279174&4294967295,A=x+(O<<4&4294967295|O>>>28),O=B+(A^x^j)+P[0]+3936430074&4294967295,B=A+(O<<11&4294967295|O>>>21),O=j+(B^A^x)+P[3]+3572445317&4294967295,j=B+(O<<16&4294967295|O>>>16),O=x+(j^B^A)+P[6]+76029189&4294967295,x=j+(O<<23&4294967295|O>>>9),O=A+(x^j^B)+P[9]+3654602809&4294967295,A=x+(O<<4&4294967295|O>>>28),O=B+(A^x^j)+P[12]+3873151461&4294967295,B=A+(O<<11&4294967295|O>>>21),O=j+(B^A^x)+P[15]+530742520&4294967295,j=B+(O<<16&4294967295|O>>>16),O=x+(j^B^A)+P[2]+3299628645&4294967295,x=j+(O<<23&4294967295|O>>>9),O=A+(j^(x|~B))+P[0]+4096336452&4294967295,A=x+(O<<6&4294967295|O>>>26),O=B+(x^(A|~j))+P[7]+1126891415&4294967295,B=A+(O<<10&4294967295|O>>>22),O=j+(A^(B|~x))+P[14]+2878612391&4294967295,j=B+(O<<15&4294967295|O>>>17),O=x+(B^(j|~A))+P[5]+4237533241&4294967295,x=j+(O<<21&4294967295|O>>>11),O=A+(j^(x|~B))+P[12]+1700485571&4294967295,A=x+(O<<6&4294967295|O>>>26),O=B+(x^(A|~j))+P[3]+2399980690&4294967295,B=A+(O<<10&4294967295|O>>>22),O=j+(A^(B|~x))+P[10]+4293915773&4294967295,j=B+(O<<15&4294967295|O>>>17),O=x+(B^(j|~A))+P[1]+2240044497&4294967295,x=j+(O<<21&4294967295|O>>>11),O=A+(j^(x|~B))+P[8]+1873313359&4294967295,A=x+(O<<6&4294967295|O>>>26),O=B+(x^(A|~j))+P[15]+4264355552&4294967295,B=A+(O<<10&4294967295|O>>>22),O=j+(A^(B|~x))+P[6]+2734768916&4294967295,j=B+(O<<15&4294967295|O>>>17),O=x+(B^(j|~A))+P[13]+1309151649&4294967295,x=j+(O<<21&4294967295|O>>>11),O=A+(j^(x|~B))+P[4]+4149444226&4294967295,A=x+(O<<6&4294967295|O>>>26),O=B+(x^(A|~j))+P[11]+3174756917&4294967295,B=A+(O<<10&4294967295|O>>>22),O=j+(A^(B|~x))+P[2]+718787259&4294967295,j=B+(O<<15&4294967295|O>>>17),O=x+(B^(j|~A))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+B&4294967295}n.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var x=A-this.blockSize,P=this.B,j=this.h,B=0;B<A;){if(j==0)for(;B<=x;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<A;)if(P[j++]=N.charCodeAt(B++),j==this.blockSize){a(this,P),j=0;break}}else for(;B<A;)if(P[j++]=N[B++],j==this.blockSize){a(this,P),j=0;break}}this.h=j,this.o+=A},n.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var x=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=x&255,x/=256;for(this.u(N),N=Array(16),A=x=0;4>A;++A)for(var P=0;32>P;P+=8)N[x++]=this.g[A]>>>P&255;return N};function o(N,A){var x=d;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=A(N)}function u(N,A){this.h=A;for(var x=[],P=!0,j=N.length-1;0<=j;j--){var B=N[j]|0;P&&B==A||(x[j]=B,P=!1)}this.g=x}var d={};function h(N){return-128<=N&&128>N?o(N,function(A){return new u([A|0],0>A?-1:0)}):new u([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return I(m(-N));for(var A=[],x=1,P=0;N>=x;P++)A[P]=N/x|0,x*=4294967296;return new u(A,0)}function y(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return I(y(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=m(Math.pow(A,8)),P=_,j=0;j<N.length;j+=8){var B=Math.min(8,N.length-j),O=parseInt(N.substring(j,j+B),A);8>B?(B=m(Math.pow(A,B)),P=P.j(B).add(m(O))):(P=P.j(x),P=P.add(m(O)))}return P}var _=h(0),w=h(1),S=h(16777216);r=u.prototype,r.m=function(){if(C(this))return-I(this).m();for(var N=0,A=1,x=0;x<this.g.length;x++){var P=this.i(x);N+=(0<=P?P:4294967296+P)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(C(this))return"-"+I(this).toString(N);for(var A=m(Math.pow(N,6)),x=this,P="";;){var j=X(x,A).g;x=V(x,j.j(A));var B=((0<x.g.length?x.g[0]:x.h)>>>0).toString(N);if(x=j,T(x))return B+P;for(;6>B.length;)B="0"+B;P=B+P}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function C(N){return N.h==-1}r.l=function(N){return N=V(this,N),C(N)?-1:T(N)?0:1};function I(N){for(var A=N.g.length,x=[],P=0;P<A;P++)x[P]=~N.g[P];return new u(x,~N.h).add(w)}r.abs=function(){return C(this)?I(this):this},r.add=function(N){for(var A=Math.max(this.g.length,N.g.length),x=[],P=0,j=0;j<=A;j++){var B=P+(this.i(j)&65535)+(N.i(j)&65535),O=(B>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);P=O>>>16,B&=65535,O&=65535,x[j]=O<<16|B}return new u(x,x[x.length-1]&-2147483648?-1:0)};function V(N,A){return N.add(I(A))}r.j=function(N){if(T(this)||T(N))return _;if(C(this))return C(N)?I(this).j(I(N)):I(I(this).j(N));if(C(N))return I(this.j(I(N)));if(0>this.l(S)&&0>N.l(S))return m(this.m()*N.m());for(var A=this.g.length+N.g.length,x=[],P=0;P<2*A;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(var j=0;j<N.g.length;j++){var B=this.i(P)>>>16,O=this.i(P)&65535,Me=N.i(j)>>>16,we=N.i(j)&65535;x[2*P+2*j]+=O*we,G(x,2*P+2*j),x[2*P+2*j+1]+=B*we,G(x,2*P+2*j+1),x[2*P+2*j+1]+=O*Me,G(x,2*P+2*j+1),x[2*P+2*j+2]+=B*Me,G(x,2*P+2*j+2)}for(P=0;P<A;P++)x[P]=x[2*P+1]<<16|x[2*P];for(P=A;P<2*A;P++)x[P]=0;return new u(x,0)};function G(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function H(N,A){this.g=N,this.h=A}function X(N,A){if(T(A))throw Error("division by zero");if(T(N))return new H(_,_);if(C(N))return A=X(I(N),A),new H(I(A.g),I(A.h));if(C(A))return A=X(N,I(A)),new H(I(A.g),A.h);if(30<N.g.length){if(C(N)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var x=w,P=A;0>=P.l(N);)x=J(x),P=J(P);var j=le(x,1),B=le(P,1);for(P=le(P,2),x=le(x,2);!T(P);){var O=B.add(P);0>=O.l(N)&&(j=j.add(x),B=O),P=le(P,1),x=le(x,1)}return A=V(N,j.j(A)),new H(j,A)}for(j=_;0<=N.l(A);){for(x=Math.max(1,Math.floor(N.m()/A.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),B=m(x),O=B.j(A);C(O)||0<O.l(N);)x-=P,B=m(x),O=B.j(A);T(B)&&(B=w),j=j.add(B),N=V(N,O)}return new H(j,N)}r.A=function(N){return X(this,N).h},r.and=function(N){for(var A=Math.max(this.g.length,N.g.length),x=[],P=0;P<A;P++)x[P]=this.i(P)&N.i(P);return new u(x,this.h&N.h)},r.or=function(N){for(var A=Math.max(this.g.length,N.g.length),x=[],P=0;P<A;P++)x[P]=this.i(P)|N.i(P);return new u(x,this.h|N.h)},r.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),x=[],P=0;P<A;P++)x[P]=this.i(P)^N.i(P);return new u(x,this.h^N.h)};function J(N){for(var A=N.g.length+1,x=[],P=0;P<A;P++)x[P]=N.i(P)<<1|N.i(P-1)>>>31;return new u(x,N.h)}function le(N,A){var x=A>>5;A%=32;for(var P=N.g.length-x,j=[],B=0;B<P;B++)j[B]=0<A?N.i(B+x)>>>A|N.i(B+x+1)<<32-A:N.i(B+x);return new u(j,N.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,nD=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,ja=u}).apply(typeof rb<"u"?rb:typeof self<"u"?self:typeof window<"u"?window:{});var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rD,oc,iD,Hf,iy,aD,sD,oD;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sf=="object"&&Sf];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=t(this);function a(f,v){if(v)e:{var E=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var q=f[R];if(!(q in E))break e;E=E[q]}f=f[f.length-1],R=E[f],v=v(R),v!=R&&v!=null&&e(E,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var E=0,R=!1,q={next:function(){if(!R&&E<f.length){var Z=E++;return{value:v(Z,f[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(f){return f||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function h(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function m(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,E){return f.call.apply(f.bind,arguments)}function _(f,v,E){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),f.apply(v,q)}}return function(){return f.apply(v,arguments)}}function w(f,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,w.apply(null,arguments)}function S(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function T(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(R,q,Z){for(var de=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)de[ze-2]=arguments[ze];return v.prototype[q].apply(R,de)}}function C(f){const v=f.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=f[R];return E}return[]}function I(f,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(h(R)){const q=f.length||0,Z=R.length||0;f.length=q+Z;for(let de=0;de<Z;de++)f[q+de]=R[de]}else f.push(R)}}class V{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(f){return/^[\s\xa0]*$/.test(f)}function H(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function X(f){return X[" "](f),f}X[" "]=function(){};var J=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function le(f,v,E){for(const R in f)v.call(E,f[R],R,f)}function N(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function A(f){const v={};for(const E in f)v[E]=f[E];return v}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(f,v){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)f[E]=R[E];for(let Z=0;Z<x.length;Z++)E=x[Z],Object.prototype.hasOwnProperty.call(R,E)&&(f[E]=R[E])}}function j(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function B(f){d.setTimeout(()=>{throw f},0)}function O(){var f=be;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Me{constructor(){this.h=this.g=null}add(v,E){const R=we.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var we=new V(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,be=new Me,U=()=>{const f=d.Promise.resolve(void 0);ie=()=>{f.then(ne)}};var ne=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(E){B(E)}var v=we;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ue=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return f}();function Ve(f,v){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(J){e:{try{X(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ie[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ve.aa.h.call(this)}}T(Ve,ce);var Ie={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Yt="closure_listenable_"+(1e6*Math.random()|0),dt=0;function Cr(f,v,E,R,q){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=q,this.key=++dt,this.da=this.fa=!1}function Ji(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function si(f){this.src=f,this.g={},this.h=0}si.prototype.add=function(f,v,E,R,q){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var de=is(f,v,R,q);return-1<de?(v=f[de],E||(v.fa=!1)):(v=new Cr(v,this.src,Z,!!R,q),v.fa=E,f.push(v)),v};function rs(f,v){var E=v.type;if(E in f.g){var R=f.g[E],q=Array.prototype.indexOf.call(R,v,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(R,q,1),Z&&(Ji(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function is(f,v,E,R){for(var q=0;q<f.length;++q){var Z=f[q];if(!Z.da&&Z.listener==v&&Z.capture==!!E&&Z.ha==R)return q}return-1}var as="closure_lm_"+(1e6*Math.random()|0),zl={};function Xc(f,v,E,R,q){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Xc(f,v[Z],E,R,q);return null}return E=Zc(E),f&&f[Yt]?f.K(v,E,m(R)?!!R.capture:!1,q):Kn(f,v,E,!1,R,q)}function Kn(f,v,E,R,q,Z){if(!v)throw Error("Invalid event type");var de=m(q)?!!q.capture:!!q,ze=co(f);if(ze||(f[as]=ze=new si(f)),E=ze.add(v,E,R,de,Z),E.proxy)return E;if(R=_p(),E.proxy=R,R.src=f,R.listener=E,f.addEventListener)Te||(q=de),q===void 0&&(q=!1),f.addEventListener(v.toString(),R,q);else if(f.attachEvent)f.attachEvent(ss(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _p(){function f(E){return v.call(f.src,f.listener,E)}const v=wp;return f}function ql(f,v,E,R,q){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)ql(f,v[Z],E,R,q);else R=m(R)?!!R.capture:!!R,E=Zc(E),f&&f[Yt]?(f=f.i,v=String(v).toString(),v in f.g&&(Z=f.g[v],E=is(Z,E,R,q),-1<E&&(Ji(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete f.g[v],f.h--)))):f&&(f=co(f))&&(v=f.g[v.toString()],f=-1,v&&(f=is(v,E,R,q)),(E=-1<f?v[f]:null)&&uo(E))}function uo(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Yt])rs(v.i,f);else{var E=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(E,R,f.capture):v.detachEvent?v.detachEvent(ss(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=co(v))?(rs(E,f),E.h==0&&(E.src=null,v[as]=null)):Ji(f)}}}function ss(f){return f in zl?zl[f]:zl[f]="on"+f}function wp(f,v){if(f.da)f=!0;else{v=new Ve(v,this);var E=f.listener,R=f.ha||f.src;f.fa&&uo(f),f=E.call(R,v)}return f}function co(f){return f=f[as],f instanceof si?f:null}var Yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zc(f){return typeof f=="function"?f:(f[Yl]||(f[Yl]=function(v){return f.handleEvent(v)}),f[Yl])}function Et(){fe.call(this),this.i=new si(this),this.M=this,this.F=null}T(Et,fe),Et.prototype[Yt]=!0,Et.prototype.removeEventListener=function(f,v,E,R){ql(this,f,v,E,R)};function tt(f,v){var E,R=f.F;if(R)for(E=[];R;R=R.F)E.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new ce(v,f);else if(v instanceof ce)v.target=v.target||f;else{var q=v;v=new ce(R,f),P(v,q)}if(q=!0,E)for(var Z=E.length-1;0<=Z;Z--){var de=v.g=E[Z];q=Vn(de,R,!0,v)&&q}if(de=v.g=f,q=Vn(de,R,!0,v)&&q,q=Vn(de,R,!1,v)&&q,E)for(Z=0;Z<E.length;Z++)de=v.g=E[Z],q=Vn(de,R,!1,v)&&q}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],R=0;R<E.length;R++)Ji(E[R]);delete f.g[v],f.h--}}this.F=null},Et.prototype.K=function(f,v,E,R){return this.i.add(String(f),v,!1,E,R)},Et.prototype.L=function(f,v,E,R){return this.i.add(String(f),v,!0,E,R)};function Vn(f,v,E,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Z=0;Z<v.length;++Z){var de=v[Z];if(de&&!de.da&&de.capture==E){var ze=de.listener,jt=de.ha||de.src;de.fa&&rs(f.i,de),q=ze.call(jt,R)!==!1&&q}}return q&&!R.defaultPrevented}function dn(f,v,E){if(typeof f=="function")E&&(f=w(f,E));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(f,v||0)}function Jc(f){f.g=dn(()=>{f.g=null,f.i&&(f.i=!1,Jc(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Ep extends fe{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Jc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(f){fe.call(this),this.h=f,this.g={}}T(os,fe);var ls=[];function us(f){le(f.g,function(v,E){this.g.hasOwnProperty(E)&&uo(v)},f),f.g={}}os.prototype.N=function(){os.aa.N.call(this),us(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=d.JSON.stringify,fo=d.JSON.parse,cs=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Gl(){}Gl.prototype.h=null;function Ql(f){return f.h||(f.h=f.i())}function Kl(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){ce.call(this,"d")}T(li,ce);function Wl(){ce.call(this,"c")}T(Wl,ce);var Ir={},$l=null;function ea(){return $l=$l||new Et}Ir.La="serverreachability";function ho(f){ce.call(this,Ir.La,f)}T(ho,ce);function ta(f){const v=ea();tt(v,new ho(v))}Ir.STAT_EVENT="statevent";function ed(f,v){ce.call(this,Ir.STAT_EVENT,f),this.stat=v}T(ed,ce);function pt(f){const v=ea();tt(v,new ed(v,f))}Ir.Ma="timingevent";function Ut(f,v){ce.call(this,Ir.Ma,f),this.size=v}T(Ut,ce);function Mt(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},v)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function Xl(f,v,E,R,q,Z){f.info(function(){if(f.g)if(Z)for(var de="",ze=Z.split("&"),jt=0;jt<ze.length;jt++){var qe=ze[jt].split("=");if(1<qe.length){var Qt=qe[0];qe=qe[1];var Bt=Qt.split("_");de=2<=Bt.length&&Bt[1]=="type"?de+(Qt+"="+qe+"&"):de+(Qt+"=redacted&")}}else de=null;else de=Z;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+v+`
`+E+`
`+de})}function bp(f,v,E,R,q,Z,de){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+v+`
`+E+`
`+Z+" "+de})}function na(f,v,E,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+ds(f,E)+(R?" "+R:"")})}function td(f,v){f.info(function(){return"TIMEOUT: "+v})}Wn.prototype.info=function(){};function ds(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var R=E[f];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var de=1;de<q.length;de++)q[de]=""}}}}return hr(E)}catch{return v}}var ra={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function kr(){}T(kr,Gl),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},xr=new kr;function bn(f,v,E,R){this.j=f,this.i=v,this.l=E,this.R=R||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var Zl={},po={};function pr(f,v,E){f.L=1,f.v=gs(Un(v)),f.m=E,f.P=!0,ci(f,null)}function ci(f,v){f.F=Date.now(),fs(f),f.A=Un(f.v);var E=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),iu(E.i,"t",R),f.C=0,E=f.j.J,f.h=new At,f.g=yd(f.j,E?v:null,!f.m),0<f.O&&(f.M=new Ep(w(f.Y,f,f.g),f.O)),v=f.U,E=f.g,R=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(ls[0]=q.toString()),q=ls);for(var Z=0;Z<q.length;Z++){var de=Xc(E,q[Z],R||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),ta(),Xl(f.i,f.u,f.A,f.l,f.R,f.m)}bn.prototype.ca=function(f){f=f.target;const v=this.M;v&&Jn(f)==3?v.j():this.Y(f)},bn.prototype.Y=function(f){try{if(f==this.g)e:{const Bt=Jn(this.g);var v=this.g.Ba();const vi=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||ud(this.g)))){this.J||Bt!=4||v==7||(v==8||0>=vi?ta(3):ta(2)),ia(this);var E=this.g.Z();this.X=E;t:if(nd(this)){var R=ud(this.g);f="";var q=R.length,Z=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Mr(this);var de="";break t}this.h.i=new d.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(Z&&v==q-1)});R.length=0,this.h.g+=f,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,bp(this.i,this.u,this.A,this.l,this.R,Bt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,jt=this.g;if((ze=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ze)){var qe=ze;break t}}qe=null}if(E=qe)na(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hs(this,E);else{this.o=!1,this.s=3,pt(12),en(this),Mr(this);break e}}if(this.P){E=!0;let tn;for(;!this.J&&this.C<de.length;)if(tn=rd(this,de),tn==po){Bt==4&&(this.s=4,pt(14),E=!1),na(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Zl){this.s=4,pt(15),na(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else na(this.i,this.l,tn,null),hs(this,tn);if(nd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||de.length!=0||this.h.h||(this.s=1,pt(16),E=!1),this.o=this.o&&E,!E)na(this.i,this.l,de,"[Invalid Chunked Response]"),en(this),Mr(this);else if(0<de.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),Ss(Qt),Qt.M=!0,pt(11))}}else na(this.i,this.l,de,null),hs(this,de);Bt==4&&en(this),this.o&&!this.J&&(Bt==4?pd(this.j,this):(this.o=!1,fs(this)))}else Rp(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),en(this),Mr(this)}}}catch{}finally{}};function nd(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function rd(f,v){var E=f.C,R=v.indexOf(`
`,E);return R==-1?po:(E=Number(v.substring(E,R)),isNaN(E)?Zl:(R+=1,R+E>v.length?po:(v=v.slice(R,R+E),f.C=R+E,v)))}bn.prototype.cancel=function(){this.J=!0,en(this)};function fs(f){f.S=Date.now()+f.I,id(f,f.I)}function id(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Mt(w(f.ba,f),v)}function ia(f){f.B&&(d.clearTimeout(f.B),f.B=null)}bn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(td(this.i,this.A),this.L!=2&&(ta(),pt(17)),en(this),this.s=2,Mr(this)):id(this,this.S-f)};function Mr(f){f.j.G==0||f.J||pd(f.j,f)}function en(f){ia(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,us(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function hs(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||Jl(E.h,f))){if(!f.K&&Jl(E.h,f)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Ao(E),So(E);else break e;uu(E),pt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Mt(w(E.Za,E),6e3));if(1>=go(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else yi(E,11)}else if((f.K||E.g==f)&&Ao(E),!G(v))for(q=E.Da.g.parse(v),v=0;v<q.length;v++){let qe=q[v];if(E.T=qe[0],qe=qe[1],E.G==2)if(qe[0]=="c"){E.K=qe[1],E.ia=qe[2];const Qt=qe[3];Qt!=null&&(E.la=Qt,E.j.info("VER="+E.la));const Bt=qe[4];Bt!=null&&(E.Aa=Bt,E.j.info("SVER="+E.Aa));const vi=qe[5];vi!=null&&typeof vi=="number"&&0<vi&&(R=1.5*vi,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const tn=f.g;if(tn){const jr=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var Z=R.h;Z.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(yo(Z,Z.h),Z.h=null))}if(R.D){const du=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;du&&(R.ya=du,st(R.I,R.D,du))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var de=f;if(R.qa=gd(R,R.J?R.ia:null,R.W),de.K){Tn(R.h,de);var ze=de,jt=R.L;jt&&(ze.I=jt),ze.B&&(ia(ze),fs(ze)),R.g=de}else fd(R);0<E.i.length&&Do(E)}else qe[0]!="stop"&&qe[0]!="close"||yi(E,7);else E.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?yi(E,7):ou(E):qe[0]!="noop"&&E.l&&E.l.ta(qe),E.v=0)}}ta(4)}catch{}}var ad=class{constructor(f,v){this.g=f,this.map=v}};function di(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function go(f){return f.h?1:f.g?f.g.size:0}function Jl(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function yo(f,v){f.g?f.g.add(v):f.h=v}function Tn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}di.prototype.cancel=function(){if(this.i=eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function eu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return C(f.i)}function Tp(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var v=[],E=f.length,R=0;R<E;R++)v.push(f[R]);return v}v=[],E=0;for(R in f)v[E++]=f[R];return v}function vo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const R in f)v[E++]=R;return v}}}function tu(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=vo(f),R=Tp(f),q=R.length,Z=0;Z<q;Z++)v.call(void 0,R[Z],E&&E[Z],f)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sp(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var R=f[E].indexOf("="),q=null;if(0<=R){var Z=f[E].substring(0,R);q=f[E].substring(R+1)}else Z=f[E];v(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Nt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Nt){this.h=f.h,ms(this,f.j),this.o=f.o,this.g=f.g,aa(this,f.s),this.l=f.l;var v=f.i,E=new hi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),fi(this,E),this.m=f.m}else f&&(v=String(f).match(ps))?(this.h=!1,ms(this,v[1]||"",!0),this.o=$n(v[2]||""),this.g=$n(v[3]||"",!0),aa(this,v[4]),this.l=$n(v[5]||"",!0),fi(this,v[6]||"",!0),this.m=$n(v[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Nt.prototype.toString=function(){var f=[],v=this.j;v&&f.push(ys(v,nu,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(ys(v,nu,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ys(E,E.charAt(0)=="/"?Dp:ru,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ys(E,_o)),f.join("")};function Un(f){return new Nt(f)}function ms(f,v,E){f.j=E?$n(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function aa(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function fi(f,v,E){v instanceof hi?(f.i=v,od(f.i,f.h)):(E||(v=ys(v,Ap)),f.i=new hi(v,f.h))}function st(f,v,E){f.i.set(v,E)}function gs(f){return st(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function $n(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ys(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,sd),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function sd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var nu=/[#\/\?@]/g,ru=/[#\?:]/g,Dp=/[#\?]/g,Ap=/[#\?@]/g,_o=/#/g;function hi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Xn(f){f.g||(f.g=new Map,f.h=0,f.i&&Sp(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}r=hi.prototype,r.add=function(f,v){Xn(this),this.i=null,f=Nr(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function pi(f,v){Xn(f),v=Nr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function mi(f,v){return Xn(f),v=Nr(f,v),f.g.has(v)}r.forEach=function(f,v){Xn(this),this.g.forEach(function(E,R){E.forEach(function(q){f.call(v,q,R,this)},this)},this)},r.na=function(){Xn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const q=f[R];for(let Z=0;Z<q.length;Z++)E.push(v[R])}return E},r.V=function(f){Xn(this);let v=[];if(typeof f=="string")mi(this,f)&&(v=v.concat(this.g.get(Nr(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},r.set=function(f,v){return Xn(this),this.i=null,f=Nr(this,f),mi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},r.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function iu(f,v,E){pi(f,v),0<E.length&&(f.i=null,f.g.set(Nr(f,v),C(E)),f.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const Z=encodeURIComponent(String(R)),de=this.V(R);for(R=0;R<de.length;R++){var q=Z;de[R]!==""&&(q+="="+encodeURIComponent(String(de[R]))),f.push(q)}}return this.i=f.join("&")};function Nr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function od(f,v){v&&!f.j&&(Xn(f),f.i=null,f.g.forEach(function(E,R){var q=R.toLowerCase();R!=q&&(pi(this,R),iu(this,q,E))},f)),f.j=v}function vs(f,v){const E=new Wn;if(d.Image){const R=new Image;R.onload=S(Zn,E,"TestLoadImage: loaded",!0,v,R),R.onerror=S(Zn,E,"TestLoadImage: error",!1,v,R),R.onabort=S(Zn,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=S(Zn,E,"TestLoadImage: timeout",!1,v,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function mr(f,v){const E=new Wn,R=new AbortController,q=setTimeout(()=>{R.abort(),Zn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(Z=>{clearTimeout(q),Z.ok?Zn(E,"TestPingServer: ok",!0,v):Zn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Zn(E,"TestPingServer: error",!1,v)})}function Zn(f,v,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function _s(){this.g=new cs}function Or(f,v,E){const R=E||"";try{tu(f,function(q,Z){let de=q;m(q)&&(de=hr(q)),v.push(R+Z+"="+encodeURIComponent(de))})}catch(q){throw v.push(R+"type="+encodeURIComponent("_badmap")),q}}function sa(f){this.l=f.Ub||null,this.j=f.eb||!1}T(sa,Gl),sa.prototype.g=function(){return new gi(this.l,this.j)},sa.prototype.i=function(f){return function(){return f}}({});function gi(f,v){Et.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(gi,Et),r=gi.prototype,r.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Lr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;au(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function au(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Pr(this):Lr(this),this.readyState==3&&au(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Pr(this))},r.Qa=function(f){this.g&&(this.response=f,Pr(this))},r.ga=function(){this.g&&Pr(this)};function Pr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Lr(f)}r.setRequestHeader=function(f,v){this.u.append(f,v)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function Lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function su(f){let v="";return le(f,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function Gt(f,v,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=su(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):st(f,v,E))}function Ze(f){Et.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ze,Et);var wo=/^https?$/i,ws=["POST","PUT"];r=Ze.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?Ql(this.o):Ql(xr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(Z){ld(this,Z);return}if(f=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())E.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ws,v,void 0))||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,de]of E)this.g.setRequestHeader(Z,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){ld(this,Z)}};function ld(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Eo(f),Vr(f)}function Eo(f){f.A||(f.A=!0,tt(f,"complete"),tt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,tt(this,"complete"),tt(this,"abort"),Vr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),Ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?bo(this):this.bb())},r.bb=function(){bo(this)};function bo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Jn(f)!=4||f.Z()!=2)){if(f.u&&Jn(f)==4)dn(f.Ea,0,f);else if(tt(f,"readystatechange"),Jn(f)==4){f.h=!1;try{const de=f.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var R;if(R=de===0){var q=String(f.D).match(ps)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),R=!wo.test(q?q.toLowerCase():"")}E=R}if(E)tt(f,"complete"),tt(f,"success");else{f.m=6;try{var Z=2<Jn(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",Eo(f)}}finally{Vr(f)}}}}function Vr(f,v){if(f.g){Es(f);const E=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||tt(f,"ready");try{E.onreadystatechange=R}catch{}}}function Es(f){f.I&&(d.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Jn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),fo(v)}};function ud(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Rp(f){const v={};f=(f.g&&2<=Jn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(G(f[R]))continue;var E=j(f[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=v[q]||[];v[q]=Z,Z.push(E)}N(v,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function To(f){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,f),this.cb=bs("retryDelaySeedMs",1e4,f),this.Wa=bs("forwardChannelMaxRetries",2,f),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new di(f&&f.concurrentRequestLimit),this.Da=new _s,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=To.prototype,r.la=8,r.G=1,r.connect=function(f,v,E,R){pt(0),this.W=f,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=gd(this,null,this.W),Do(this)};function ou(f){if(cd(f),f.G==3){var v=f.U++,E=Un(f.I);if(st(E,"SID",f.K),st(E,"RID",v),st(E,"TYPE","terminate"),Ts(f,E),v=new bn(f,f.j,v),v.L=2,v.v=gs(Un(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=yd(v.j,null),v.g.ea(v.v)),v.F=Date.now(),fs(v)}md(f)}function So(f){f.g&&(Ss(f),f.g.cancel(),f.g=null)}function cd(f){So(f),f.u&&(d.clearTimeout(f.u),f.u=null),Ao(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Do(f){if(!mo(f.h)&&!f.s){f.s=!0;var v=f.Ga;ie||U(),ue||(ie(),ue=!0),be.add(v,f),f.B=0}}function Cp(f,v){return go(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Mt(w(f.Ga,f,v),cu(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new bn(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=A(Z),P(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=dd(this,q,v),E=Un(this.I),st(E,"RID",f),st(E,"CVER",22),this.D&&st(E,"X-HTTP-Session-Id",this.D),Ts(this,E),Z&&(this.O?v="headers="+encodeURIComponent(String(su(Z)))+"&"+v:this.m&&Gt(E,this.m,Z)),yo(this.h,q),this.Ua&&st(E,"TYPE","init"),this.P?(st(E,"$req",v),st(E,"SID","null"),q.T=!0,pr(q,E,null)):pr(q,E,v),this.G=2}}else this.G==3&&(f?lu(this,f):this.i.length==0||mo(this.h)||lu(this))};function lu(f,v){var E;v?E=v.l:E=f.U++;const R=Un(f.I);st(R,"SID",f.K),st(R,"RID",E),st(R,"AID",f.T),Ts(f,R),f.m&&f.o&&Gt(R,f.m,f.o),E=new bn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=dd(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),yo(f.h,E),pr(E,R,v)}function Ts(f,v){f.H&&le(f.H,function(E,R){st(v,R,E)}),f.l&&tu({},function(E,R){st(v,R,E)})}function dd(f,v,E){E=Math.min(f.i.length,E);var R=f.l?w(f.l.Na,f.l,f):null;e:{var q=f.i;let Z=-1;for(;;){const de=["count="+E];Z==-1?0<E?(Z=q[0].g,de.push("ofs="+Z)):Z=0:de.push("ofs="+Z);let ze=!0;for(let jt=0;jt<E;jt++){let qe=q[jt].g;const Qt=q[jt].map;if(qe-=Z,0>qe)Z=Math.max(0,q[jt].g-100),ze=!1;else try{Or(Qt,de,"req"+qe+"_")}catch{R&&R(Qt)}}if(ze){R=de.join("&");break e}}}return f=f.i.splice(0,E),v.D=f,R}function fd(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ie||U(),ue||(ie(),ue=!0),be.add(v,f),f.v=0}}function uu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Mt(w(f.Fa,f),cu(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,hd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Mt(w(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),So(this),hd(this))};function Ss(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function hd(f){f.g=new bn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Un(f.qa);st(v,"RID","rpc"),st(v,"SID",f.K),st(v,"AID",f.T),st(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&st(v,"TO",f.ja),st(v,"TYPE","xmlhttp"),Ts(f,v),f.m&&f.o&&Gt(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=gs(Un(v)),E.m=null,E.P=!0,ci(E,f)}r.Za=function(){this.C!=null&&(this.C=null,So(this),uu(this),pt(19))};function Ao(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function pd(f,v){var E=null;if(f.g==v){Ao(f),Ss(f),f.g=null;var R=2}else if(Jl(f.h,v))E=v.D,Tn(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var q=f.B;R=ea(),tt(R,new Ut(R,E)),Do(f)}else fd(f);else if(q=v.s,q==3||q==0&&0<v.X||!(R==1&&Cp(f,v)||R==2&&uu(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),q){case 1:yi(f,5);break;case 4:yi(f,10);break;case 3:yi(f,6);break;default:yi(f,2)}}}function cu(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function yi(f,v){if(f.j.info("Error code "+v),v==2){var E=w(f.fb,f),R=f.Xa;const q=!R;R=new Nt(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ms(R,"https"),gs(R),q?vs(R.toString(),E):mr(R.toString(),E)}else pt(2);f.G=0,f.l&&f.l.sa(v),md(f),cd(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function md(f){if(f.G=0,f.ka=[],f.l){const v=eu(f.h);(v.length!=0||f.i.length!=0)&&(I(f.ka,v),I(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function gd(f,v,E){var R=E instanceof Nt?Un(E):new Nt(E);if(R.g!="")v&&(R.g=v+"."+R.g),aa(R,R.s);else{var q=d.location;R=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Z=new Nt(null);R&&ms(Z,R),v&&(Z.g=v),q&&aa(Z,q),E&&(Z.l=E),R=Z}return E=f.D,v=f.ya,E&&v&&st(R,E,v),st(R,"VER",f.la),Ts(f,R),R}function yd(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Ze(new sa({eb:E})):new Ze(f.pa),v.Ha(f.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vd(){}r=vd.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ro(){}Ro.prototype.g=function(f,v){return new Sn(f,v)};function Sn(f,v){Et.call(this),this.g=new To(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!G(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Ur(this)}T(Sn,Et),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){ou(this.g)},Sn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=hr(f),f=E);v.i.push(new ad(v.Ya++,f)),v.G==3&&Do(v)},Sn.prototype.N=function(){this.g.l=null,delete this.j,ou(this.g),delete this.g,Sn.aa.N.call(this)};function _d(f){li.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const E in v){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}T(_d,li);function wd(){Wl.call(this),this.status=1}T(wd,Wl);function Ur(f){this.g=f}T(Ur,vd),Ur.prototype.ua=function(){tt(this.g,"a")},Ur.prototype.ta=function(f){tt(this.g,new _d(f))},Ur.prototype.sa=function(f){tt(this.g,new wd)},Ur.prototype.ra=function(){tt(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,oD=function(){return new Ro},sD=function(){return ea()},aD=Ir,iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Hf=ra,ui.COMPLETE="complete",iD=ui,Kl.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",Et.prototype.listen=Et.prototype.K,oc=Kl,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,rD=Ze}).apply(typeof Sf<"u"?Sf:typeof self<"u"?self:typeof window<"u"?window:{});const ib="@firebase/firestore",ab="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new jy("@firebase/firestore");function rl(){return Zs.logLevel}function me(r,...e){if(Zs.logLevel<=Fe.DEBUG){const t=e.map(Xy);Zs.debug(`Firestore (${Vl}): ${r}`,...t)}}function Gi(r,...e){if(Zs.logLevel<=Fe.ERROR){const t=e.map(Xy);Zs.error(`Firestore (${Vl}): ${r}`,...t)}}function vl(r,...e){if(Zs.logLevel<=Fe.WARN){const t=e.map(Xy);Zs.warn(`Firestore (${Vl}): ${r}`,...t)}}function Xy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r="Unexpected state"){const e=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: `+r;throw Gi(e),new Error(e)}function et(r,e){r||Ce()}function ke(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends $i{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mn.UNAUTHENTICATED))}shutdown(){}}class IN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xN{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let n=this.i;const a=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let o=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vi,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},d=h=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(et(typeof n.accessToken=="string"),new lD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new mn(e)}}class kN{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MN{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new kN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){et(this.o===void 0);const n=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const a=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new sb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new sb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=ON(40);for(let o=0;o<a.length;++o)n.length<20&&a[o]<t&&(n+=e.charAt(a[o]%62))}return n}}function Pe(r,e){return r<e?-1:r>e?1:0}function ay(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),a=e.codePointAt(t);if(n!==a){if(n<128&&a<128)return Pe(n,a);{const o=uD(),u=PN(o.encode(ob(r,t)),o.encode(ob(e,t)));return u!==0?u:Pe(n,a)}}t+=n>65535?2:1}return Pe(r.length,e.length)}function ob(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function PN(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Pe(r[t],e[t]);return Pe(r.length,e.length)}function _l(r,e,t){return r.length===e.length&&r.every((n,a)=>t(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=-62135596800,ub=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ub);return new zt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lb)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ub}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new zt(0,0))}static max(){return new xe(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__name__";class Yr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ce(),n===void 0?n=e.length-t:n>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const o=Yr.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Pe(e.length,t.length)}static compareSegments(e,t){const n=Yr.isNumericId(e),a=Yr.isNumericId(t);return n&&!a?-1:!n&&a?1:n&&a?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):ay(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ja.fromString(e.substring(4,e.length-2))}}class ht extends Yr{construct(e,t,n){return new ht(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(a=>a.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const LN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Yr{construct(e,t,n){return new on(e,t,n)}static isValidIdentifier(e){return LN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cb}static keyField(){return new on([cb])}static fromServerFormat(e){const t=[];let n="",a=0;const o=()=>{if(n.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(n+=d,a++):(o(),a++)}if(o(),u)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ht.fromString(e))}static fromName(e){return new Ee(ht.fromString(e).popFirst(5))}static empty(){return new Ee(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function VN(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(n===1e9?new zt(t+1,0):new zt(t,n));return new za(a,Ee.empty(),e)}function UN(r){return new za(r.readTime,r.key,bc)}class za{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new za(xe.min(),Ee.empty(),bc)}static max(){return new za(xe.max(),Ee.empty(),bc)}}function jN(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(r.documentKey,e.documentKey),t!==0?t:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==BN)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((n,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,n)=>{t(e)})}static reject(e){return new oe((t,n)=>{n(e)})}static waitFor(e){return new oe((t,n)=>{let a=0,o=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++o,u&&o===a&&t()},h=>n(h))}),u=!0,o===a&&t()})}static or(e){let t=oe.resolve(!1);for(const n of e)t=t.next(a=>a?oe.resolve(a):n());return t}static forEach(e,t){const n=[];return e.forEach((a,o)=>{n.push(t.call(this,a,o))}),this.waitFor(n)}static mapArray(e,t){return new oe((n,a)=>{const o=e.length,u=new Array(o);let d=0;for(let h=0;h<o;h++){const m=h;t(e[m]).next(y=>{u[m]=y,++d,d===o&&n(u)},y=>a(y))}})}static doWhile(e,t){return new oe((n,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):n()};o()})}}function HN(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.oe(n),this._e=n=>t.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Fh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=-1;function Hh(r){return r==null}function uh(r){return r===0&&1/r==-1/0}function zN(r){return typeof r=="number"&&Number.isInteger(r)&&!uh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="";function qN(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=db(e)),e=YN(r.get(t),e);return db(e)}function YN(r,e){let t=e;const n=r.length;for(let a=0;a<n;a++){const o=r.charAt(a);switch(o){case"\0":t+="";break;case dD:t+="";break;default:t+=o}}return t}function db(r){return r+dD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function es(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function fD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,n,a,o){this.key=e,this.value=t,this.color=n??sn.RED,this.left=a??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,o){return new sn(e??this.key,t??this.value,n??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const o=n(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,n),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,n,a,o){return this}insert(e,t,n){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hb(this.data.getIterator())}getIteratorFrom(e){return new hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new qt(on.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _l(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hD("Invalid base64 string: "+o):o}}(e);return new cn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const GN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(r){if(et(!!r),typeof r=="string"){let e=0;const t=GN.exec(r);if(et(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ya(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="server_timestamp",mD="__type__",gD="__previous_value__",yD="__local_write_time__";function Jy(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[mD])===null||t===void 0?void 0:t.stringValue)===pD}function zh(r){const e=r.mapValue.fields[gD];return Jy(e)?zh(e):e}function Tc(r){const e=qa(r.mapValue.fields[yD].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t,n,a,o,u,d,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=m}}const ch="(default)";class Sc{constructor(e,t){this.projectId=e,this.database=t||ch}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="__type__",KN="__max__",Af={mapValue:{}},_D="__vector__",dh="value";function Ga(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jy(r)?4:$N(r)?9007199254740991:WN(r)?10:11:Ce()}function ri(r,e){if(r===e)return!0;const t=Ga(r);if(t!==Ga(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Tc(r).isEqual(Tc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=qa(a.timestampValue),d=qa(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,o){return Ya(a.bytesValue).isEqual(Ya(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,o){return It(a.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(r,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return It(a.integerValue)===It(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=It(a.doubleValue),d=It(o.doubleValue);return u===d?uh(u)===uh(d):isNaN(u)&&isNaN(d)}return!1}(r,e);case 9:return _l(r.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(fb(u)!==fb(d))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(d[h]===void 0||!ri(u[h],d[h])))return!1;return!0}(r,e);default:return Ce()}}function Dc(r,e){return(r.values||[]).find(t=>ri(t,e))!==void 0}function wl(r,e){if(r===e)return 0;const t=Ga(r),n=Ga(e);if(t!==n)return Pe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(o,u){const d=It(o.integerValue||o.doubleValue),h=It(u.integerValue||u.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(r,e);case 3:return pb(r.timestampValue,e.timestampValue);case 4:return pb(Tc(r),Tc(e));case 5:return ay(r.stringValue,e.stringValue);case 6:return function(o,u){const d=Ya(o),h=Ya(u);return d.compareTo(h)}(r.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),h=u.split("/");for(let m=0;m<d.length&&m<h.length;m++){const y=Pe(d[m],h[m]);if(y!==0)return y}return Pe(d.length,h.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Pe(It(o.latitude),It(u.latitude));return d!==0?d:Pe(It(o.longitude),It(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return mb(r.arrayValue,e.arrayValue);case 10:return function(o,u){var d,h,m,y;const _=o.fields||{},w=u.fields||{},S=(d=_[dh])===null||d===void 0?void 0:d.arrayValue,T=(h=w[dh])===null||h===void 0?void 0:h.arrayValue,C=Pe(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((y=T==null?void 0:T.values)===null||y===void 0?void 0:y.length)||0);return C!==0?C:mb(S,T)}(r.mapValue,e.mapValue);case 11:return function(o,u){if(o===Af.mapValue&&u===Af.mapValue)return 0;if(o===Af.mapValue)return 1;if(u===Af.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),m=u.fields||{},y=Object.keys(m);h.sort(),y.sort();for(let _=0;_<h.length&&_<y.length;++_){const w=ay(h[_],y[_]);if(w!==0)return w;const S=wl(d[h[_]],m[y[_]]);if(S!==0)return S}return Pe(h.length,y.length)}(r.mapValue,e.mapValue);default:throw Ce()}}function pb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const t=qa(r),n=qa(e),a=Pe(t.seconds,n.seconds);return a!==0?a:Pe(t.nanos,n.nanos)}function mb(r,e){const t=r.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const o=wl(t[a],n[a]);if(o)return o}return Pe(t.length,n.length)}function El(r){return sy(r)}function sy(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=qa(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ya(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ee.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",a=!0;for(const o of t.values||[])a?a=!1:n+=",",n+=sy(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of n)o?o=!1:a+=",",a+=`${u}:${sy(t.fields[u])}`;return a+"}"}(r.mapValue):Ce()}function zf(r){switch(Ga(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(r);return e?16+zf(e):16;case 5:return 2*r.stringValue.length;case 6:return Ya(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,o)=>a+zf(o),0)}(r.arrayValue);case 10:case 11:return function(n){let a=0;return es(n.fields,(o,u)=>{a+=o.length+zf(u)}),a}(r.mapValue);default:throw Ce()}}function gb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function oy(r){return!!r&&"integerValue"in r}function ev(r){return!!r&&"arrayValue"in r}function yb(r){return!!r&&"nullValue"in r}function vb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qf(r){return!!r&&"mapValue"in r}function WN(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[vD])===null||t===void 0?void 0:t.stringValue)===_D}function pc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return es(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=pc(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function $N(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!qf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(t)}setAll(e){let t=on.emptyPath(),n={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,n,a),n={},a=[],t=d.popLast()}u?n[d.lastSegment()]=pc(u):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,a)}delete(e){const t=this.field(e.popLast());qf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){es(t,(a,o)=>e[a]=o);for(const a of n)delete e[a]}clone(){return new Nn(pc(this.value))}}function wD(r){const e=[];return es(r.fields,(t,n)=>{const a=new on([t]);if(qf(n)){const o=wD(n.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t,n,a,o,u,d){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new gn(e,0,xe.min(),xe.min(),xe.min(),Nn.empty(),0)}static newFoundDocument(e,t,n,a){return new gn(e,1,t,xe.min(),n,a,0)}static newNoDocument(e,t){return new gn(e,2,t,xe.min(),xe.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new gn(e,3,t,xe.min(),xe.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t){this.position=e,this.inclusive=t}}function _b(r,e,t){let n=0;for(let a=0;a<r.position.length;a++){const o=e[a],u=r.position[a];if(o.field.isKeyField()?n=Ee.comparator(Ee.fromName(u.referenceValue),t.key):n=wl(u,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function wb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ri(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function XN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{}class Vt extends ED{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new JN(e,t,n):t==="array-contains"?new nO(e,n):t==="in"?new rO(e,n):t==="not-in"?new iO(e,n):t==="array-contains-any"?new aO(e,n):new Vt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new eO(e,n):new tO(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(wl(t,this.value)):t!==null&&Ga(this.value)===Ga(t)&&this.matchesComparison(wl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends ED{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Tr(e,t)}matches(e){return bD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bD(r){return r.op==="and"}function TD(r){return ZN(r)&&bD(r)}function ZN(r){for(const e of r.filters)if(e instanceof Tr)return!1;return!0}function ly(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+El(r.value);if(TD(r))return r.filters.map(e=>ly(e)).join(",");{const e=r.filters.map(t=>ly(t)).join(",");return`${r.op}(${e})`}}function SD(r,e){return r instanceof Vt?function(n,a){return a instanceof Vt&&n.op===a.op&&n.field.isEqual(a.field)&&ri(n.value,a.value)}(r,e):r instanceof Tr?function(n,a){return a instanceof Tr&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((o,u,d)=>o&&SD(u,a.filters[d]),!0):!1}(r,e):void Ce()}function DD(r){return r instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${El(t.value)}`}(r):r instanceof Tr?function(t){return t.op.toString()+" {"+t.getFilters().map(DD).join(" ,")+"}"}(r):"Filter"}class JN extends Vt{constructor(e,t,n){super(e,t,n),this.key=Ee.fromName(n.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class eO extends Vt{constructor(e,t){super(e,"in",t),this.keys=AD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tO extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=AD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AD(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ee.fromName(n.referenceValue))}class nO extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ev(t)&&Dc(t.arrayValue,this.value)}}class rO extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dc(this.value.arrayValue,t)}}class iO extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Dc(this.value.arrayValue,t)}}class aO extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ev(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Dc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,t=null,n=[],a=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=o,this.startAt=u,this.endAt=d,this.le=null}}function Eb(r,e=null,t=[],n=[],a=null,o=null,u=null){return new sO(r,e,t,n,a,o,u)}function tv(r){const e=ke(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>ly(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>El(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>El(n)).join(",")),e.le=t}return e.le}function nv(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!XN(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!SD(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wb(r.startAt,e.startAt)&&wb(r.endAt,e.endAt)}function uy(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t=null,n=[],a=[],o=null,u="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function oO(r,e,t,n,a,o,u,d){return new Bl(r,e,t,n,a,o,u,d)}function qh(r){return new Bl(r)}function bb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RD(r){return r.collectionGroup!==null}function mc(r){const e=ke(r);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new qt(on.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Ac(o,n))}),t.has(on.keyField().canonicalString())||e.he.push(new Ac(on.keyField(),n))}return e.he}function Jr(r){const e=ke(r);return e.Pe||(e.Pe=lO(e,mc(r))),e.Pe}function lO(r,e){if(r.limitType==="F")return Eb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Ac(a.field,o)});const t=r.endAt?new fh(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new fh(r.startAt.position,r.startAt.inclusive):null;return Eb(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function cy(r,e){const t=r.filters.concat([e]);return new Bl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function dy(r,e,t){return new Bl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Yh(r,e){return nv(Jr(r),Jr(e))&&r.limitType===e.limitType}function CD(r){return`${tv(Jr(r))}|lt:${r.limitType}`}function il(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(a=>DD(a)).join(", ")}]`),Hh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>El(a)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>El(a)).join(",")),`Target(${n})`}(Jr(r))}; limitType=${r.limitType})`}function Gh(r,e){return e.isFoundDocument()&&function(n,a){const o=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ee.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,a){for(const o of mc(n))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,a){for(const o of n.filters)if(!o.matches(a))return!1;return!0}(r,e)&&function(n,a){return!(n.startAt&&!function(u,d,h){const m=_b(u,d,h);return u.inclusive?m<=0:m<0}(n.startAt,mc(n),a)||n.endAt&&!function(u,d,h){const m=_b(u,d,h);return u.inclusive?m>=0:m>0}(n.endAt,mc(n),a))}(r,e)}function uO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ID(r){return(e,t)=>{let n=!1;for(const a of mc(r)){const o=cO(a,e,t);if(o!==0)return o;n=n||a.field.isKeyField()}return 0}}function cO(r,e,t){const n=r.field.isKeyField()?Ee.comparator(e.key,t.key):function(o,u,d){const h=u.data.field(o),m=d.data.field(o);return h!==null&&m!==null?wl(h,m):Ce()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,o]of n)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(t,n)=>{for(const[a,o]of n)e(a,o)})}isEmpty(){return fD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new wt(Ee.comparator);function Qi(){return dO}const xD=new wt(Ee.comparator);function lc(...r){let e=xD;for(const t of r)e=e.insert(t.key,t);return e}function kD(r){let e=xD;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function zs(){return gc()}function MD(){return gc()}function gc(){return new ao(r=>r.toString(),(r,e)=>r.isEqual(e))}const fO=new wt(Ee.comparator),hO=new qt(Ee.comparator);function He(...r){let e=hO;for(const t of r)e=e.add(t);return e}const pO=new qt(Pe);function mO(){return pO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function ND(r){return{integerValue:""+r}}function gO(r,e){return zN(e)?ND(e):rv(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function yO(r,e,t){return r instanceof Rc?function(a,o){const u={fields:{[mD]:{stringValue:pD},[yD]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Jy(o)&&(o=zh(o)),o&&(u.fields[gD]=o),{mapValue:u}}(t,e):r instanceof Cc?PD(r,e):r instanceof Ic?LD(r,e):function(a,o){const u=OD(a,o),d=Tb(u)+Tb(a.Ie);return oy(u)&&oy(a.Ie)?ND(d):rv(a.serializer,d)}(r,e)}function vO(r,e,t){return r instanceof Cc?PD(r,e):r instanceof Ic?LD(r,e):t}function OD(r,e){return r instanceof hh?function(n){return oy(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Rc extends Qh{}class Cc extends Qh{constructor(e){super(),this.elements=e}}function PD(r,e){const t=VD(e);for(const n of r.elements)t.some(a=>ri(a,n))||t.push(n);return{arrayValue:{values:t}}}class Ic extends Qh{constructor(e){super(),this.elements=e}}function LD(r,e){let t=VD(e);for(const n of r.elements)t=t.filter(a=>!ri(a,n));return{arrayValue:{values:t}}}class hh extends Qh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Tb(r){return It(r.integerValue||r.doubleValue)}function VD(r){return ev(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.field=e,this.transform=t}}function wO(r,e){return r.field.isEqual(e.field)&&function(n,a){return n instanceof Cc&&a instanceof Cc||n instanceof Ic&&a instanceof Ic?_l(n.elements,a.elements,ri):n instanceof hh&&a instanceof hh?ri(n.Ie,a.Ie):n instanceof Rc&&a instanceof Rc}(r.transform,e.transform)}class EO{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kh{}function UD(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new iv(r.key,dr.none()):new Fc(r.key,r.data,dr.none());{const t=r.data,n=Nn.empty();let a=new qt(on.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?n.delete(o):n.set(o,u),a=a.add(o)}return new ts(r.key,n,new Gn(a.toArray()),dr.none())}}function bO(r,e,t){r instanceof Fc?function(a,o,u){const d=a.value.clone(),h=Db(a.fieldTransforms,o,u.transformResults);d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(r,e,t):r instanceof ts?function(a,o,u){if(!Yf(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=Db(a.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(jD(a)),h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function yc(r,e,t,n){return r instanceof Fc?function(o,u,d,h){if(!Yf(o.precondition,u))return d;const m=o.value.clone(),y=Ab(o.fieldTransforms,h,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(r,e,t,n):r instanceof ts?function(o,u,d,h){if(!Yf(o.precondition,u))return d;const m=Ab(o.fieldTransforms,h,u),y=u.data;return y.setAll(jD(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(r,e,t,n):function(o,u,d){return Yf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(r,e,t)}function TO(r,e){let t=null;for(const n of r.fieldTransforms){const a=e.data.field(n.field),o=OD(n.transform,a||null);o!=null&&(t===null&&(t=Nn.empty()),t.set(n.field,o))}return t||null}function Sb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&_l(n,a,(o,u)=>wO(o,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Fc extends Kh{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ts extends Kh{constructor(e,t,n,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jD(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Db(r,e,t){const n=new Map;et(r.length===t.length);for(let a=0;a<t.length;a++){const o=r[a],u=o.transform,d=e.data.field(o.field);n.set(o.field,vO(u,d,t[a]))}return n}function Ab(r,e,t){const n=new Map;for(const a of r){const o=a.transform,u=t.data.field(a.field);n.set(a.field,yO(o,u,e))}return n}class iv extends Kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends Kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&bO(o,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=MD();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(a.key)?null:d;const h=UD(u,d);h!==null&&n.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(xe.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),He())}isEqual(e){return this.batchId===e.batchId&&_l(this.mutations,e.mutations,(t,n)=>Sb(t,n))&&_l(this.baseMutations,e.baseMutations,(t,n)=>Sb(t,n))}}class av{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){et(e.mutations.length===n.length);let a=function(){return fO}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,n[u].version);return new av(e,t,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ge;function CO(r){switch(r){case se.OK:return Ce();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ce()}}function BD(r){if(r===void 0)return Gi("GRPC error has no .code"),se.UNKNOWN;switch(r){case Lt.OK:return se.OK;case Lt.CANCELLED:return se.CANCELLED;case Lt.UNKNOWN:return se.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return se.INTERNAL;case Lt.UNAVAILABLE:return se.UNAVAILABLE;case Lt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Lt.NOT_FOUND:return se.NOT_FOUND;case Lt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Lt.ABORTED:return se.ABORTED;case Lt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Lt.DATA_LOSS:return se.DATA_LOSS;default:return Ce()}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new ja([4294967295,4294967295],0);function Rb(r){const e=uD().encode(r),t=new nD;return t.update(e),new Uint8Array(t.digest())}function Cb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ja([t,n],0),new ja([a,o],0)]}class sv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new uc(`Invalid padding: ${t}`);if(n<0)throw new uc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new uc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ja.fromNumber(this.Ee)}Ae(e,t,n){let a=e.add(t.multiply(ja.fromNumber(n)));return a.compare(IO)===1&&(a=new ja([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Rb(e),[n,a]=Cb(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(n,a,o);if(!this.Re(u))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new sv(o,a,t);return n.forEach(d=>u.insert(d)),u}insert(e){if(this.Ee===0)return;const t=Rb(e),[n,a]=Cb(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(n,a,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t,n,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wh(xe.min(),a,new wt(Pe),Qi(),He())}}class Hc{constructor(e,t,n,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Hc(n,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t,n,a){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=a}}class FD{constructor(e,t){this.targetId=e,this.ge=t}}class HD{constructor(e,t,n=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class Ib{constructor(){this.pe=0,this.ye=xb(),this.we=cn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=He(),t=He(),n=He();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:Ce()}}),new Hc(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=xb()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,et(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class xO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Qi(),this.$e=Rf(),this.Ue=Rf(),this.Ke=new wt(Pe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((n,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,n=e.ge.count,a=this.Xe(t);if(a){const o=a.target;if(uy(o))if(n===0){const u=new Ee(o.path);this.ze(t,u,gn.newNoDocument(u,xe.min()))}else et(n===1);else{const u=this.et(t);if(u!==n){const d=this.tt(e),h=d?this.nt(d,e,u):1;if(h!==0){this.Ye(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:o=0}=t;let u,d;try{u=Ya(n).toUint8Array()}catch(h){if(h instanceof hD)return vl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new sv(u,a,o)}catch(h){return vl(h instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Ee===0?null:d}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let a=0;return n.forEach(o=>{const u=this.ke.it(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,o,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const d=this.Xe(u);if(d){if(o.current&&uy(d.target)){const h=new Ee(d.target.path);this._t(h).has(u)||this.ut(u,h)||this.ze(u,h,gn.newNoDocument(h,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let n=He();this.Ue.forEach((o,u)=>{let d=!0;u.forEachWhile(h=>{const m=this.Xe(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(n=n.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const a=new Wh(e,t,this.Ke,this.Qe,n);return this.Qe=Qi(),this.$e=Rf(),this.Ue=Rf(),this.Ke=new wt(Pe),a}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Ib,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new qt(Pe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new qt(Pe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ib),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Rf(){return new wt(Ee.comparator)}function xb(){return new wt(Ee.comparator)}const kO={asc:"ASCENDING",desc:"DESCENDING"},MO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NO={and:"AND",or:"OR"};class OO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fy(r,e){return r.useProto3Json||Hh(e)?e:{value:e}}function ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zD(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PO(r,e){return ph(r,e.toTimestamp())}function ei(r){return et(!!r),xe.fromTimestamp(function(t){const n=qa(t);return new zt(n.seconds,n.nanos)}(r))}function ov(r,e){return hy(r,e).canonicalString()}function hy(r,e){const t=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function qD(r){const e=ht.fromString(r);return et(WD(e)),e}function py(r,e){return ov(r.databaseId,e.path)}function Og(r,e){const t=qD(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ee(GD(t))}function YD(r,e){return ov(r.databaseId,e)}function LO(r){const e=qD(r);return e.length===4?ht.emptyPath():GD(e)}function my(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GD(r){return et(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function kb(r,e,t){return{name:py(r,e),fields:t.value.mapValue.fields}}function VO(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(et(y===void 0||typeof y=="string"),cn.fromBase64String(y||"")):(et(y===void 0||y instanceof Buffer||y instanceof Uint8Array),cn.fromUint8Array(y||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const y=m.code===void 0?se.UNKNOWN:BD(m.code);return new ge(y,m.message||"")}(u);t=new HD(n,a,o,d||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Og(r,n.document.name),o=ei(n.document.updateTime),u=n.document.createTime?ei(n.document.createTime):xe.min(),d=new Nn({mapValue:{fields:n.document.fields}}),h=gn.newFoundDocument(a,o,u,d),m=n.targetIds||[],y=n.removedTargetIds||[];t=new Gf(m,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Og(r,n.document),o=n.readTime?ei(n.readTime):xe.min(),u=gn.newNoDocument(a,o),d=n.removedTargetIds||[];t=new Gf([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Og(r,n.document),o=n.removedTargetIds||[];t=new Gf([],o,a,null)}else{if(!("filter"in e))return Ce();{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:o}=n,u=new RO(a,o),d=n.targetId;t=new FD(d,u)}}return t}function UO(r,e){let t;if(e instanceof Fc)t={update:kb(r,e.key,e.value)};else if(e instanceof iv)t={delete:py(r,e.key)};else if(e instanceof ts)t={update:kb(r,e.key,e.data),updateMask:QO(e.fieldMask)};else{if(!(e instanceof SO))return Ce();t={verify:py(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,u){const d=u.transform;if(d instanceof Rc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ic)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof hh)return{fieldPath:u.field.canonicalString(),increment:d.Ie};throw Ce()}(0,n))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:PO(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ce()}(r,e.precondition)),t}function jO(r,e){return r&&r.length>0?(et(e!==void 0),r.map(t=>function(a,o){let u=a.updateTime?ei(a.updateTime):ei(o);return u.isEqual(xe.min())&&(u=ei(o)),new EO(u,a.transformResults||[])}(t,e))):[]}function BO(r,e){return{documents:[YD(r,e.path)]}}function FO(r,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=YD(r,a);const o=function(m){if(m.length!==0)return KD(Tr.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(y=>function(w){return{field:al(w.field),direction:qO(w.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=fy(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function HO(r){let e=LO(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){et(n===1);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(_){const w=QD(_);return w instanceof Tr&&TD(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(w=>function(T){return new Ac(sl(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(_){let w;return w=typeof _=="object"?_.value:_,Hh(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(_){const w=!!_.before,S=_.values||[];return new fh(S,w)}(t.startAt));let m=null;return t.endAt&&(m=function(_){const w=!_.before,S=_.values||[];return new fh(S,w)}(t.endAt)),oO(e,a,u,o,d,"F",h,m)}function zO(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QD(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=sl(t.unaryFilter.field);return Vt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=sl(t.unaryFilter.field);return Vt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=sl(t.unaryFilter.field);return Vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=sl(t.unaryFilter.field);return Vt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(r):r.fieldFilter!==void 0?function(t){return Vt.create(sl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Tr.create(t.compositeFilter.filters.map(n=>QD(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(r):Ce()}function qO(r){return kO[r]}function YO(r){return MO[r]}function GO(r){return NO[r]}function al(r){return{fieldPath:r.canonicalString()}}function sl(r){return on.fromServerFormat(r.fieldPath)}function KD(r){return r instanceof Vt?function(t){if(t.op==="=="){if(vb(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NAN"}};if(yb(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vb(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NOT_NAN"}};if(yb(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(t.field),op:YO(t.op),value:t.value}}}(r):r instanceof Tr?function(t){const n=t.getFilters().map(a=>KD(a));return n.length===1?n[0]:{compositeFilter:{op:GO(t.op),filters:n}}}(r):Ce()}function QO(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WD(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t,n,a,o=xe.min(),u=xe.min(),d=cn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.Tt=e}}function WO(r){const e=HO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.Tn=new XO}addToCollectionParentIndex(e,t){return this.Tn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(za.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(za.min())}updateCollectionGroup(e,t,n){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class XO{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new qt(ht.comparator),o=!a.has(n);return this.index[t]=a.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new qt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$D=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn($D,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new bl(0)}static Kn(){return new bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="LruGarbageCollector",ZO=1048576;function Ob([r,e],[t,n]){const a=Pe(r,t);return a===0?Pe(e,n):a}class JO{constructor(e){this.Hn=e,this.buffer=new qt(Ob),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Ob(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eP{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(Nb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jl(t)?me(Nb,"Ignoring IndexedDB error during garbage collection: ",t):await Ul(t)}await this.er(3e5)})}}class tP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Fh.ae);const n=new JO(t);return this.tr.forEachTarget(e,a=>n.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>n.Zn(a))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Mb)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,a,o,u,d,h,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(n=_,d=Date.now(),this.removeTargets(e,n,t))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(_=>(m=Date.now(),rl()<=Fe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${_} documents in `+(m-h)+`ms
Total Duration: ${m-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function nP(r,e){return new tP(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?oe.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(n!==null&&yc(n.mutation,a,Gn.empty(),zt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,He()).next(()=>n))}getLocalViewOfDocuments(e,t,n=He()){const a=zs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,n).next(o=>{let u=lc();return o.forEach((d,h)=>{u=u.insert(d,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=zs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,He()))}populateOverlays(e,t,n){const a=[];return n.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,n,a){let o=Qi();const u=gc(),d=function(){return gc()}();return t.forEach((h,m)=>{const y=n.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof ts)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),yc(y.mutation,m,y.mutation.getFieldMask(),zt.now())):u.set(m.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var _;return d.set(m,new iP(y,(_=u.get(m))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){const n=gc();let a=new wt((u,d)=>u-d),o=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let y=n.get(h)||Gn.empty();y=d.applyToLocalView(m,y),n.set(h,y);const _=(a.get(d.batchId)||He()).add(h);a=a.insert(d.batchId,_)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),m=h.key,y=h.value,_=MD();y.forEach(w=>{if(!o.has(w)){const S=UD(t.get(w),n.get(w));S!==null&&_.set(w,S),o=o.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return oe.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,a){return function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):RD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-o.size):oe.resolve(zs());let d=bc,h=o;return u.next(m=>oe.forEach(m,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),o.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{h=h.insert(y,w)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,h,m,He())).next(y=>({batchId:d,changes:kD(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(n=>{let a=lc();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const o=t.collectionGroup;let u=lc();return this.indexManager.getCollectionParents(e,o).next(d=>oe.forEach(d,h=>{const m=function(_,w){return new Bl(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,n,a).next(y=>{y.forEach((_,w)=>{u=u.insert(_,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,n,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,a))).next(u=>{o.forEach((h,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,gn.newInvalidDocument(y)))});let d=lc();return u.forEach((h,m)=>{const y=o.get(h);y!==void 0&&yc(y.mutation,m,Gn.empty(),zt.now()),Gh(t,m)&&(d=d.insert(h,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return oe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ei(a.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:WO(a.bundledQuery),readTime:ei(a.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.overlays=new wt(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zs();return oe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&n.set(a,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((a,o)=>{this.Et(e,t,o)}),oe.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.Rr.get(n);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(n)),oe.resolve()}getOverlaysForCollection(e,t,n){const a=zs(),o=t.length+1,u=new Ee(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const h=d.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&h.largestBatchId>n&&a.set(h.getKey(),h)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let o=new wt((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>n){let y=o.get(m.largestBatchId);y===null&&(y=zs(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=zs(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=a)););return oe.resolve(d)}Et(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(n.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new AO(t,n));let o=this.Rr.get(t);o===void 0&&(o=He(),this.Rr.set(t,o)),this.Rr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Vr=new qt(Xt.mr),this.gr=new qt(Xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Xt(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.wr(new Xt(e,t))}Sr(e,t){e.forEach(n=>this.removeReference(n,t))}br(e){const t=new Ee(new ht([])),n=new Xt(t,e),a=new Xt(t,e+1),o=[];return this.gr.forEachInRange([n,a],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new ht([])),n=new Xt(t,e),a=new Xt(t,e+1);let o=He();return this.gr.forEachInRange([n,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Xt(e,0),n=this.Vr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Xt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||Pe(e.Cr,t.Cr)}static pr(e,t){return Pe(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new qt(Xt.mr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new DO(o,t,n,a);this.mutationQueue.push(u);for(const d of a)this.Mr=this.Mr.add(new Xt(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,t){return oe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.Nr(n),o=a<0?0:a;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Zy:this.Fr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([n,a],u=>{const d=this.Or(u.Cr);o.push(d)}),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new qt(Pe);return t.forEach(a=>{const o=new Xt(a,0),u=new Xt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],d=>{n=n.add(d.Cr)})}),oe.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let o=n;Ee.isDocumentKey(o)||(o=o.child(""));const u=new Xt(new Ee(o),0);let d=new qt(Pe);return this.Mr.forEachWhile(h=>{const m=h.key.path;return!!n.isPrefixOf(m)&&(m.length===a&&(d=d.add(h.Cr)),!0)},u),oe.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(n=>{const a=this.Or(n);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return oe.forEach(t.mutations,a=>{const o=new Xt(a.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new Xt(t,0),a=this.Mr.firstAfterOrEqual(n);return oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.kr=e,this.docs=function(){return new wt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),o=a?a.size:0,u=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return oe.resolve(n?n.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let n=Qi();return t.forEach(a=>{const o=this.docs.get(a);n=n.insert(a,o?o.document.mutableCopy():gn.newInvalidDocument(a))}),oe.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let o=Qi();const u=t.path,d=new Ee(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:m,value:{document:y}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||jN(UN(y),n)<=0||(a.has(y.key)||Gh(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,t,n,a){Ce()}qr(e,t){return oe.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new dP(this)}getSize(e){return oe.resolve(this.size)}}class dP extends rP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(n)}),oe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.persistence=e,this.Qr=new ao(t=>tv(t),nv),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new lv,this.targetCount=0,this.Kr=bl.Un()}forEachTarget(e,t){return this.Qr.forEach((n,a)=>t(a)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),oe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new bl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.zn(t),oe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,n){let a=0;const o=[];return this.Qr.forEach((u,d)=>{d.sequenceNumber<=t&&n.get(d.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),oe.waitFor(o).next(()=>a)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return oe.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),oe.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),oe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return oe.resolve(n)}containsKey(e,t){return oe.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Fh(0),this.zr=!1,this.zr=!0,this.jr=new lP,this.referenceDelegate=e(this),this.Hr=new fP(this),this.indexManager=new $O,this.remoteDocumentCache=function(a){return new cP(a)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new KO(t),this.Yr=new sP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new uP(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){me("MemoryPersistence","Starting transaction:",e);const a=new hP(this.Gr.next());return this.referenceDelegate.Zr(),n(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,t){return oe.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class hP extends FN{constructor(e){super(),this.currentSequenceNumber=e}}class uv{constructor(e){this.persistence=e,this.ti=new lv,this.ni=null}static ri(e){return new uv(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),oe.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),oe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.ii,n=>{const a=Ee.fromPath(n);return this.si(e,a).next(o=>{o||t.removeEntry(a,xe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(n=>{n?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return oe.or([()=>oe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class mh{constructor(e,t){this.persistence=e,this.oi=new ao(n=>qN(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=nP(this,t)}static ri(e,t){return new mh(e,t)}Zr(){}Xr(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(a=>n+a))}sr(e){let t=0;return this.rr(e,n=>{t++}).next(()=>t)}rr(e,t){return oe.forEach(this.oi,(n,a)=>this.ar(e,n,a).next(o=>o?oe.resolve():t(a)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,t).next(d=>{d||(n++,o.removeEntry(u,xe.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),oe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zf(e.data.value)),t}ar(e,t,n){return oe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return oe.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=a}static Yi(e,t){let n=He(),a=He();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new cv(e,t.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return KI()?8:HN(En())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,a){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,a,n).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new pP;return this._s(e,t,u).next(d=>{if(o.result=d,this.Xi)return this.us(e,t,u,d.size)})}).next(()=>o.result)}us(e,t,n,a){return n.documentReadCount<this.es?(rl()<=Fe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",il(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),oe.resolve()):(rl()<=Fe.DEBUG&&me("QueryEngine","Query:",il(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ts*a?(rl()<=Fe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",il(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):oe.resolve())}rs(e,t){if(bb(t))return oe.resolve(null);let n=Jr(t);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=dy(t,null,"F"),n=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const u=He(...o);return this.ns.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,n).next(h=>{const m=this.cs(t,d);return this.ls(t,m,u,h.readTime)?this.rs(e,dy(t,null,"F")):this.hs(e,m,t,h)}))})))}ss(e,t,n,a){return bb(t)||a.isEqual(xe.min())?oe.resolve(null):this.ns.getDocuments(e,n).next(o=>{const u=this.cs(t,o);return this.ls(t,u,n,a)?oe.resolve(null):(rl()<=Fe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),il(t)),this.hs(e,u,t,VN(a,bc)).next(d=>d))})}cs(e,t){let n=new qt(ID(e));return t.forEach((a,o)=>{Gh(e,o)&&(n=n.add(o))}),n}ls(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,t,n){return rl()<=Fe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",il(t)),this.ns.getDocumentsMatchingQuery(e,t,za.min(),n)}hs(e,t,n,a){return this.ns.getDocumentsMatchingQuery(e,n,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="LocalStore",gP=3e8;class yP{constructor(e,t,n,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new wt(Pe),this.Is=new ao(o=>tv(o),nv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function vP(r,e,t,n){return new yP(r,e,t,n)}async function ZD(r,e){const t=ke(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next(o=>(a=o,t.As(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const u=[],d=[];let h=He();for(const m of a){u.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}for(const m of o){d.push(m.batchId);for(const y of m.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(n,h).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:d}))})})}function _P(r,e){const t=ke(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,h,m,y){const _=m.batch,w=_.keys();let S=oe.resolve();return w.forEach(T=>{S=S.next(()=>y.getEntry(h,T)).next(C=>{const I=m.docVersions.get(T);et(I!==null),C.version.compareTo(I)<0&&(_.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),y.addEntry(C)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(h,_))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(d){let h=He();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(h=h.add(d.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(n,a))})}function JD(r){const e=ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function wP(r,e){const t=ke(r),n=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((y,_)=>{const w=a.get(_);if(!w)return;d.push(t.Hr.removeMatchingKeys(o,y.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,y.addedDocuments,_)));let S=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(cn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,n)),a=a.insert(_,S),function(C,I,V){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=gP?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(w,S,y)&&d.push(t.Hr.updateTargetData(o,S))});let h=Qi(),m=He();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(EP(o,u,e.documentUpdates).next(y=>{h=y.Vs,m=y.fs})),!n.isEqual(xe.min())){const y=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,n));d.push(y)}return oe.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,m)).next(()=>h)}).then(o=>(t.Ts=a,o))}function EP(r,e,t){let n=He(),a=He();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let u=Qi();return t.forEach((d,h)=>{const m=o.get(d);h.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(xe.min())?(e.removeEntry(d,h.readTime),u=u.insert(d,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(d,h)):me(dv,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",h.version)}),{Vs:u,fs:a}})}function bP(r,e){const t=ke(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Zy),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function TP(r,e){const t=ke(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return t.Hr.getTargetData(n,e).next(o=>o?(a=o,oe.resolve(a)):t.Hr.allocateTargetId(n).next(u=>(a=new Oa(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Hr.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=t.Ts.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(n.targetId,n),t.Is.set(e,n.targetId)),n})}async function gy(r,e,t){const n=ke(r),a=n.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,u=>n.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!jl(u))throw u;me(dv,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ts=n.Ts.remove(e),n.Is.delete(a.target)}function Pb(r,e,t){const n=ke(r);let a=xe.min(),o=He();return n.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,y){const _=ke(h),w=_.Is.get(y);return w!==void 0?oe.resolve(_.Ts.get(w)):_.Hr.getTargetData(m,y)}(n,u,Jr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(u,d.targetId).next(h=>{o=h})}).next(()=>n.Ps.getDocumentsMatchingQuery(u,e,t?a:xe.min(),t?o:He())).next(d=>(SP(n,uO(e),d),{documents:d,gs:o})))}function SP(r,e,t){let n=r.Es.get(e)||xe.min();t.forEach((a,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.Es.set(e,n)}class Lb{constructor(){this.activeTargetIds=mO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DP{constructor(){this.ho=new Lb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Lb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="ConnectivityMonitor";class Ub{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(Vb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(Vb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=null;function yy(){return Cf===null?Cf=function(){return 268435456+Math.round(2147483648*Math.random())}():Cf++,"0x"+Cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="RestConnection",RP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${a}`,this.wo=this.databaseId.database===ch?`project_id=${n}`:`project_id=${n}&database_id=${a}`}So(e,t,n,a,o){const u=yy(),d=this.bo(e,t.toUriEncodedString());me(Pg,`Sending RPC '${e}' ${u}:`,d,n);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,a,o),this.vo(e,d,h,n).then(m=>(me(Pg,`Received RPC '${e}' ${u}: `,m),m),m=>{throw vl(Pg,`RPC '${e}' ${u} failed with error: `,m,"url: ",d,"request:",n),m})}Co(e,t,n,a,o,u){return this.So(e,t,n,a,o)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),n&&n.headers.forEach((a,o)=>e[o]=a)}bo(e,t){const n=RP[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class xP extends CP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,a){const o=yy();return new Promise((u,d)=>{const h=new rD;h.setWithCredentials(!0),h.listenOnce(iD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Hf.NO_ERROR:const y=h.getResponseJson();me(pn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),u(y);break;case Hf.TIMEOUT:me(pn,`RPC '${e}' ${o} timed out`),d(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case Hf.HTTP_ERROR:const _=h.getStatus();if(me(pn,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const T=function(I){const V=I.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(V)>=0?V:se.UNKNOWN}(S.status);d(new ge(T,S.message))}else d(new ge(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{me(pn,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(a);me(pn,`RPC '${e}' ${o} sending request:`,a),h.send(t,"POST",m,n,15)})}Wo(e,t,n){const a=yy(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=oD(),d=sD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const y=o.join("");me(pn,`Creating RPC '${e}' stream ${a}: ${y}`,h);const _=u.createWebChannel(y,h);let w=!1,S=!1;const T=new IP({Fo:I=>{S?me(pn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(w||(me(pn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),me(pn,`RPC '${e}' stream ${a} sending:`,I),_.send(I))},Mo:()=>_.close()}),C=(I,V,G)=>{I.listen(V,H=>{try{G(H)}catch(X){setTimeout(()=>{throw X},0)}})};return C(_,oc.EventType.OPEN,()=>{S||(me(pn,`RPC '${e}' stream ${a} transport opened.`),T.Qo())}),C(_,oc.EventType.CLOSE,()=>{S||(S=!0,me(pn,`RPC '${e}' stream ${a} transport closed`),T.Uo())}),C(_,oc.EventType.ERROR,I=>{S||(S=!0,vl(pn,`RPC '${e}' stream ${a} transport errored:`,I),T.Uo(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),C(_,oc.EventType.MESSAGE,I=>{var V;if(!S){const G=I.data[0];et(!!G);const H=G,X=(H==null?void 0:H.error)||((V=H[0])===null||V===void 0?void 0:V.error);if(X){me(pn,`RPC '${e}' stream ${a} received error:`,X);const J=X.status;let le=function(x){const P=Lt[x];if(P!==void 0)return BD(P)}(J),N=X.message;le===void 0&&(le=se.INTERNAL,N="Unknown error status: "+J+" with message "+X.message),S=!0,T.Uo(new ge(le,N)),_.close()}else me(pn,`RPC '${e}' stream ${a} received:`,G),T.Ko(G)}}),C(d,aD.STAT_EVENT,I=>{I.stat===iy.PROXY?me(pn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===iy.NOPROXY&&me(pn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(r){return new OO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,n=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-n);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="PersistentStream";class tA{constructor(e,t,n,a,o,u,d,h){this.Ti=e,this.n_=n,this.r_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new eA(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Gi(t.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.i_===t&&this.V_(n,a)},n=>{e(()=>{const a=new ge(se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(a)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{n(()=>this.m_(a))}),this.stream.onMessage(a=>{n(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(jb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(me(jb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kP extends tA{constructor(e,t,n,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=VO(this.serializer,e),n=function(o){if(!("targetChange"in o))return xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?ei(u.readTime):xe.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=my(this.serializer),t.addTarget=function(o,u){let d;const h=u.target;if(d=uy(h)?{documents:BO(o,h)}:{query:FO(o,h).ht},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=zD(o,u.resumeToken);const m=fy(o,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(xe.min())>0){d.readTime=ph(o,u.snapshotVersion.toTimestamp());const m=fy(o,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const n=zO(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=my(this.serializer),t.removeTarget=e,this.I_(t)}}class MP extends tA{constructor(e,t,n,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=jO(e.writeResults,e.commitTime),n=ei(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=my(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>UO(this.serializer,n))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{}class OP extends NP{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,hy(t,n),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(se.UNKNOWN,o.toString())})}Co(e,t,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Co(e,hy(t,n),a,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(se.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class PP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gi(t),this.N_=!1):me("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class LP{constructor(e,t,n,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{n.enqueueAndForget(async()=>{so(this)&&(me(Js,"Restarting streams for network reachability change."),await async function(h){const m=ke(h);m.W_.add(4),await zc(m),m.j_.set("Unknown"),m.W_.delete(4),await Xh(m)}(this))})}),this.j_=new PP(n,a)}}async function Xh(r){if(so(r))for(const e of r.G_)await e(!0)}async function zc(r){for(const e of r.G_)await e(!1)}function nA(r,e){const t=ke(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),mv(t)?pv(t):Fl(t).c_()&&hv(t,e))}function fv(r,e){const t=ke(r),n=Fl(t);t.K_.delete(e),n.c_()&&rA(t,e),t.K_.size===0&&(n.c_()?n.P_():so(t)&&t.j_.set("Unknown"))}function hv(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fl(r).y_(e)}function rA(r,e){r.H_.Ne(e),Fl(r).w_(e)}function pv(r){r.H_=new xO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Fl(r).start(),r.j_.B_()}function mv(r){return so(r)&&!Fl(r).u_()&&r.K_.size>0}function so(r){return ke(r).W_.size===0}function iA(r){r.H_=void 0}async function VP(r){r.j_.set("Online")}async function UP(r){r.K_.forEach((e,t)=>{hv(r,e)})}async function jP(r,e){iA(r),mv(r)?(r.j_.q_(e),pv(r)):r.j_.set("Unknown")}async function BP(r,e,t){if(r.j_.set("Online"),e instanceof HD&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const d of o.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.K_.delete(d),a.H_.removeTarget(d))}(r,e)}catch(n){me(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await gh(r,n)}else if(e instanceof Gf?r.H_.We(e):e instanceof FD?r.H_.Ze(e):r.H_.je(e),!t.isEqual(xe.min()))try{const n=await JD(r.localStore);t.compareTo(n)>=0&&await function(o,u){const d=o.H_.ot(u);return d.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.K_.get(m);y&&o.K_.set(m,y.withResumeToken(h.resumeToken,u))}}),d.targetMismatches.forEach((h,m)=>{const y=o.K_.get(h);if(!y)return;o.K_.set(h,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),rA(o,h);const _=new Oa(y.target,h,m,y.sequenceNumber);hv(o,_)}),o.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(n){me(Js,"Failed to raise snapshot:",n),await gh(r,n)}}async function gh(r,e,t){if(!jl(e))throw e;r.W_.add(1),await zc(r),r.j_.set("Offline"),t||(t=()=>JD(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{me(Js,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Xh(r)})}function aA(r,e){return e().catch(t=>gh(r,t,e))}async function Zh(r){const e=ke(r),t=Qa(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:Zy;for(;FP(e);)try{const a=await bP(e.localStore,n);if(a===null){e.U_.length===0&&t.P_();break}n=a.batchId,HP(e,a)}catch(a){await gh(e,a)}sA(e)&&oA(e)}function FP(r){return so(r)&&r.U_.length<10}function HP(r,e){r.U_.push(e);const t=Qa(r);t.c_()&&t.S_&&t.b_(e.mutations)}function sA(r){return so(r)&&!Qa(r).u_()&&r.U_.length>0}function oA(r){Qa(r).start()}async function zP(r){Qa(r).C_()}async function qP(r){const e=Qa(r);for(const t of r.U_)e.b_(t.mutations)}async function YP(r,e,t){const n=r.U_.shift(),a=av.from(n,e,t);await aA(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await Zh(r)}async function GP(r,e){e&&Qa(r).S_&&await async function(n,a){if(function(u){return CO(u)&&u!==se.ABORTED}(a.code)){const o=n.U_.shift();Qa(n).h_(),await aA(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Zh(n)}}(r,e),sA(r)&&oA(r)}async function Bb(r,e){const t=ke(r);t.asyncQueue.verifyOperationInProgress(),me(Js,"RemoteStore received new credentials");const n=so(t);t.W_.add(3),await zc(t),n&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Xh(t)}async function QP(r,e){const t=ke(r);e?(t.W_.delete(2),await Xh(t)):e||(t.W_.add(2),await zc(t),t.j_.set("Unknown"))}function Fl(r){return r.J_||(r.J_=function(t,n,a){const o=ke(t);return o.M_(),new kP(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{xo:VP.bind(null,r),No:UP.bind(null,r),Lo:jP.bind(null,r),p_:BP.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),mv(r)?pv(r):r.j_.set("Unknown")):(await r.J_.stop(),iA(r))})),r.J_}function Qa(r){return r.Y_||(r.Y_=function(t,n,a){const o=ke(t);return o.M_(),new MP(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:zP.bind(null,r),Lo:GP.bind(null,r),D_:qP.bind(null,r),v_:YP.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Zh(r)):(await r.Y_.stop(),r.U_.length>0&&(me(Js,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t,n,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=o,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,o){const u=Date.now()+n,d=new gv(e,t,u,a,o);return d.start(n),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(r,e){if(Gi("AsyncQueue",`${e}: ${r}`),jl(r))return new ge(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ee.comparator(t.key,n.key):(t,n)=>Ee.comparator(t.key,n.key),this.keyedMap=lc(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new fl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.Z_=new wt(Ee.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(t):e.type===1&&n.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Tl{constructor(e,t,n,a,o,u,d,h,m){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,n,a,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Tl(e,t,fl.emptySet(t),u,n,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class WP{constructor(){this.queries=Hb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,n){const a=ke(t),o=a.queries;a.queries=Hb(),o.forEach((u,d)=>{for(const h of d.ta)h.onError(n)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function Hb(){return new ao(r=>CD(r),Yh)}async function vv(r,e){const t=ke(r);let n=3;const a=e.query;let o=t.queries.get(a);o?!o.na()&&e.ra()&&(n=2):(o=new KP,n=e.ra()?0:1);try{switch(n){case 0:o.ea=await t.onListen(a,!0);break;case 1:o.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=yv(u,`Initialization of query '${il(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&wv(t)}async function _v(r,e){const t=ke(r),n=e.query;let a=3;const o=t.queries.get(n);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function $P(r,e){const t=ke(r);let n=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const d of u.ta)d.oa(a)&&(n=!0);u.ea=a}}n&&wv(t)}function XP(r,e,t){const n=ke(r),a=n.queries.get(e);if(a)for(const o of a.ta)o.onError(t);n.queries.delete(e)}function wv(r){r.ia.forEach(e=>{e.next()})}var vy,zb;(zb=vy||(vy={}))._a="default",zb.Cache="cache";class Ev{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Tl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const n=t!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==vy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.key=e}}class uA{constructor(e){this.key=e}}class ZP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=He(),this.mutatedKeys=He(),this.ya=ID(e),this.wa=new fl(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new Fb,a=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const w=a.get(y),S=Gh(this.query,_)?_:null,T=!!w&&this.mutatedKeys.has(w.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;w&&S?w.data.isEqual(S.data)?T!==C&&(n.track({type:3,doc:S}),I=!0):this.va(w,S)||(n.track({type:2,doc:S}),I=!0,(h&&this.ya(S,h)>0||m&&this.ya(S,m)<0)&&(d=!0)):!w&&S?(n.track({type:0,doc:S}),I=!0):w&&!S&&(n.track({type:1,doc:w}),I=!0,(h||m)&&(d=!0)),I&&(S?(u=u.add(S),o=C?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),n.track({type:1,doc:y})}return{wa:u,Da:n,ls:d,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((y,_)=>function(S,T){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return C(S)-C(T)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(n),a=a!=null&&a;const d=t&&!a?this.Fa():[],h=this.pa.size===0&&this.current&&!a?1:0,m=h!==this.ga;return this.ga=h,u.length!==0||m?{snapshot:new Tl(this.query,e.wa,o,u,e.mutatedKeys,h===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Fb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=He(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const t=[];return e.forEach(n=>{this.pa.has(n)||t.push(new uA(n))}),this.pa.forEach(n=>{e.has(n)||t.push(new lA(n))}),t}Oa(e){this.fa=e.gs,this.pa=He();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Tl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bv="SyncEngine";class JP{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class e2{constructor(e){this.key=e,this.Ba=!1}}class t2{constructor(e,t,n,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new ao(d=>CD(d),Yh),this.qa=new Map,this.Qa=new Set,this.$a=new wt(Ee.comparator),this.Ua=new Map,this.Ka=new lv,this.Wa={},this.Ga=new Map,this.za=bl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function n2(r,e,t=!0){const n=mA(r);let a;const o=n.ka.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await cA(n,e,t,!0),a}async function r2(r,e){const t=mA(r);await cA(t,e,!0,!1)}async function cA(r,e,t,n){const a=await TP(r.localStore,Jr(e)),o=a.targetId,u=r.sharedClientState.addLocalQueryTarget(o,t);let d;return n&&(d=await i2(r,e,o,u==="current",a.resumeToken)),r.isPrimaryClient&&t&&nA(r.remoteStore,a),d}async function i2(r,e,t,n,a){r.Ha=(_,w,S)=>async function(C,I,V,G){let H=I.view.ba(V);H.ls&&(H=await Pb(C.localStore,I.query,!1).then(({documents:N})=>I.view.ba(N,H)));const X=G&&G.targetChanges.get(I.targetId),J=G&&G.targetMismatches.get(I.targetId)!=null,le=I.view.applyChanges(H,C.isPrimaryClient,X,J);return Yb(C,I.targetId,le.Ma),le.snapshot}(r,_,w,S);const o=await Pb(r.localStore,e,!0),u=new ZP(e,o.gs),d=u.ba(o.documents),h=Hc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",a),m=u.applyChanges(d,r.isPrimaryClient,h);Yb(r,t,m.Ma);const y=new JP(e,t,u);return r.ka.set(e,y),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),m.snapshot}async function a2(r,e,t){const n=ke(r),a=n.ka.get(e),o=n.qa.get(a.targetId);if(o.length>1)return n.qa.set(a.targetId,o.filter(u=>!Yh(u,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await gy(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),t&&fv(n.remoteStore,a.targetId),_y(n,a.targetId)}).catch(Ul)):(_y(n,a.targetId),await gy(n.localStore,a.targetId,!0))}async function s2(r,e){const t=ke(r),n=t.ka.get(e),a=t.qa.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),fv(t.remoteStore,n.targetId))}async function o2(r,e,t){const n=p2(r);try{const a=await function(u,d){const h=ke(u),m=zt.now(),y=d.reduce((S,T)=>S.add(T.key),He());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let T=Qi(),C=He();return h.ds.getEntries(S,y).next(I=>{T=I,T.forEach((V,G)=>{G.isValidDocument()||(C=C.add(V))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,T)).next(I=>{_=I;const V=[];for(const G of d){const H=TO(G,_.get(G.key).overlayedDocument);H!=null&&V.push(new ts(G.key,H,wD(H.value.mapValue),dr.exists(!0)))}return h.mutationQueue.addMutationBatch(S,m,V,d)}).next(I=>{w=I;const V=I.applyToLocalDocumentSet(_,C);return h.documentOverlayCache.saveOverlays(S,I.batchId,V)})}).then(()=>({batchId:w.batchId,changes:kD(_)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(u,d,h){let m=u.Wa[u.currentUser.toKey()];m||(m=new wt(Pe)),m=m.insert(d,h),u.Wa[u.currentUser.toKey()]=m}(n,a.batchId,t),await qc(n,a.changes),await Zh(n.remoteStore)}catch(a){const o=yv(a,"Failed to persist write");t.reject(o)}}async function dA(r,e){const t=ke(r);try{const n=await wP(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t.Ua.get(o);u&&(et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?et(u.Ba):a.removedDocuments.size>0&&(et(u.Ba),u.Ba=!1))}),await qc(t,n,e)}catch(n){await Ul(n)}}function qb(r,e,t){const n=ke(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.ka.forEach((o,u)=>{const d=u.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const h=ke(u);h.onlineState=d;let m=!1;h.queries.forEach((y,_)=>{for(const w of _.ta)w.sa(d)&&(m=!0)}),m&&wv(h)}(n.eventManager,e),a.length&&n.La.p_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function l2(r,e,t){const n=ke(r);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n.Ua.get(e),o=a&&a.key;if(o){let u=new wt(Ee.comparator);u=u.insert(o,gn.newNoDocument(o,xe.min()));const d=He().add(o),h=new Wh(xe.min(),new Map,new wt(Pe),u,d);await dA(n,h),n.$a=n.$a.remove(o),n.Ua.delete(e),Tv(n)}else await gy(n.localStore,e,!1).then(()=>_y(n,e,t)).catch(Ul)}async function u2(r,e){const t=ke(r),n=e.batch.batchId;try{const a=await _P(t.localStore,e);hA(t,n,null),fA(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await qc(t,a)}catch(a){await Ul(a)}}async function c2(r,e,t){const n=ke(r);try{const a=await function(u,d){const h=ke(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return h.mutationQueue.lookupMutationBatch(m,d).next(_=>(et(_!==null),y=_.keys(),h.mutationQueue.removeMutationBatch(m,_))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>h.localDocuments.getDocuments(m,y))})}(n.localStore,e);hA(n,e,t),fA(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await qc(n,a)}catch(a){await Ul(a)}}function fA(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function hA(r,e,t){const n=ke(r);let a=n.Wa[n.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),n.Wa[n.currentUser.toKey()]=a}}function _y(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.qa.get(e))r.ka.delete(n),t&&r.La.Ja(n,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(n=>{r.Ka.containsKey(n)||pA(r,n)})}function pA(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(fv(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),Tv(r))}function Yb(r,e,t){for(const n of t)n instanceof lA?(r.Ka.addReference(n.key,e),d2(r,n)):n instanceof uA?(me(bv,"Document no longer in limbo: "+n.key),r.Ka.removeReference(n.key,e),r.Ka.containsKey(n.key)||pA(r,n.key)):Ce()}function d2(r,e){const t=e.key,n=t.path.canonicalString();r.$a.get(t)||r.Qa.has(n)||(me(bv,"New document in limbo: "+t),r.Qa.add(n),Tv(r))}function Tv(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Ee(ht.fromString(e)),n=r.za.next();r.Ua.set(n,new e2(t)),r.$a=r.$a.insert(t,n),nA(r.remoteStore,new Oa(Jr(qh(t.path)),n,"TargetPurposeLimboResolution",Fh.ae))}}async function qc(r,e,t){const n=ke(r),a=[],o=[],u=[];n.ka.isEmpty()||(n.ka.forEach((d,h)=>{u.push(n.Ha(h,e,t).then(m=>{var y;if((m||t)&&n.isPrimaryClient){const _=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(m){a.push(m);const _=cv.Yi(h.targetId,m);o.push(_)}}))}),await Promise.all(u),n.La.p_(a),await async function(h,m){const y=ke(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>oe.forEach(m,w=>oe.forEach(w.Hi,S=>y.persistence.referenceDelegate.addReference(_,w.targetId,S)).next(()=>oe.forEach(w.Ji,S=>y.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))}catch(_){if(!jl(_))throw _;me(dv,"Failed to update sequence numbers: "+_)}for(const _ of m){const w=_.targetId;if(!_.fromCache){const S=y.Ts.get(w),T=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(T);y.Ts=y.Ts.insert(w,C)}}}(n.localStore,o))}async function f2(r,e){const t=ke(r);if(!t.currentUser.isEqual(e)){me(bv,"User change. New user:",e.toKey());const n=await ZD(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(d=>{d.forEach(h=>{h.reject(new ge(se.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await qc(t,n.Rs)}}function h2(r,e){const t=ke(r),n=t.Ua.get(e);if(n&&n.Ba)return He().add(n.key);{let a=He();const o=t.qa.get(e);if(!o)return a;for(const u of o){const d=t.ka.get(u);a=a.unionWith(d.view.Sa)}return a}}function mA(r){const e=ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l2.bind(null,e),e.La.p_=$P.bind(null,e.eventManager),e.La.Ja=XP.bind(null,e.eventManager),e}function p2(r){const e=ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c2.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return vP(this.persistence,new mP,e.initialUser,this.serializer)}Xa(e){return new XD(uv.ri,this.serializer)}Za(e){return new DP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class m2 extends yh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){et(this.persistence.referenceDelegate instanceof mh);const n=this.persistence.referenceDelegate.garbageCollector;return new eP(n,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new XD(n=>mh.ri(n,t),this.serializer)}}class wy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>qb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=f2.bind(null,this.syncEngine),await QP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WP}()}createDatastore(e){const t=$h(e.databaseInfo.databaseId),n=function(o){return new xP(o)}(e.databaseInfo);return function(o,u,d,h){return new OP(o,u,d,h)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,a,o,u,d){return new LP(n,a,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>qb(this.syncEngine,t,0),function(){return Ub.D()?new Ub:new AP}())}createSyncEngine(e,t){return function(a,o,u,d,h,m,y){const _=new t2(a,o,u,d,h,m);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=ke(a);me(Js,"RemoteStore shutting down."),o.W_.add(5),await zc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wy.provider={build:()=>new wy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="FirestoreClient";class g2{constructor(e,t,n,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=cD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async u=>{me(Ka,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(me(Ka,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=yv(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Vg(r,e){r.asyncQueue.verifyOperationInProgress(),me(Ka,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async a=>{n.isEqual(a)||(await ZD(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Gb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await y2(r);me(Ka,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Bb(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,a)=>Bb(e.remoteStore,a)),r._onlineComponents=e}async function y2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(Ka,"Using user provided OfflineComponentProvider");try{await Vg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;vl("Error using user provided cache. Falling back to memory cache: "+t),await Vg(r,new yh)}}else me(Ka,"Using default OfflineComponentProvider"),await Vg(r,new m2(void 0));return r._offlineComponents}async function gA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(Ka,"Using user provided OnlineComponentProvider"),await Gb(r,r._uninitializedComponentsProvider._online)):(me(Ka,"Using default OnlineComponentProvider"),await Gb(r,new wy))),r._onlineComponents}function v2(r){return gA(r).then(e=>e.syncEngine)}async function vh(r){const e=await gA(r),t=e.eventManager;return t.onListen=n2.bind(null,e.syncEngine),t.onUnlisten=a2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=r2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=s2.bind(null,e.syncEngine),t}function _2(r,e,t={}){const n=new Vi;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,d,h,m){const y=new Sv({next:w=>{y.su(),u.enqueueAndForget(()=>_v(o,_));const S=w.docs.has(d);!S&&w.fromCache?m.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&h&&h.source==="server"?m.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new Ev(qh(d.path),y,{includeMetadataChanges:!0,Ta:!0});return vv(o,_)}(await vh(r),r.asyncQueue,e,t,n)),n.promise}function w2(r,e,t={}){const n=new Vi;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,d,h,m){const y=new Sv({next:w=>{y.su(),u.enqueueAndForget(()=>_v(o,_)),w.fromCache&&h.source==="server"?m.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new Ev(d,y,{includeMetadataChanges:!0,Ta:!0});return vv(o,_)}(await vh(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(r,e,t){if(!t)throw new ge(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function E2(r,e,t,n){if(e===!0&&n===!0)throw new ge(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Kb(r){if(!Ee.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wb(r){if(Ee.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce()}function Pn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jh(r);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="firestore.googleapis.com",$b=!0;class Xb{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_A,this.ssl=$b}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$b;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$D;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZO)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yA((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ep{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new CN;switch(n.type){case"firstParty":return new MN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Qb.get(t);n&&(me("ComponentProvider","Removing Datastore"),Qb.delete(t),n.terminate())}(this),Promise.resolve()}}function b2(r,e,t,n={}){var a;const o=(r=Pn(r,ep))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:r._getEmulatorOptions()}),d=`${e}:${t}`;o.host!==_A&&o.host!==d&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},o),{host:d,ssl:!1,emulatorOptions:n});if(!Ks(h,u)&&(r._setSettings(h),n.mockUserToken)){let m,y;if(typeof n.mockUserToken=="string")m=n.mockUserToken,y=mn.MOCK_USER;else{m=FI(n.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const _=n.mockUserToken.sub||n.mockUserToken.user_id;if(!_)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mn(_)}r._authCredentials=new IN(new lD(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class _n{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Ba extends ns{constructor(e,t,n){super(e,t,qh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Ee(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function yn(r,e,...t){if(r=Zt(r),vA("collection","path",e),r instanceof ep){const n=ht.fromString(e,...t);return Wb(n),new Ba(r,null,n)}{if(!(r instanceof _n||r instanceof Ba))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ht.fromString(e,...t));return Wb(n),new Ba(r.firestore,null,n)}}function vn(r,e,...t){if(r=Zt(r),arguments.length===1&&(e=cD.newId()),vA("doc","path",e),r instanceof ep){const n=ht.fromString(e,...t);return Kb(n),new _n(r,null,new Ee(n))}{if(!(r instanceof _n||r instanceof Ba))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ht.fromString(e,...t));return Kb(n),new _n(r.firestore,r instanceof Ba?r.converter:null,new Ee(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="AsyncQueue";class Jb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new eA(this,"async_queue_retry"),this.Su=()=>{const n=Lg();n&&me(Zb,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const t=Lg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Lg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Vi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!jl(e))throw e;me(Zb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const a=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(n);throw Gi("INTERNAL UNHANDLED ERROR: ",a),n}).then(n=>(this.pu=!1,n))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=gv.createAndSchedule(this,e,t,n,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function eT(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of n)if(o in a&&typeof a[o]=="function")return!0;return!1}(r,["next","error","complete"])}class Ki extends ep{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new Jb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jb(e),this._firestoreClient=void 0,await e}}}function T2(r,e){const t=typeof r=="object"?r:_S(),n=typeof r=="string"?r:ch,a=Fy(t,"firestore").getImmediate({identifier:n});if(!a._initialized){const o=jI("firestore");o&&b2(a,...o)}return a}function tp(r){if(r._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||S2(r),r._firestoreClient}function S2(r){var e,t,n;const a=r._freezeSettings(),o=function(d,h,m,y){return new QN(d,h,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,yA(y.experimentalLongPollingOptions),y.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new g2(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(cn.fromBase64String(e))}catch(t){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sl(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=/^__.*__$/;class A2{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}class wA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Rv{constructor(e,t,n,a,o,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Rv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:n,Qu:!1});return a.$u(e),a}Uu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:n,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return _h(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(EA(this.Lu)&&D2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class R2{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||$h(e)}ju(e,t,n,a=!1){return new Rv({Lu:e,methodName:t,zu:n,path:on.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ip(r){const e=r._freezeSettings(),t=$h(r._databaseId);return new R2(r._databaseId,!!e.ignoreUndefinedProperties,t)}function bA(r,e,t,n,a,o={}){const u=r.ju(o.merge||o.mergeFields?2:0,e,t,a);Iv("Data must be an object, but it was:",u,n);const d=TA(n,u);let h,m;if(o.merge)h=new Gn(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const w=Ey(e,_,t);if(!u.contains(w))throw new ge(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);DA(y,w)||y.push(w)}h=new Gn(y),m=u.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,m=u.fieldTransforms;return new A2(new Nn(d),h,m)}class ap extends rp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ap}}class Cv extends rp{_toFieldTransform(e){return new _O(e.path,new Rc)}isEqual(e){return e instanceof Cv}}function C2(r,e,t,n){const a=r.ju(1,e,t);Iv("Data must be an object, but it was:",a,n);const o=[],u=Nn.empty();es(n,(h,m)=>{const y=xv(e,h,t);m=Zt(m);const _=a.Uu(y);if(m instanceof ap)o.push(y);else{const w=Yc(m,_);w!=null&&(o.push(y),u.set(y,w))}});const d=new Gn(o);return new wA(u,d,a.fieldTransforms)}function I2(r,e,t,n,a,o){const u=r.ju(1,e,t),d=[Ey(e,n,t)],h=[a];if(o.length%2!=0)throw new ge(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)d.push(Ey(e,o[w])),h.push(o[w+1]);const m=[],y=Nn.empty();for(let w=d.length-1;w>=0;--w)if(!DA(m,d[w])){const S=d[w];let T=h[w];T=Zt(T);const C=u.Uu(S);if(T instanceof ap)m.push(S);else{const I=Yc(T,C);I!=null&&(m.push(S),y.set(S,I))}}const _=new Gn(m);return new wA(y,_,u.fieldTransforms)}function x2(r,e,t,n=!1){return Yc(t,r.ju(n?4:3,e))}function Yc(r,e){if(SA(r=Zt(r)))return Iv("Unsupported field value:",e,r),TA(r,e);if(r instanceof rp)return function(n,a){if(!EA(a.Lu))throw a.Wu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,a){const o=[];let u=0;for(const d of n){let h=Yc(d,a.Ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}}(r,e)}return function(n,a){if((n=Zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return gO(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=zt.fromDate(n);return{timestampValue:ph(a.serializer,o)}}if(n instanceof zt){const o=new zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ph(a.serializer,o)}}if(n instanceof Dv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Sl)return{bytesValue:zD(a.serializer,n._byteString)};if(n instanceof _n){const o=a.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ov(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Av)return function(u,d){return{mapValue:{fields:{[vD]:{stringValue:_D},[dh]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Wu("VectorValues must only contain numeric values.");return rv(d.serializer,m)})}}}}}}(n,a);throw a.Wu(`Unsupported field value: ${Jh(n)}`)}(r,e)}function TA(r,e){const t={};return fD(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(r,(n,a)=>{const o=Yc(a,e.qu(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function SA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof zt||r instanceof Dv||r instanceof Sl||r instanceof _n||r instanceof rp||r instanceof Av)}function Iv(r,e,t){if(!SA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const n=Jh(t);throw n==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+n)}}function Ey(r,e,t){if((e=Zt(e))instanceof np)return e._internalPath;if(typeof e=="string")return xv(r,e);throw _h("Field path arguments must be of type string or ",r,!1,void 0,t)}const k2=new RegExp("[~\\*/\\[\\]]");function xv(r,e,t){if(e.search(k2)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new np(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function _h(r,e,t,n,a){const o=n&&!n.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${n}`),u&&(h+=` in document ${a}`),h+=")"),new ge(se.INVALID_ARGUMENT,d+r+h)}function DA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t,n,a,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class M2 extends AA{data(){return super.data()}}function sp(r,e){return typeof e=="string"?xv(r,e):e instanceof np?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kv{}class CA extends kv{}function St(r,e,...t){let n=[];e instanceof kv&&n.push(e),n=n.concat(t),function(o){const u=o.filter(h=>h instanceof Mv).length,d=o.filter(h=>h instanceof op).length;if(u>1||u>0&&d>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)r=a._apply(r);return r}class op extends CA{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new op(e,t,n)}_apply(e){const t=this._parse(e);return IA(e._query,t),new ns(e.firestore,e.converter,cy(e._query,t))}_parse(e){const t=ip(e.firestore);return function(o,u,d,h,m,y,_){let w;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){nT(_,y);const T=[];for(const C of _)T.push(tT(h,o,C));w={arrayValue:{values:T}}}else w=tT(h,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||nT(_,y),w=x2(d,u,_,y==="in"||y==="not-in");return Vt.create(m,y,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Mi(r,e,t){const n=e,a=sp("where",r);return op._create(a,n,t)}class Mv extends kv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mv(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const d=o.getFlattenedFilters();for(const h of d)IA(u,h),u=cy(u,h)}(e._query,t),new ns(e.firestore,e.converter,cy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nv extends CA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Nv(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(o,u)}(e._query,this._field,this._direction);return new ns(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Bl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Ln(r,e="asc"){const t=e,n=sp("orderBy",r);return Nv._create(n,t)}function tT(r,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RD(e)&&t.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ht.fromString(t));if(!Ee.isDocumentKey(n))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return gb(r,new Ee(n))}if(t instanceof _n)return gb(r,t._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(t)}.`)}function nT(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IA(r,e){const t=function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class N2{convertValue(e,t="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return es(e,(a,o)=>{n[a]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,a;const o=(a=(n=(t=e.fields)===null||t===void 0?void 0:t[dh].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(u=>It(u.doubleValue));return new Av(o)}convertGeoPoint(e){return new Dv(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=zh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const t=qa(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ht.fromString(e);et(WD(n));const a=new Sc(n.get(1),n.get(3)),o=new Ee(n.popFirst(5));return a.isEqual(t)||Gi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kA extends AA{constructor(e,t,n,a,o,u){super(e,t,n,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Qf extends kA{data(e={}){return super.data(e)}}class MA{constructor(e,t,n,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new cc(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Qf(this._firestore,this._userDataWriter,n.key,n,new cc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const h=new Qf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new cc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const h=new Qf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new cc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:O2(d.type),doc:h,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r){r=Pn(r,_n);const e=Pn(r.firestore,Ki);return _2(tp(e),r._key).then(t=>OA(e,r,t))}class Ov extends N2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function On(r){r=Pn(r,ns);const e=Pn(r.firestore,Ki),t=tp(e),n=new Ov(e);return RA(r._query),w2(t,r._query).then(a=>new MA(e,n,r,a))}function P2(r,e,t){r=Pn(r,_n);const n=Pn(r.firestore,Ki),a=xA(r.converter,e);return lp(n,[bA(ip(n),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,dr.none())])}function hl(r,e,t,...n){r=Pn(r,_n);const a=Pn(r.firestore,Ki),o=ip(a);let u;return u=typeof(e=Zt(e))=="string"||e instanceof np?I2(o,"updateDoc",r._key,e,t,n):C2(o,"updateDoc",r._key,e),lp(a,[u.toMutation(r._key,dr.exists(!0))])}function Gc(r){return lp(Pn(r.firestore,Ki),[new iv(r._key,dr.none())])}function ti(r,e){const t=Pn(r.firestore,Ki),n=vn(r),a=xA(r.converter,e);return lp(t,[bA(ip(r.firestore),"addDoc",n._key,a,r.converter!==null,{}).toMutation(n._key,dr.exists(!1))]).then(()=>n)}function Xi(r,...e){var t,n,a;r=Zt(r);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||eT(e[u])||(o=e[u],u++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(eT(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(n=_.error)===null||n===void 0?void 0:n.bind(_),e[u+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let h,m,y;if(r instanceof _n)m=Pn(r.firestore,Ki),y=qh(r._key.path),h={next:_=>{e[u]&&e[u](OA(m,r,_))},error:e[u+1],complete:e[u+2]};else{const _=Pn(r,ns);m=Pn(_.firestore,Ki),y=_._query;const w=new Ov(m);h={next:S=>{e[u]&&e[u](new MA(m,w,_,S))},error:e[u+1],complete:e[u+2]},RA(r._query)}return function(w,S,T,C){const I=new Sv(C),V=new Ev(S,I,T);return w.asyncQueue.enqueueAndForget(async()=>vv(await vh(w),V)),()=>{I.su(),w.asyncQueue.enqueueAndForget(async()=>_v(await vh(w),V))}}(tp(m),y,d,h)}function lp(r,e){return function(n,a){const o=new Vi;return n.asyncQueue.enqueueAndForget(async()=>o2(await v2(n),a,o)),o.promise}(tp(r),e)}function OA(r,e,t){const n=t.docs.get(e._key),a=new Ov(r);return new kA(r,a,e._key,n,new cc(t.hasPendingWrites,t.fromCache),e.converter)}function Pv(){return new Cv("serverTimestamp")}(function(e,t=!0){(function(a){Vl=a})(Pl),yl(new Ws("firestore",(n,{instanceIdentifier:a,options:o})=>{const u=n.getProvider("app").getImmediate(),d=new Ki(new xN(n.getProvider("auth-internal")),new NN(u,n.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(m.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Ua(ib,ab,e),Ua(ib,ab,"esm2017")})();const L2={apiKey:"AIzaSyDUrmR-w4o-MwvQXVbAjNZgOnWinQeIArQ",authDomain:"trooper-sg.firebaseapp.com",projectId:"trooper-sg",storageBucket:"trooper-sg.firebasestorage.app",messagingSenderId:"570744451708",appId:"1:570744451708:web:cac2d6ff9d22d43fae8ff9"},PA=vS(L2),wn=T2(PA),oo=SN(PA);async function V2(r,e,t,n){try{uM(oo,r,n).then(async a=>{await P2(vn(wn,"users",a.user.uid),{email:r,first_name:e,last_name:t,user_id:a.user.uid})})}catch(a){console.error(a)}}function U2(r,e){return cM(oo,r,e)}function j2(){return oo.signOut()}const B2={currentUser:null,userLoggedIn:!1,loading:!0},LA=ee.createContext(B2);function up(){return M.useContext(LA)}function F2({children:r}){const[e,t]=M.useState(null),[n,a]=M.useState(!1),[o,u]=M.useState(!0);async function d(m){m?(t({...m}),a(!0)):(t(null),a(!1)),u(!1)}M.useEffect(()=>hM(oo,d),[]);const h={currentUser:e,userLoggedIn:n,loading:o};return k.jsx(LA.Provider,{value:h,children:!o&&r})}function rT(){const{userLoggedIn:r}=up(),[e,t]=M.useState(!1),[n,a]=M.useState(!1),[o,u]=M.useState(""),[d,h]=M.useState(""),[m,y]=M.useState(""),[_,w]=M.useState(""),[S,T]=M.useState(""),[C,I]=M.useState(""),[V,G]=M.useState(""),[H,X]=M.useState(!1),[J,le]=M.useState(!1),N=()=>{console.log("sign in button clicked"),t(!0),a(!1)},A=()=>{console.log("sign up button clicked"),t(!1),a(!0)},x=async()=>{if(console.log("signing in:",o,d),H)return;X(!0);const j=await U2(o,d).catch(B=>{X(!1),console.log(B)});console.log(j)},P=async()=>{if(console.log("signing up:",m,_,S,C,V),J){console.log("user is already signing up");return}le(!0),await V2(m,_,S,C).catch(j=>{le(!1),console.error(j)})};return k.jsxs(k.Fragment,{children:[r&&k.jsx(rS,{to:"/home",replace:!0}),k.jsxs("div",{className:"hero-container",children:[k.jsxs("div",{className:"hero-text-container",children:[k.jsx("h2",{children:"Welcome to"}),k.jsx("h1",{children:"trooper"}),k.jsxs("div",{className:"hero-btns",children:[k.jsx(un,{onClick:N,buttonColor:"btn--white",buttonStyle:"btn--morepress",buttonSize:"btn--large",children:"Sign in"}),k.jsx(un,{onClick:A,buttonColor:"btn--clear",buttonStyle:"btn--morepress",buttonSize:"btn--large",children:"Sign up"})]})]}),e&&k.jsx(II,{setEmail:u,setPassword:h,handleSignIn:x}),n&&k.jsx(xI,{setEmail:y,setFirstName:w,setLastName:T,setPassword:I,setConfirmPassword:G,handleSignUp:P})]})]})}const iT=["navbar--blue","navbar--lightblue"];function Lv({navbarColor:r}){const e=Nc(),{userLoggedIn:t}=up();function n(){if(!t){console.log("sign out error, user not logged in");return}j2(),e("/")}return k.jsx("nav",{className:"navbar",children:k.jsxs("div",{className:`navbar-container ${iT.includes(r)?r:iT[0]}`,children:[k.jsx(Uy,{to:"/home",className:"navbar-title",children:"trooper"}),k.jsx("div",{className:"navbar-right-container",children:k.jsx(un,{onClick:n,buttonColor:"btn--clear",buttonStyle:"btn--lesspress",buttonSize:"btn--small",children:"Sign out"})})]})})}function H2({tripIds:r,onClick:e}){const[a,o]=M.useState(null),[u,d]=M.useState([]),[h,m]=M.useState(0);M.useEffect(()=>{if(r.length===0)return;y();const w=()=>{const S=window.innerWidth<700?700:window.innerWidth;m((.6*S-400)/(u.length<=1?1:u.length-1)),console.log("offset: ",h)};return window.addEventListener("resize",w),w(),()=>{window.removeEventListener("resize",w)}},[]);async function y(){console.log("getting trips");try{const w=St(yn(wn,"trips"),Mi("__name__","in",r)),S=await On(w);_(S)}catch(w){console.error(w)}}function _(w){console.log("setTripsFromSnapshot function");const S=w.docs.map(T=>({trip_name:T.data().trip_name,image_url:T.data().image_url,id:T.id}));console.log("trips: ",S),d(S)}return k.jsx("div",{className:"carddeck",children:u.map((w,S)=>k.jsx("div",{className:"carddeck-card-container",style:{zIndex:900-S,transform:`translateX(${(a&&S<a?-170:0)+(a&&S>=a?120:0)+60*S}px)`},onMouseEnter:()=>o(S),onMouseLeave:()=>o(null),onClick:()=>e(w.id),children:k.jsxs(Rr,{className:"carddeck-card",padding:0,height:"23rem",width:"25rem",margin:0,children:[k.jsx("img",{src:w.image_url}),k.jsx("div",{className:"img-cover"}),k.jsx("div",{className:"carddeck-title-container",children:k.jsx("h5",{children:w.trip_name})})]},S)},w.id))})}function VA(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=VA(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function ln(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=VA(r))&&(n&&(n+=" "),n+=e);return n}const UA=6048e5,z2=864e5,cp=6e4,dp=36e5,q2=1e3,aT=Symbol.for("constructDateFrom");function at(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&aT in r?r[aT](e):r instanceof Date?new r.constructor(e):new Date(e)}function ve(r,e){return at(e||r,r)}function wr(r,e,t){const n=ve(r,t==null?void 0:t.in);return isNaN(e)?at((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function Sr(r,e,t){const n=ve(r,t==null?void 0:t.in);if(isNaN(e))return at(r,NaN);if(!e)return n;const a=n.getDate(),o=at(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const u=o.getDate();return a>=u?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function jA(r,e,t){return at(r,+ve(r)+e)}function Y2(r,e,t){return jA(r,e*dp)}let G2={};function lo(){return G2}function Wi(r,e){var d,h,m,y;const t=lo(),n=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,a=ve(r,e==null?void 0:e.in),o=a.getDay(),u=(o<n?7:0)+o-n;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function Dl(r,e){return Wi(r,{...e,weekStartsOn:1})}function BA(r,e){const t=ve(r,e==null?void 0:e.in),n=t.getFullYear(),a=at(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=Dl(a),u=at(t,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const d=Dl(u);return t.getTime()>=o.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function wh(r){const e=ve(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Zi(r,...e){const t=at.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function eo(r,e){const t=ve(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Al(r,e,t){const[n,a]=Zi(t==null?void 0:t.in,r,e),o=eo(n),u=eo(a),d=+o-wh(o),h=+u-wh(u);return Math.round((d-h)/z2)}function Q2(r,e){const t=BA(r,e),n=at(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Dl(n)}function by(r,e,t){const n=ve(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*cp),n}function Vv(r,e,t){return Sr(r,e*3,t)}function K2(r,e,t){return jA(r,e*1e3)}function Eh(r,e,t){return wr(r,e*7,t)}function Ui(r,e,t){return Sr(r,e*12,t)}function sT(r,e){let t,n=e==null?void 0:e.in;return r.forEach(a=>{!n&&typeof a=="object"&&(n=at.bind(null,a));const o=ve(a,n);(!t||t<o||isNaN(+o))&&(t=o)}),at(n,t||NaN)}function oT(r,e){let t,n=e==null?void 0:e.in;return r.forEach(a=>{!n&&typeof a=="object"&&(n=at.bind(null,a));const o=ve(a,n);(!t||t>o||isNaN(+o))&&(t=o)}),at(n,t||NaN)}function W2(r,e,t){const[n,a]=Zi(t==null?void 0:t.in,r,e);return+eo(n)==+eo(a)}function ji(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function bh(r){return!(!ji(r)&&typeof r!="number"||isNaN(+ve(r)))}function Th(r,e,t){const[n,a]=Zi(t==null?void 0:t.in,r,e),o=n.getFullYear()-a.getFullYear(),u=n.getMonth()-a.getMonth();return o*12+u}function Ys(r,e){const t=ve(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Sh(r,e,t){const[n,a]=Zi(t==null?void 0:t.in,r,e),o=n.getFullYear()-a.getFullYear(),u=Ys(n)-Ys(a);return o*4+u}function Dh(r,e,t){const[n,a]=Zi(t==null?void 0:t.in,r,e);return n.getFullYear()-a.getFullYear()}function $2(r,e,t){const[n,a]=Zi(t==null?void 0:t.in,r,e),o=lT(n,a),u=Math.abs(Al(n,a));n.setDate(n.getDate()-o*u);const d=+(lT(n,a)===-o),h=o*(u-d);return h===0?0:h}function lT(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function FA(r,e){const t=ve(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function HA(r,e){const t=ve(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ty(r,e){const t=ve(r,e==null?void 0:e.in),n=t.getMonth(),a=n-n%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function zA(r,e){const t=ve(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function qA(r,e){const t=ve(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function fp(r,e){const t=ve(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function X2(r,e){var d,h;const t=lo(),n=t.weekStartsOn??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,a=ve(r,e==null?void 0:e.in),o=a.getDay(),u=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}const Z2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},J2=(r,e,t)=>{let n;const a=Z2[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Ug(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const eL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rL={date:Ug({formats:eL,defaultWidth:"full"}),time:Ug({formats:tL,defaultWidth:"full"}),dateTime:Ug({formats:nL,defaultWidth:"full"})},iL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aL=(r,e,t,n)=>iL[r];function tc(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const u=r.defaultFormattingWidth||r.defaultWidth,d=t!=null&&t.width?String(t.width):u;a=r.formattingValues[d]||r.formattingValues[u]}else{const u=r.defaultWidth,d=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[d]||r.values[u]}const o=r.argumentCallback?r.argumentCallback(e):e;return a[o]}}const sL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fL=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},hL={ordinalNumber:fL,era:tc({values:sL,defaultWidth:"wide"}),quarter:tc({values:oL,defaultWidth:"wide",argumentCallback:r=>r-1}),month:tc({values:lL,defaultWidth:"wide"}),day:tc({values:uL,defaultWidth:"wide"}),dayPeriod:tc({values:cL,defaultWidth:"wide",formattingValues:dL,defaultFormattingWidth:"wide"})};function nc(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(a);if(!o)return null;const u=o[0],d=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],h=Array.isArray(d)?mL(d,_=>_.test(u)):pL(d,_=>_.test(u));let m;m=r.valueCallback?r.valueCallback(h):h,m=t.valueCallback?t.valueCallback(m):m;const y=e.slice(u.length);return{value:m,rest:y}}}function pL(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function mL(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function gL(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],o=e.match(r.parsePattern);if(!o)return null;let u=r.valueCallback?r.valueCallback(o[0]):o[0];u=t.valueCallback?t.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}const yL=/^(\d+)(th|st|nd|rd)?/i,vL=/\d+/i,_L={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wL={any:[/^b/i,/^(a|c)/i]},EL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bL={any:[/1/i,/2/i,/3/i,/4/i]},TL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IL={ordinalNumber:gL({matchPattern:yL,parsePattern:vL,valueCallback:r=>parseInt(r,10)}),era:nc({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:wL,defaultParseWidth:"any"}),quarter:nc({matchPatterns:EL,defaultMatchWidth:"wide",parsePatterns:bL,defaultParseWidth:"any",valueCallback:r=>r+1}),month:nc({matchPatterns:TL,defaultMatchWidth:"wide",parsePatterns:SL,defaultParseWidth:"any"}),day:nc({matchPatterns:DL,defaultMatchWidth:"wide",parsePatterns:AL,defaultParseWidth:"any"}),dayPeriod:nc({matchPatterns:RL,defaultMatchWidth:"any",parsePatterns:CL,defaultParseWidth:"any"})},YA={code:"en-US",formatDistance:J2,formatLong:rL,formatRelative:aL,localize:hL,match:IL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xL(r,e){const t=ve(r,e==null?void 0:e.in);return Al(t,fp(t))+1}function Uv(r,e){const t=ve(r,e==null?void 0:e.in),n=+Dl(t)-+Q2(t);return Math.round(n/UA)+1}function jv(r,e){var y,_,w,S;const t=ve(r,e==null?void 0:e.in),n=t.getFullYear(),a=lo(),o=(e==null?void 0:e.firstWeekContainsDate)??((_=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??a.firstWeekContainsDate??((S=(w=a.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,u=at((e==null?void 0:e.in)||r,0);u.setFullYear(n+1,0,o),u.setHours(0,0,0,0);const d=Wi(u,e),h=at((e==null?void 0:e.in)||r,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);const m=Wi(h,e);return+t>=+d?n+1:+t>=+m?n:n-1}function kL(r,e){var d,h,m,y;const t=lo(),n=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,a=jv(r,e),o=at((e==null?void 0:e.in)||r,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),Wi(o,e)}function GA(r,e){const t=ve(r,e==null?void 0:e.in),n=+Wi(t,e)-+kL(t,e);return Math.round(n/UA)+1}function it(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Ia={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return it(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):it(t+1,2)},d(r,e){return it(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return it(r.getHours()%12||12,e.length)},H(r,e){return it(r.getHours(),e.length)},m(r,e){return it(r.getMinutes(),e.length)},s(r,e){return it(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return it(a,e.length)}},nl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uT={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return Ia.y(r,e)},Y:function(r,e,t,n){const a=jv(r,n),o=a>0?a:1-a;if(e==="YY"){const u=o%100;return it(u,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):it(o,e.length)},R:function(r,e){const t=BA(r);return it(t,e.length)},u:function(r,e){const t=r.getFullYear();return it(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return it(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Ia.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=GA(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):it(a,e.length)},I:function(r,e,t){const n=Uv(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):it(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Ia.d(r,e)},D:function(r,e,t){const n=xL(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):it(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return it(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return it(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return it(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=nl.noon:n===0?a=nl.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=nl.evening:n>=12?a=nl.afternoon:n>=4?a=nl.morning:a=nl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Ia.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Ia.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Ia.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Ia.s(r,e)},S:function(r,e){return Ia.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return dT(n);case"XXXX":case"XX":return Hs(n);case"XXXXX":case"XXX":default:return Hs(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return dT(n);case"xxxx":case"xx":return Hs(n);case"xxxxx":case"xxx":default:return Hs(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cT(n,":");case"OOOO":default:return"GMT"+Hs(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cT(n,":");case"zzzz":default:return"GMT"+Hs(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return it(n,e.length)},T:function(r,e,t){return it(+r,e.length)}};function cT(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),o=n%60;return o===0?t+String(a):t+String(a)+e+it(o,2)}function dT(r,e){return r%60===0?(r>0?"-":"+")+it(Math.abs(r)/60,2):Hs(r,e)}function Hs(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=it(Math.trunc(n/60),2),o=it(n%60,2);return t+a+e+o}const fT=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},QA=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ML=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return fT(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",fT(n,e)).replace("{{time}}",QA(a,e))},Sy={p:QA,P:ML},NL=/^D+$/,OL=/^Y+$/,PL=["D","DD","YY","YYYY"];function KA(r){return NL.test(r)}function WA(r){return OL.test(r)}function Dy(r,e,t){const n=LL(r,e,t);if(console.warn(n),PL.includes(r))throw new RangeError(n)}function LL(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jL=/^'([^]*?)'?$/,BL=/''/g,FL=/[a-zA-Z]/;function to(r,e,t){var y,_,w,S,T,C,I,V;const n=lo(),a=(t==null?void 0:t.locale)??n.locale??YA,o=(t==null?void 0:t.firstWeekContainsDate)??((_=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??n.firstWeekContainsDate??((S=(w=n.locale)==null?void 0:w.options)==null?void 0:S.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((C=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:C.weekStartsOn)??n.weekStartsOn??((V=(I=n.locale)==null?void 0:I.options)==null?void 0:V.weekStartsOn)??0,d=ve(r,t==null?void 0:t.in);if(!bh(d))throw new RangeError("Invalid time value");let h=e.match(UL).map(G=>{const H=G[0];if(H==="p"||H==="P"){const X=Sy[H];return X(G,a.formatLong)}return G}).join("").match(VL).map(G=>{if(G==="''")return{isToken:!1,value:"'"};const H=G[0];if(H==="'")return{isToken:!1,value:HL(G)};if(uT[H])return{isToken:!0,value:G};if(H.match(FL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return{isToken:!1,value:G}});a.localize.preprocessor&&(h=a.localize.preprocessor(d,h));const m={firstWeekContainsDate:o,weekStartsOn:u,locale:a};return h.map(G=>{if(!G.isToken)return G.value;const H=G.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&WA(H)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&KA(H))&&Dy(H,e,String(r));const X=uT[H[0]];return X(d,H,a.localize,m)}).join("")}function HL(r){const e=r.match(jL);return e?e[1].replace(BL,"'"):r}function hT(r,e){return ve(r,e==null?void 0:e.in).getDate()}function zL(r,e){return ve(r,e==null?void 0:e.in).getDay()}function qL(r,e){const t=ve(r,e==null?void 0:e.in),n=t.getFullYear(),a=t.getMonth(),o=at(t,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function YL(){return Object.assign({},lo())}function Bi(r,e){return ve(r,e==null?void 0:e.in).getHours()}function GL(r,e){const t=ve(r,e==null?void 0:e.in).getDay();return t===0?7:t}function Fi(r,e){return ve(r,e==null?void 0:e.in).getMinutes()}function Rn(r,e){return ve(r,e==null?void 0:e.in).getMonth()}function Fa(r){return ve(r).getSeconds()}function Ay(r){return+ve(r)}function Le(r,e){return ve(r,e==null?void 0:e.in).getFullYear()}function Wa(r,e){return+ve(r)>+ve(e)}function no(r,e){return+ve(r)<+ve(e)}function QL(r,e){return+ve(r)==+ve(e)}function KL(r,e){const t=WL(e)?new e(0):at(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function WL(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const $L=10;class $A{constructor(){pe(this,"subPriority",0)}validate(e,t){return!0}}class XL extends $A{constructor(e,t,n,a,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class ZL extends $A{constructor(t,n){super();pe(this,"priority",$L);pe(this,"subPriority",-1);this.context=t||(a=>at(n,a))}set(t,n){return n.timestampIsSet?t:at(t,KL(t,this.context))}}class Xe{run(e,t,n,a){const o=this.parse(e,t,n,a);return o?{setter:new XL(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class JL extends Xe{constructor(){super(...arguments);pe(this,"priority",140);pe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,n,a){return n.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const xt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Kr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function kt(r,e){return r&&{value:e(r.value),rest:r.rest}}function _t(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Wr(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:n*(a*dp+o*cp+u*q2),rest:e.slice(t[0].length)}}function XA(r){return _t(xt.anyDigitsSigned,r)}function Dt(r,e){switch(r){case 1:return _t(xt.singleDigit,e);case 2:return _t(xt.twoDigits,e);case 3:return _t(xt.threeDigits,e);case 4:return _t(xt.fourDigits,e);default:return _t(new RegExp("^\\d{1,"+r+"}"),e)}}function Ah(r,e){switch(r){case 1:return _t(xt.singleDigitSigned,e);case 2:return _t(xt.twoDigitsSigned,e);case 3:return _t(xt.threeDigitsSigned,e);case 4:return _t(xt.fourDigitsSigned,e);default:return _t(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Bv(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ZA(r,e){const t=e>0,n=t?e:1-e;let a;if(n<=50)a=r||100;else{const o=n+50,u=Math.trunc(o/100)*100,d=r>=o%100;a=r+u-(d?100:0)}return t?a:1-a}function JA(r){return r%400===0||r%4===0&&r%100!==0}class eV extends Xe{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,a){const o=u=>({year:u,isTwoDigitYear:n==="yy"});switch(n){case"y":return kt(Dt(4,t),o);case"yo":return kt(a.ordinalNumber(t,{unit:"year"}),o);default:return kt(Dt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a){const o=t.getFullYear();if(a.isTwoDigitYear){const d=ZA(a.year,o);return t.setFullYear(d,0,1),t.setHours(0,0,0,0),t}const u=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class tV extends Xe{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,a){const o=u=>({year:u,isTwoDigitYear:n==="YY"});switch(n){case"Y":return kt(Dt(4,t),o);case"Yo":return kt(a.ordinalNumber(t,{unit:"year"}),o);default:return kt(Dt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a,o){const u=jv(t,o);if(a.isTwoDigitYear){const h=ZA(a.year,u);return t.setFullYear(h,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Wi(t,o)}const d=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Wi(t,o)}}class nV extends Xe{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return Ah(n==="R"?4:n.length,t)}set(t,n,a){const o=at(t,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),Dl(o)}}class rV extends Xe{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return Ah(n==="u"?4:n.length,t)}set(t,n,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class iV extends Xe{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"Q":case"QQ":return Dt(n.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class aV extends Xe{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"q":case"qq":return Dt(n.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class sV extends Xe{constructor(){super(...arguments);pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);pe(this,"priority",110)}parse(t,n,a){const o=u=>u-1;switch(n){case"M":return kt(_t(xt.month,t),o);case"MM":return kt(Dt(2,t),o);case"Mo":return kt(a.ordinalNumber(t,{unit:"month"}),o);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class oV extends Xe{constructor(){super(...arguments);pe(this,"priority",110);pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,a){const o=u=>u-1;switch(n){case"L":return kt(_t(xt.month,t),o);case"LL":return kt(Dt(2,t),o);case"Lo":return kt(a.ordinalNumber(t,{unit:"month"}),o);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function lV(r,e,t){const n=ve(r,t==null?void 0:t.in),a=GA(n,t)-e;return n.setDate(n.getDate()-a*7),ve(n,t==null?void 0:t.in)}class uV extends Xe{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,a){switch(n){case"w":return _t(xt.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a,o){return Wi(lV(t,a,o),o)}}function cV(r,e,t){const n=ve(r,t==null?void 0:t.in),a=Uv(n,t)-e;return n.setDate(n.getDate()-a*7),n}class dV extends Xe{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,a){switch(n){case"I":return _t(xt.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a){return Dl(cV(t,a))}}const fV=[31,28,31,30,31,30,31,31,30,31,30,31],hV=[31,29,31,30,31,30,31,31,30,31,30,31];class pV extends Xe{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subPriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"d":return _t(xt.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return Dt(n.length,t)}}validate(t,n){const a=t.getFullYear(),o=JA(a),u=t.getMonth();return o?n>=1&&n<=hV[u]:n>=1&&n<=fV[u]}set(t,n,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class mV extends Xe{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subpriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,a){switch(n){case"D":case"DD":return _t(xt.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return Dt(n.length,t)}}validate(t,n){const a=t.getFullYear();return JA(a)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function Fv(r,e,t){var _,w,S,T;const n=lo(),a=(t==null?void 0:t.weekStartsOn)??((w=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((T=(S=n.locale)==null?void 0:S.options)==null?void 0:T.weekStartsOn)??0,o=ve(r,t==null?void 0:t.in),u=o.getDay(),h=(e%7+7)%7,m=7-a,y=e<0||e>6?e-(u+m)%7:(h+m)%7-(u+m)%7;return wr(o,y,t)}class gV extends Xe{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Fv(t,a,o),t.setHours(0,0,0,0),t}}class yV extends Xe{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,a,o){const u=d=>{const h=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+h};switch(n){case"e":case"ee":return kt(Dt(n.length,t),u);case"eo":return kt(a.ordinalNumber(t,{unit:"day"}),u);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Fv(t,a,o),t.setHours(0,0,0,0),t}}class vV extends Xe{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,a,o){const u=d=>{const h=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+h};switch(n){case"c":case"cc":return kt(Dt(n.length,t),u);case"co":return kt(a.ordinalNumber(t,{unit:"day"}),u);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Fv(t,a,o),t.setHours(0,0,0,0),t}}function _V(r,e,t){const n=ve(r,t==null?void 0:t.in),a=GL(n,t),o=e-a;return wr(n,o,t)}class wV extends Xe{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,a){const o=u=>u===0?7:u;switch(n){case"i":case"ii":return Dt(n.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return kt(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return kt(a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return kt(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return kt(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,a){return t=_V(t,a),t.setHours(0,0,0,0),t}}class EV extends Xe{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Bv(a),0,0,0),t}}class bV extends Xe{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Bv(a),0,0,0),t}}class TV extends Xe{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Bv(a),0,0,0),t}}class SV extends Xe{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,a){switch(n){case"h":return _t(xt.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,a){const o=t.getHours()>=12;return o&&a<12?t.setHours(a+12,0,0,0):!o&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class DV extends Xe{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,a){switch(n){case"H":return _t(xt.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,a){return t.setHours(a,0,0,0),t}}class AV extends Xe{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,a){switch(n){case"K":return _t(xt.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class RV extends Xe{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,a){switch(n){case"k":return _t(xt.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return Dt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,a){const o=a<=24?a%24:a;return t.setHours(o,0,0,0),t}}class CV extends Xe{constructor(){super(...arguments);pe(this,"priority",60);pe(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"m":return _t(xt.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setMinutes(a,0,0),t}}class IV extends Xe{constructor(){super(...arguments);pe(this,"priority",50);pe(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"s":return _t(xt.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return Dt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setSeconds(a,0),t}}class xV extends Xe{constructor(){super(...arguments);pe(this,"priority",30);pe(this,"incompatibleTokens",["t","T"])}parse(t,n){const a=o=>Math.trunc(o*Math.pow(10,-n.length+3));return kt(Dt(n.length,t),a)}set(t,n,a){return t.setMilliseconds(a),t}}class kV extends Xe{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Wr(Kr.basicOptionalMinutes,t);case"XX":return Wr(Kr.basic,t);case"XXXX":return Wr(Kr.basicOptionalSeconds,t);case"XXXXX":return Wr(Kr.extendedOptionalSeconds,t);case"XXX":default:return Wr(Kr.extended,t)}}set(t,n,a){return n.timestampIsSet?t:at(t,t.getTime()-wh(t)-a)}}class MV extends Xe{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Wr(Kr.basicOptionalMinutes,t);case"xx":return Wr(Kr.basic,t);case"xxxx":return Wr(Kr.basicOptionalSeconds,t);case"xxxxx":return Wr(Kr.extendedOptionalSeconds,t);case"xxx":default:return Wr(Kr.extended,t)}}set(t,n,a){return n.timestampIsSet?t:at(t,t.getTime()-wh(t)-a)}}class NV extends Xe{constructor(){super(...arguments);pe(this,"priority",40);pe(this,"incompatibleTokens","*")}parse(t){return XA(t)}set(t,n,a){return[at(t,a*1e3),{timestampIsSet:!0}]}}class OV extends Xe{constructor(){super(...arguments);pe(this,"priority",20);pe(this,"incompatibleTokens","*")}parse(t){return XA(t)}set(t,n,a){return[at(t,a),{timestampIsSet:!0}]}}const PV={G:new JL,y:new eV,Y:new tV,R:new nV,u:new rV,Q:new iV,q:new aV,M:new sV,L:new oV,w:new uV,I:new dV,d:new pV,D:new mV,E:new gV,e:new yV,c:new vV,i:new wV,a:new EV,b:new bV,B:new TV,h:new SV,H:new DV,K:new AV,k:new RV,m:new CV,s:new IV,S:new xV,X:new kV,x:new MV,t:new NV,T:new OV},LV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UV=/^'([^]*?)'?$/,jV=/''/g,BV=/\S/,FV=/[a-zA-Z]/;function eR(r,e,t,n){var I,V,G,H,X,J,le,N;const a=()=>at((n==null?void 0:n.in)||t,NaN),o=YL(),u=(n==null?void 0:n.locale)??o.locale??YA,d=(n==null?void 0:n.firstWeekContainsDate)??((V=(I=n==null?void 0:n.locale)==null?void 0:I.options)==null?void 0:V.firstWeekContainsDate)??o.firstWeekContainsDate??((H=(G=o.locale)==null?void 0:G.options)==null?void 0:H.firstWeekContainsDate)??1,h=(n==null?void 0:n.weekStartsOn)??((J=(X=n==null?void 0:n.locale)==null?void 0:X.options)==null?void 0:J.weekStartsOn)??o.weekStartsOn??((N=(le=o.locale)==null?void 0:le.options)==null?void 0:N.weekStartsOn)??0;if(!e)return r?a():ve(t,n==null?void 0:n.in);const m={firstWeekContainsDate:d,weekStartsOn:h,locale:u},y=[new ZL(n==null?void 0:n.in,t)],_=e.match(VV).map(A=>{const x=A[0];if(x in Sy){const P=Sy[x];return P(A,u.formatLong)}return A}).join("").match(LV),w=[];for(let A of _){!(n!=null&&n.useAdditionalWeekYearTokens)&&WA(A)&&Dy(A,e,r),!(n!=null&&n.useAdditionalDayOfYearTokens)&&KA(A)&&Dy(A,e,r);const x=A[0],P=PV[x];if(P){const{incompatibleTokens:j}=P;if(Array.isArray(j)){const O=w.find(Me=>j.includes(Me.token)||Me.token===x);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${A}\` at the same time`)}else if(P.incompatibleTokens==="*"&&w.length>0)throw new RangeError(`The format string mustn't contain \`${A}\` and any other token at the same time`);w.push({token:x,fullToken:A});const B=P.run(r,A,u.match,m);if(!B)return a();y.push(B.setter),r=B.rest}else{if(x.match(FV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");if(A==="''"?A="'":x==="'"&&(A=HV(A)),r.indexOf(A)===0)r=r.slice(A.length);else return a()}}if(r.length>0&&BV.test(r))return a();const S=y.map(A=>A.priority).sort((A,x)=>x-A).filter((A,x,P)=>P.indexOf(A)===x).map(A=>y.filter(x=>x.priority===A).sort((x,P)=>P.subPriority-x.subPriority)).map(A=>A[0]);let T=ve(t,n==null?void 0:n.in);if(isNaN(+T))return a();const C={};for(const A of S){if(!A.validate(T,m))return a();const x=A.set(T,C,m);Array.isArray(x)?(T=x[0],Object.assign(C,x[1])):T=x}return T}function HV(r){return r.match(UV)[1].replace(jV,"'")}function zV(r,e,t){const[n,a]=Zi(t==null?void 0:t.in,r,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function qV(r,e,t){const[n,a]=Zi(t==null?void 0:t.in,r,e);return+Ty(n)==+Ty(a)}function YV(r,e,t){const[n,a]=Zi(t==null?void 0:t.in,r,e);return n.getFullYear()===a.getFullYear()}function xc(r,e,t){const n=+ve(r,t==null?void 0:t.in),[a,o]=[+ve(e.start,t==null?void 0:t.in),+ve(e.end,t==null?void 0:t.in)].sort((u,d)=>u-d);return n>=a&&n<=o}function GV(r,e,t){return wr(r,-1,t)}function QV(r,e){const t=()=>at(e==null?void 0:e.in,NaN),a=XV(r);let o;if(a.date){const m=ZV(a.date,2);o=JV(m.restDateString,m.year)}if(!o||isNaN(+o))return t();const u=+o;let d=0,h;if(a.time&&(d=e4(a.time),isNaN(d)))return t();if(a.timezone){if(h=t4(a.timezone),isNaN(h))return t()}else{const m=new Date(u+d),y=ve(0,e==null?void 0:e.in);return y.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),y.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),y}return ve(u+d+h,e==null?void 0:e.in)}const If={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},KV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,WV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$V=/^([+-])(\d{2})(?::?(\d{2}))?$/;function XV(r){const e={},t=r.split(If.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],If.timeZoneDelimiter.test(e.date)&&(e.date=r.split(If.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const a=If.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function ZV(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function JV(r,e){if(e===null)return new Date(NaN);const t=r.match(KV);if(!t)return new Date(NaN);const n=!!t[4],a=rc(t[1]),o=rc(t[2])-1,u=rc(t[3]),d=rc(t[4]),h=rc(t[5])-1;if(n)return s4(e,d,h)?n4(e,d,h):new Date(NaN);{const m=new Date(0);return!i4(e,o,u)||!a4(e,a)?new Date(NaN):(m.setUTCFullYear(e,o,Math.max(a,u)),m)}}function rc(r){return r?parseInt(r):1}function e4(r){const e=r.match(WV);if(!e)return NaN;const t=jg(e[1]),n=jg(e[2]),a=jg(e[3]);return o4(t,n,a)?t*dp+n*cp+a*1e3:NaN}function jg(r){return r&&parseFloat(r.replace(",","."))||0}function t4(r){if(r==="Z")return 0;const e=r.match($V);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return l4(n,a)?t*(n*dp+a*cp):NaN}function n4(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const a=n.getUTCDay()||7,o=(e-1)*7+t+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const r4=[31,null,31,30,31,30,31,31,30,31,30,31];function tR(r){return r%400===0||r%4===0&&r%100!==0}function i4(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(r4[e]||(tR(r)?29:28))}function a4(r,e){return e>=1&&e<=(tR(r)?366:365)}function s4(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function o4(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function l4(r,e){return e>=0&&e<=59}function lr(r,e,t){const n=ve(r,t==null?void 0:t.in),a=n.getFullYear(),o=n.getDate(),u=at(r,0);u.setFullYear(a,e,15),u.setHours(0,0,0,0);const d=qL(u);return n.setMonth(e,Math.min(o,d)),n}function Kf(r,e,t){const n=ve(r,t==null?void 0:t.in);return n.setHours(e),n}function Wf(r,e,t){const n=ve(r,t==null?void 0:t.in);return n.setMinutes(e),n}function ol(r,e,t){const n=ve(r,t==null?void 0:t.in),a=Math.trunc(n.getMonth()/3)+1,o=e-a;return lr(n,n.getMonth()+o*3)}function $f(r,e,t){const n=ve(r,t==null?void 0:t.in);return n.setSeconds(e),n}function Gr(r,e,t){const n=ve(r,t==null?void 0:t.in);return isNaN(+n)?at(r,NaN):(n.setFullYear(e),n)}function Gs(r,e,t){return Sr(r,-e,t)}function nR(r,e,t){return Vv(r,-1,t)}function pT(r,e,t){return Eh(r,-1,t)}function Rl(r,e,t){return Ui(r,-e,t)}function hp(){return typeof window<"u"}function Hl(r){return rR(r)?(r.nodeName||"").toLowerCase():"#document"}function Qn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function ai(r){var e;return(e=(rR(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function rR(r){return hp()?r instanceof Node||r instanceof Qn(r).Node:!1}function Cn(r){return hp()?r instanceof Element||r instanceof Qn(r).Element:!1}function ii(r){return hp()?r instanceof HTMLElement||r instanceof Qn(r).HTMLElement:!1}function mT(r){return!hp()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Qn(r).ShadowRoot}function Qc(r){const{overflow:e,overflowX:t,overflowY:n,display:a}=fr(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(a)}function u4(r){return["table","td","th"].includes(Hl(r))}function pp(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Hv(r){const e=zv(),t=Cn(r)?fr(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function c4(r){let e=$a(r);for(;ii(e)&&!Cl(e);){if(Hv(e))return e;if(pp(e))return null;e=$a(e)}return null}function zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cl(r){return["html","body","#document"].includes(Hl(r))}function fr(r){return Qn(r).getComputedStyle(r)}function mp(r){return Cn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function $a(r){if(Hl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||mT(r)&&r.host||ai(r);return mT(e)?e.host:e}function iR(r){const e=$a(r);return Cl(e)?r.ownerDocument?r.ownerDocument.body:r.body:ii(e)&&Qc(e)?e:iR(e)}function kc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=iR(r),o=a===((n=r.ownerDocument)==null?void 0:n.body),u=Qn(a);if(o){const d=Ry(u);return e.concat(u,u.visualViewport||[],Qc(a)?a:[],d&&t?kc(d):[])}return e.concat(a,kc(a,[],t))}function Ry(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const Il=Math.min,Qs=Math.max,Rh=Math.round,xf=Math.floor,ni=r=>({x:r,y:r}),d4={left:"right",right:"left",bottom:"top",top:"bottom"},f4={start:"end",end:"start"};function h4(r,e,t){return Qs(r,Il(e,t))}function gp(r,e){return typeof r=="function"?r(e):r}function xl(r){return r.split("-")[0]}function Kc(r){return r.split("-")[1]}function p4(r){return r==="x"?"y":"x"}function qv(r){return r==="y"?"height":"width"}function pl(r){return["top","bottom"].includes(xl(r))?"y":"x"}function Yv(r){return p4(pl(r))}function m4(r,e,t){t===void 0&&(t=!1);const n=Kc(r),a=Yv(r),o=qv(a);let u=a==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=Ch(u)),[u,Ch(u)]}function g4(r){const e=Ch(r);return[Cy(r),e,Cy(e)]}function Cy(r){return r.replace(/start|end/g,e=>f4[e])}function y4(r,e,t){const n=["left","right"],a=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(r){case"top":case"bottom":return t?e?a:n:e?n:a;case"left":case"right":return e?o:u;default:return[]}}function v4(r,e,t,n){const a=Kc(r);let o=y4(xl(r),t==="start",n);return a&&(o=o.map(u=>u+"-"+a),e&&(o=o.concat(o.map(Cy)))),o}function Ch(r){return r.replace(/left|right|bottom|top/g,e=>d4[e])}function _4(r){return{top:0,right:0,bottom:0,left:0,...r}}function aR(r){return typeof r!="number"?_4(r):{top:r,right:r,bottom:r,left:r}}function Ih(r){const{x:e,y:t,width:n,height:a}=r;return{width:n,height:a,top:t,left:e,right:e+n,bottom:t+a,x:e,y:t}}var xh=typeof document<"u"?M.useLayoutEffect:M.useEffect;const w4={...YT},E4=w4.useInsertionEffect,b4=E4||(r=>r());function T4(r){const e=M.useRef(()=>{});return b4(()=>{e.current=r}),M.useCallback(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}function gT(r,e,t){let{reference:n,floating:a}=r;const o=pl(e),u=Yv(e),d=qv(u),h=xl(e),m=o==="y",y=n.x+n.width/2-a.width/2,_=n.y+n.height/2-a.height/2,w=n[d]/2-a[d]/2;let S;switch(h){case"top":S={x:y,y:n.y-a.height};break;case"bottom":S={x:y,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:_};break;case"left":S={x:n.x-a.width,y:_};break;default:S={x:n.x,y:n.y}}switch(Kc(e)){case"start":S[u]-=w*(t&&m?-1:1);break;case"end":S[u]+=w*(t&&m?-1:1);break}return S}const S4=async(r,e,t)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:u}=t,d=o.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:r,floating:e,strategy:a}),{x:y,y:_}=gT(m,n,h),w=n,S={},T=0;for(let C=0;C<d.length;C++){const{name:I,fn:V}=d[C],{x:G,y:H,data:X,reset:J}=await V({x:y,y:_,initialPlacement:n,placement:w,strategy:a,middlewareData:S,rects:m,platform:u,elements:{reference:r,floating:e}});y=G??y,_=H??_,S={...S,[I]:{...S[I],...X}},J&&T<=50&&(T++,typeof J=="object"&&(J.placement&&(w=J.placement),J.rects&&(m=J.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:a}):J.rects),{x:y,y:_}=gT(m,w,h)),C=-1)}return{x:y,y:_,placement:w,strategy:a,middlewareData:S}};async function D4(r,e){var t;e===void 0&&(e={});const{x:n,y:a,platform:o,rects:u,elements:d,strategy:h}=r,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:w=!1,padding:S=0}=gp(e,r),T=aR(S),I=d[w?_==="floating"?"reference":"floating":_],V=Ih(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(I)))==null||t?I:I.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:m,rootBoundary:y,strategy:h})),G=_==="floating"?{x:n,y:a,width:u.floating.width,height:u.floating.height}:u.reference,H=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),X=await(o.isElement==null?void 0:o.isElement(H))?await(o.getScale==null?void 0:o.getScale(H))||{x:1,y:1}:{x:1,y:1},J=Ih(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:G,offsetParent:H,strategy:h}):G);return{top:(V.top-J.top+T.top)/X.y,bottom:(J.bottom-V.bottom+T.bottom)/X.y,left:(V.left-J.left+T.left)/X.x,right:(J.right-V.right+T.right)/X.x}}const A4=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:a,rects:o,platform:u,elements:d,middlewareData:h}=e,{element:m,padding:y=0}=gp(r,e)||{};if(m==null)return{};const _=aR(y),w={x:t,y:n},S=Yv(a),T=qv(S),C=await u.getDimensions(m),I=S==="y",V=I?"top":"left",G=I?"bottom":"right",H=I?"clientHeight":"clientWidth",X=o.reference[T]+o.reference[S]-w[S]-o.floating[T],J=w[S]-o.reference[S],le=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let N=le?le[H]:0;(!N||!await(u.isElement==null?void 0:u.isElement(le)))&&(N=d.floating[H]||o.floating[T]);const A=X/2-J/2,x=N/2-C[T]/2-1,P=Il(_[V],x),j=Il(_[G],x),B=P,O=N-C[T]-j,Me=N/2-C[T]/2+A,we=h4(B,Me,O),Y=!h.arrow&&Kc(a)!=null&&Me!==we&&o.reference[T]/2-(Me<B?P:j)-C[T]/2<0,ie=Y?Me<B?Me-B:Me-O:0;return{[S]:w[S]+ie,data:{[S]:we,centerOffset:Me-we-ie,...Y&&{alignmentOffset:ie}},reset:Y}}}),R4=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:a,middlewareData:o,rects:u,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:C=!0,...I}=gp(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const V=xl(a),G=pl(d),H=xl(d)===d,X=await(h.isRTL==null?void 0:h.isRTL(m.floating)),J=w||(H||!C?[Ch(d)]:g4(d)),le=T!=="none";!w&&le&&J.push(...v4(d,C,T,X));const N=[d,...J],A=await D4(e,I),x=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&x.push(A[V]),_){const we=m4(a,u,X);x.push(A[we[0]],A[we[1]])}if(P=[...P,{placement:a,overflows:x}],!x.every(we=>we<=0)){var j,B;const we=(((j=o.flip)==null?void 0:j.index)||0)+1,Y=N[we];if(Y){var O;const ue=_==="alignment"?G!==pl(Y):!1,be=((O=P[0])==null?void 0:O.overflows[0])>0;if(!ue||be)return{data:{index:we,overflows:P},reset:{placement:Y}}}let ie=(B=P.filter(ue=>ue.overflows[0]<=0).sort((ue,be)=>ue.overflows[1]-be.overflows[1])[0])==null?void 0:B.placement;if(!ie)switch(S){case"bestFit":{var Me;const ue=(Me=P.filter(be=>{if(le){const U=pl(be.placement);return U===G||U==="y"}return!0}).map(be=>[be.placement,be.overflows.filter(U=>U>0).reduce((U,ne)=>U+ne,0)]).sort((be,U)=>be[1]-U[1])[0])==null?void 0:Me[0];ue&&(ie=ue);break}case"initialPlacement":ie=d;break}if(a!==ie)return{reset:{placement:ie}}}return{}}}};async function C4(r,e){const{placement:t,platform:n,elements:a}=r,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),u=xl(t),d=Kc(t),h=pl(t)==="y",m=["left","top"].includes(u)?-1:1,y=o&&h?-1:1,_=gp(e,r);let{mainAxis:w,crossAxis:S,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof T=="number"&&(S=d==="end"?T*-1:T),h?{x:S*y,y:w*m}:{x:w*m,y:S*y}}const I4=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:a,y:o,placement:u,middlewareData:d}=e,h=await C4(e,r);return u===((t=d.offset)==null?void 0:t.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:a+h.x,y:o+h.y,data:{...h,placement:u}}}}};function sR(r){const e=fr(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=ii(r),o=a?r.offsetWidth:t,u=a?r.offsetHeight:n,d=Rh(t)!==o||Rh(n)!==u;return d&&(t=o,n=u),{width:t,height:n,$:d}}function Gv(r){return Cn(r)?r:r.contextElement}function ml(r){const e=Gv(r);if(!ii(e))return ni(1);const t=e.getBoundingClientRect(),{width:n,height:a,$:o}=sR(e);let u=(o?Rh(t.width):t.width)/n,d=(o?Rh(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const x4=ni(0);function oR(r){const e=Qn(r);return!zv()||!e.visualViewport?x4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function k4(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Qn(r)?!1:e}function ro(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=r.getBoundingClientRect(),o=Gv(r);let u=ni(1);e&&(n?Cn(n)&&(u=ml(n)):u=ml(r));const d=k4(o,t,n)?oR(o):ni(0);let h=(a.left+d.x)/u.x,m=(a.top+d.y)/u.y,y=a.width/u.x,_=a.height/u.y;if(o){const w=Qn(o),S=n&&Cn(n)?Qn(n):n;let T=w,C=Ry(T);for(;C&&n&&S!==T;){const I=ml(C),V=C.getBoundingClientRect(),G=fr(C),H=V.left+(C.clientLeft+parseFloat(G.paddingLeft))*I.x,X=V.top+(C.clientTop+parseFloat(G.paddingTop))*I.y;h*=I.x,m*=I.y,y*=I.x,_*=I.y,h+=H,m+=X,T=Qn(C),C=Ry(T)}}return Ih({width:y,height:_,x:h,y:m})}function Qv(r,e){const t=mp(r).scrollLeft;return e?e.left+t:ro(ai(r)).left+t}function lR(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),a=n.left+e.scrollLeft-(t?0:Qv(r,n)),o=n.top+e.scrollTop;return{x:a,y:o}}function M4(r){let{elements:e,rect:t,offsetParent:n,strategy:a}=r;const o=a==="fixed",u=ai(n),d=e?pp(e.floating):!1;if(n===u||d&&o)return t;let h={scrollLeft:0,scrollTop:0},m=ni(1);const y=ni(0),_=ii(n);if((_||!_&&!o)&&((Hl(n)!=="body"||Qc(u))&&(h=mp(n)),ii(n))){const S=ro(n);m=ml(n),y.x=S.x+n.clientLeft,y.y=S.y+n.clientTop}const w=u&&!_&&!o?lR(u,h,!0):ni(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-h.scrollLeft*m.x+y.x+w.x,y:t.y*m.y-h.scrollTop*m.y+y.y+w.y}}function N4(r){return Array.from(r.getClientRects())}function O4(r){const e=ai(r),t=mp(r),n=r.ownerDocument.body,a=Qs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Qs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let u=-t.scrollLeft+Qv(r);const d=-t.scrollTop;return fr(n).direction==="rtl"&&(u+=Qs(e.clientWidth,n.clientWidth)-a),{width:a,height:o,x:u,y:d}}function P4(r,e){const t=Qn(r),n=ai(r),a=t.visualViewport;let o=n.clientWidth,u=n.clientHeight,d=0,h=0;if(a){o=a.width,u=a.height;const m=zv();(!m||m&&e==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}return{width:o,height:u,x:d,y:h}}function L4(r,e){const t=ro(r,!0,e==="fixed"),n=t.top+r.clientTop,a=t.left+r.clientLeft,o=ii(r)?ml(r):ni(1),u=r.clientWidth*o.x,d=r.clientHeight*o.y,h=a*o.x,m=n*o.y;return{width:u,height:d,x:h,y:m}}function yT(r,e,t){let n;if(e==="viewport")n=P4(r,t);else if(e==="document")n=O4(ai(r));else if(Cn(e))n=L4(e,t);else{const a=oR(r);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Ih(n)}function uR(r,e){const t=$a(r);return t===e||!Cn(t)||Cl(t)?!1:fr(t).position==="fixed"||uR(t,e)}function V4(r,e){const t=e.get(r);if(t)return t;let n=kc(r,[],!1).filter(d=>Cn(d)&&Hl(d)!=="body"),a=null;const o=fr(r).position==="fixed";let u=o?$a(r):r;for(;Cn(u)&&!Cl(u);){const d=fr(u),h=Hv(u);!h&&d.position==="fixed"&&(a=null),(o?!h&&!a:!h&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Qc(u)&&!h&&uR(r,u))?n=n.filter(y=>y!==u):a=d,u=$a(u)}return e.set(r,n),n}function U4(r){let{element:e,boundary:t,rootBoundary:n,strategy:a}=r;const u=[...t==="clippingAncestors"?pp(e)?[]:V4(e,this._c):[].concat(t),n],d=u[0],h=u.reduce((m,y)=>{const _=yT(e,y,a);return m.top=Qs(_.top,m.top),m.right=Il(_.right,m.right),m.bottom=Il(_.bottom,m.bottom),m.left=Qs(_.left,m.left),m},yT(e,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function j4(r){const{width:e,height:t}=sR(r);return{width:e,height:t}}function B4(r,e,t){const n=ii(e),a=ai(e),o=t==="fixed",u=ro(r,!0,o,e);let d={scrollLeft:0,scrollTop:0};const h=ni(0);function m(){h.x=Qv(a)}if(n||!n&&!o)if((Hl(e)!=="body"||Qc(a))&&(d=mp(e)),n){const S=ro(e,!0,o,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else a&&m();o&&!n&&a&&m();const y=a&&!n&&!o?lR(a,d):ni(0),_=u.left+d.scrollLeft-h.x-y.x,w=u.top+d.scrollTop-h.y-y.y;return{x:_,y:w,width:u.width,height:u.height}}function Bg(r){return fr(r).position==="static"}function vT(r,e){if(!ii(r)||fr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return ai(r)===t&&(t=t.ownerDocument.body),t}function cR(r,e){const t=Qn(r);if(pp(r))return t;if(!ii(r)){let a=$a(r);for(;a&&!Cl(a);){if(Cn(a)&&!Bg(a))return a;a=$a(a)}return t}let n=vT(r,e);for(;n&&u4(n)&&Bg(n);)n=vT(n,e);return n&&Cl(n)&&Bg(n)&&!Hv(n)?t:n||c4(r)||t}const F4=async function(r){const e=this.getOffsetParent||cR,t=this.getDimensions,n=await t(r.floating);return{reference:B4(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function H4(r){return fr(r).direction==="rtl"}const z4={convertOffsetParentRelativeRectToViewportRelativeRect:M4,getDocumentElement:ai,getClippingRect:U4,getOffsetParent:cR,getElementRects:F4,getClientRects:N4,getDimensions:j4,getScale:ml,isElement:Cn,isRTL:H4};function dR(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function q4(r,e){let t=null,n;const a=ai(r);function o(){var d;clearTimeout(n),(d=t)==null||d.disconnect(),t=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),o();const m=r.getBoundingClientRect(),{left:y,top:_,width:w,height:S}=m;if(d||e(),!w||!S)return;const T=xf(_),C=xf(a.clientWidth-(y+w)),I=xf(a.clientHeight-(_+S)),V=xf(y),H={rootMargin:-T+"px "+-C+"px "+-I+"px "+-V+"px",threshold:Qs(0,Il(1,h))||1};let X=!0;function J(le){const N=le[0].intersectionRatio;if(N!==h){if(!X)return u();N?u(!1,N):n=setTimeout(()=>{u(!1,1e-7)},1e3)}N===1&&!dR(m,r.getBoundingClientRect())&&u(),X=!1}try{t=new IntersectionObserver(J,{...H,root:a.ownerDocument})}catch{t=new IntersectionObserver(J,H)}t.observe(r)}return u(!0),o}function Y4(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,m=Gv(r),y=a||o?[...m?kc(m):[],...kc(e)]:[];y.forEach(V=>{a&&V.addEventListener("scroll",t,{passive:!0}),o&&V.addEventListener("resize",t)});const _=m&&d?q4(m,t):null;let w=-1,S=null;u&&(S=new ResizeObserver(V=>{let[G]=V;G&&G.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var H;(H=S)==null||H.observe(e)})),t()}),m&&!h&&S.observe(m),S.observe(e));let T,C=h?ro(r):null;h&&I();function I(){const V=ro(r);C&&!dR(C,V)&&t(),C=V,T=requestAnimationFrame(I)}return t(),()=>{var V;y.forEach(G=>{a&&G.removeEventListener("scroll",t),o&&G.removeEventListener("resize",t)}),_==null||_(),(V=S)==null||V.disconnect(),S=null,h&&cancelAnimationFrame(T)}}const G4=I4,Q4=R4,_T=A4,K4=(r,e,t)=>{const n=new Map,a={platform:z4,...t},o={...a.platform,_c:n};return S4(r,e,{...a,platform:o})};var Xf=typeof document<"u"?M.useLayoutEffect:M.useEffect;function kh(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,a;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!kh(r[n],e[n]))return!1;return!0}if(a=Object.keys(r),t=a.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=t;n--!==0;){const o=a[n];if(!(o==="_owner"&&r.$$typeof)&&!kh(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function fR(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function wT(r,e){const t=fR(r);return Math.round(e*t)/t}function Fg(r){const e=M.useRef(r);return Xf(()=>{e.current=r}),e}function W4(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=r,[y,_]=M.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,S]=M.useState(n);kh(w,n)||S(n);const[T,C]=M.useState(null),[I,V]=M.useState(null),G=M.useCallback(ue=>{ue!==le.current&&(le.current=ue,C(ue))},[]),H=M.useCallback(ue=>{ue!==N.current&&(N.current=ue,V(ue))},[]),X=o||T,J=u||I,le=M.useRef(null),N=M.useRef(null),A=M.useRef(y),x=h!=null,P=Fg(h),j=Fg(a),B=Fg(m),O=M.useCallback(()=>{if(!le.current||!N.current)return;const ue={placement:e,strategy:t,middleware:w};j.current&&(ue.platform=j.current),K4(le.current,N.current,ue).then(be=>{const U={...be,isPositioned:B.current!==!1};Me.current&&!kh(A.current,U)&&(A.current=U,uS.flushSync(()=>{_(U)}))})},[w,e,t,j,B]);Xf(()=>{m===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,_(ue=>({...ue,isPositioned:!1})))},[m]);const Me=M.useRef(!1);Xf(()=>(Me.current=!0,()=>{Me.current=!1}),[]),Xf(()=>{if(X&&(le.current=X),J&&(N.current=J),X&&J){if(P.current)return P.current(X,J,O);O()}},[X,J,O,P,x]);const we=M.useMemo(()=>({reference:le,floating:N,setReference:G,setFloating:H}),[G,H]),Y=M.useMemo(()=>({reference:X,floating:J}),[X,J]),ie=M.useMemo(()=>{const ue={position:t,left:0,top:0};if(!Y.floating)return ue;const be=wT(Y.floating,y.x),U=wT(Y.floating,y.y);return d?{...ue,transform:"translate("+be+"px, "+U+"px)",...fR(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:be,top:U}},[t,d,Y.floating,y.x,y.y]);return M.useMemo(()=>({...y,update:O,refs:we,elements:Y,floatingStyles:ie}),[y,O,we,Y,ie])}const $4=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:a}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?_T({element:n.current,padding:a}).fn(t):{}:n?_T({element:n,padding:a}).fn(t):{}}}},X4=(r,e)=>({...G4(r),options:[r,e]}),Z4=(r,e)=>({...Q4(r),options:[r,e]}),J4=(r,e)=>({...$4(r),options:[r,e]}),eU={...YT};let ET=!1,tU=0;const bT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tU++;function nU(){const[r,e]=M.useState(()=>ET?bT():void 0);return xh(()=>{r==null&&e(bT())},[]),M.useEffect(()=>{ET=!0},[]),r}const rU=eU.useId,hR=rU||nU,iU=M.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:o,shift:u}},width:d=14,height:h=7,tipRadius:m=0,strokeWidth:y=0,staticOffset:_,stroke:w,d:S,style:{transform:T,...C}={},...I}=e,V=hR(),[G,H]=M.useState(!1);if(xh(()=>{if(!a)return;fr(a).direction==="rtl"&&H(!0)},[a]),!a)return null;const[X,J]=n.split("-"),le=X==="top"||X==="bottom";let N=_;(le&&u!=null&&u.x||!le&&u!=null&&u.y)&&(N=null);const A=y*2,x=A/2,P=d/2*(m/-8+1),j=h/2*m/4,B=!!S,O=N&&J==="end"?"bottom":"top";let Me=N&&J==="end"?"right":"left";N&&G&&(Me=J==="end"?"left":"right");const we=(o==null?void 0:o.x)!=null?N||o.x:"",Y=(o==null?void 0:o.y)!=null?N||o.y:"",ie=S||"M0,0"+(" H"+d)+(" L"+(d-P)+","+(h-j))+(" Q"+d/2+","+h+" "+P+","+(h-j))+" Z",ue={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[X];return k.jsxs("svg",{...I,"aria-hidden":!0,ref:t,width:B?d:d+A,height:d,viewBox:"0 0 "+d+" "+(h>d?h:d),style:{position:"absolute",pointerEvents:"none",[Me]:we,[O]:Y,[X]:le||B?"100%":"calc(100% - "+A/2+"px)",transform:[ue,T].filter(be=>!!be).join(" "),...C},children:[A>0&&k.jsx("path",{clipPath:"url(#"+V+")",fill:"none",stroke:w,strokeWidth:A+(S?0:1),d:ie}),k.jsx("path",{stroke:A&&!S?I.fill:"none",d:ie}),k.jsx("clipPath",{id:V,children:k.jsx("rect",{x:-x,y:x*(B?-1:1),width:d+A,height:d})})]})});function aU(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(a=>a(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const sU=M.createContext(null),oU=M.createContext(null),lU=()=>{var r;return((r=M.useContext(sU))==null?void 0:r.id)||null},uU=()=>M.useContext(oU);function cU(r){const{open:e=!1,onOpenChange:t,elements:n}=r,a=hR(),o=M.useRef({}),[u]=M.useState(()=>aU()),d=lU()!=null,[h,m]=M.useState(n.reference),y=T4((S,T,C)=>{o.current.openEvent=S?T:void 0,u.emit("openchange",{open:S,event:T,reason:C,nested:d}),t==null||t(S,T,C)}),_=M.useMemo(()=>({setPositionReference:m}),[]),w=M.useMemo(()=>({reference:h||n.reference||null,floating:n.floating||null,domReference:n.reference}),[h,n.reference,n.floating]);return M.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:w,events:u,floatingId:a,refs:_}),[e,y,w,u,a,_])}function dU(r){r===void 0&&(r={});const{nodeId:e}=r,t=cU({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,a=n.elements,[o,u]=M.useState(null),[d,h]=M.useState(null),y=(a==null?void 0:a.domReference)||o,_=M.useRef(null),w=uU();xh(()=>{y&&(_.current=y)},[y]);const S=W4({...r,elements:{...a,...d&&{reference:d}}}),T=M.useCallback(H=>{const X=Cn(H)?{getBoundingClientRect:()=>H.getBoundingClientRect(),getClientRects:()=>H.getClientRects(),contextElement:H}:H;h(X),S.refs.setReference(X)},[S.refs]),C=M.useCallback(H=>{(Cn(H)||H===null)&&(_.current=H,u(H)),(Cn(S.refs.reference.current)||S.refs.reference.current===null||H!==null&&!Cn(H))&&S.refs.setReference(H)},[S.refs]),I=M.useMemo(()=>({...S.refs,setReference:C,setPositionReference:T,domReference:_}),[S.refs,C,T]),V=M.useMemo(()=>({...S.elements,domReference:y}),[S.elements,y]),G=M.useMemo(()=>({...S,...n,refs:I,elements:V,nodeId:e}),[S,I,V,e,n]);return xh(()=>{n.dataRef.current.floatingContext=G;const H=w==null?void 0:w.nodesRef.current.find(X=>X.id===e);H&&(H.context=G)}),M.useMemo(()=>({...S,context:G,refs:I,elements:V}),[S,I,V,G])}/*!
  react-datepicker v8.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Iy=function(e,t){return Iy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},Iy(e,t)};function Jt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Iy(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ke=function(){return Ke=Object.assign||function(t){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Ke.apply(this,arguments)};function $r(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var fU=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,a=n===void 0?!1:n,o=r.className,u=r.children,d=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return ee.createElement("div",{className:o,role:"dialog","aria-label":d,"aria-modal":"true"},u)},hU=function(r,e){var t=M.useRef(null),n=M.useRef(r);n.current=r;var a=M.useCallback(function(o){var u,d=o.composed&&o.composedPath&&o.composedPath().find(function(h){return h instanceof Node})||o.target;t.current&&!t.current.contains(d)&&(e&&d instanceof HTMLElement&&d.classList.contains(e)||(u=n.current)===null||u===void 0||u.call(n,o))},[e]);return M.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},yp=function(r){var e=r.children,t=r.onClickOutside,n=r.className,a=r.containerRef,o=r.style,u=r.ignoreClass,d=hU(t,u);return ee.createElement("div",{className:n,style:o,ref:function(h){d.current=h,a&&(a.current=h)}},e)},he;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(he||(he={}));function pR(){var r=typeof window<"u"?window:globalThis;return r}var Wc=12;function Je(r){if(r==null)return new Date;var e=typeof r=="string"?QV(r):ve(r);return vp(e)?e:new Date}function Hg(r,e,t,n,a){a===void 0&&(a=Je());for(var o=kl(t)||kl(Kv()),u=Array.isArray(e)?e:[e],d=0,h=u;d<h.length;d++){var m=h[d],y=eR(r,m,a,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(vp(y)&&(!n||r===gt(y,m,t)))return y}return null}function vp(r,e){return bh(r)&&!no(r,new Date("1/1/1800"))}function gt(r,e,t){if(t==="en")return to(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?kl(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||kl(Kv()),to(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function or(r,e){var t=e.dateFormat,n=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return r&&gt(r,a,n)||""}function pU(r,e,t){if(!r)return"";var n=or(r,t),a=e?or(e,t):"";return"".concat(n," - ").concat(a)}function mU(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?or(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=or(r[1],e);return"".concat(t,", ").concat(n)}var a=r.length-1;return"".concat(t," (+").concat(a,")")}function zg(r,e){var t=e.hour,n=t===void 0?0:t,a=e.minute,o=a===void 0?0:a,u=e.second,d=u===void 0?0:u;return Kf(Wf($f(r,d),o),n)}function gU(r){return Uv(r)}function yU(r,e){return gt(r,"ddd",e)}function Zf(r){return eo(r)}function Ha(r,e,t){var n=kl(e||Kv());return Wi(r,{locale:n,weekStartsOn:t})}function Hi(r){return zA(r)}function dc(r){return fp(r)}function TT(r){return Ty(r)}function ST(){return eo(Je())}function DT(r){return FA(r)}function vU(r){return X2(r)}function _U(r){return HA(r)}function Qr(r,e){return r&&e?YV(r,e):!r&&!e}function An(r,e){return r&&e?zV(r,e):!r&&!e}function Mh(r,e){return r&&e?qV(r,e):!r&&!e}function Qe(r,e){return r&&e?W2(r,e):!r&&!e}function qs(r,e){return r&&e?QL(r,e):!r&&!e}function fc(r,e,t){var n,a=eo(e),o=FA(t);try{n=xc(r,{start:a,end:o})}catch{n=!1}return n}function Kv(){var r=pR();return r.__localeId__}function kl(r){if(typeof r=="string"){var e=pR();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function wU(r,e,t){return e(gt(r,"EEEE",t))}function EU(r,e){return gt(r,"EEEEEE",e)}function bU(r,e){return gt(r,"EEE",e)}function Wv(r,e){return gt(lr(Je(),r),"LLLL",e)}function mR(r,e){return gt(lr(Je(),r),"LLL",e)}function TU(r,e){return gt(ol(Je(),r),"QQQ",e)}function ur(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.excludeDateIntervals,d=t.includeDates,h=t.includeDateIntervals,m=t.filterDate;return $c(r,{minDate:n,maxDate:a})||o&&o.some(function(y){return y instanceof Date?Qe(r,y):Qe(r,y.date)})||u&&u.some(function(y){var _=y.start,w=y.end;return xc(r,{start:_,end:w})})||d&&!d.some(function(y){return Qe(r,y)})||h&&!h.some(function(y){var _=y.start,w=y.end;return xc(r,{start:_,end:w})})||m&&!m(Je(r))||!1}function $v(r,e){var t=e===void 0?{}:e,n=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var u=o.start,d=o.end;return xc(r,{start:u,end:d})}):n&&n.some(function(o){var u;return o instanceof Date?Qe(r,o):Qe(r,(u=o.date)!==null&&u!==void 0?u:new Date)})||!1}function gR(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates,d=t.filterDate;return $c(r,{minDate:n?zA(n):void 0,maxDate:a?HA(a):void 0})||(o==null?void 0:o.some(function(h){return An(r,h instanceof Date?h:h.date)}))||u&&!u.some(function(h){return An(r,h)})||d&&!d(Je(r))||!1}function kf(r,e,t,n){var a=Le(r),o=Rn(r),u=Le(e),d=Rn(e),h=Le(n);return a===u&&a===h?o<=t&&t<=d:a<u?h===a&&o<=t||h===u&&d>=t||h<u&&h>a:!1}function SU(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates;return $c(r,{minDate:n,maxDate:a})||o&&o.some(function(d){return An(d instanceof Date?d:d.date,r)})||u&&!u.some(function(d){return An(d,r)})||!1}function Mf(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates,d=t.filterDate;return $c(r,{minDate:n,maxDate:a})||(o==null?void 0:o.some(function(h){return Mh(r,h instanceof Date?h:h.date)}))||u&&!u.some(function(h){return Mh(r,h)})||d&&!d(Je(r))||!1}function Nf(r,e,t){if(!e||!t||!bh(e)||!bh(t))return!1;var n=Le(e),a=Le(t);return n<=r&&a>=r}function Jf(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates,d=t.filterDate,h=new Date(r,0,1);return $c(h,{minDate:n?fp(n):void 0,maxDate:a?qA(a):void 0})||(o==null?void 0:o.some(function(m){return Qr(h,m instanceof Date?m:m.date)}))||u&&!u.some(function(m){return Qr(h,m)})||d&&!d(Je(h))||!1}function Of(r,e,t,n){var a=Le(r),o=Ys(r),u=Le(e),d=Ys(e),h=Le(n);return a===u&&a===h?o<=t&&t<=d:a<u?h===a&&o<=t||h===u&&d>=t||h<u&&h>a:!1}function $c(r,e){var t,n=e===void 0?{}:e,a=n.minDate,o=n.maxDate;return(t=a&&Al(r,a)<0||o&&Al(r,o)>0)!==null&&t!==void 0?t:!1}function AT(r,e){return e.some(function(t){return Bi(t)===Bi(r)&&Fi(t)===Fi(r)&&Fa(t)===Fa(r)})}function RT(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,a=t.includeTimes,o=t.filterTime;return n&&AT(r,n)||a&&!AT(r,a)||o&&!o(r)||!1}function CT(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var a=Je();a=Kf(a,Bi(r)),a=Wf(a,Fi(r)),a=$f(a,Fa(r));var o=Je();o=Kf(o,Bi(t)),o=Wf(o,Fi(t)),o=$f(o,Fa(t));var u=Je();u=Kf(u,Bi(n)),u=Wf(u,Fi(n)),u=$f(u,Fa(n));var d;try{d=!xc(a,{start:o,end:u})}catch{d=!1}return d}function IT(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=Gs(r,1);return n&&Th(n,o)>0||a&&a.every(function(u){return Th(u,o)>0})||!1}function xT(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=Sr(r,1);return n&&Th(o,n)>0||a&&a.every(function(u){return Th(o,u)>0})||!1}function DU(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=fp(r),u=nR(o);return n&&Sh(n,u)>0||a&&a.every(function(d){return Sh(d,u)>0})||!1}function AU(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=qA(r),u=Vv(o,1);return n&&Sh(u,n)>0||a&&a.every(function(d){return Sh(u,d)>0})||!1}function kT(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=Rl(r,1);return n&&Dh(n,o)>0||a&&a.every(function(u){return Dh(u,o)>0})||!1}function RU(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.yearItemNumber,o=a===void 0?Wc:a,u=dc(Rl(r,o)),d=Pa(u,o).endPeriod,h=n&&Le(n);return h&&h>d||!1}function MT(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=Ui(r,1);return n&&Dh(o,n)>0||a&&a.every(function(u){return Dh(o,u)>0})||!1}function CU(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.yearItemNumber,o=a===void 0?Wc:a,u=Ui(r,o),d=Pa(u,o).startPeriod,h=n&&Le(n);return h&&h<d||!1}function yR(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(a){return Al(a,e)>=0});return oT(n)}else return t?oT(t):e}function vR(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(a){return Al(a,e)<=0});return sT(n)}else return t?sT(t):e}function NT(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,a=0,o=r.length;a<o;a++){var u=r[a];if(ji(u)){var d=gt(u,"MM.dd.yyyy"),h=n.get(d)||[];h.includes(e)||(h.push(e),n.set(d,h))}else if(typeof u=="object"){var m=Object.keys(u),y=(t=m[0])!==null&&t!==void 0?t:"",_=u[y];if(typeof y=="string"&&Array.isArray(_))for(var w=0,S=_.length;w<S;w++){var T=_[w];if(T){var d=gt(T,"MM.dd.yyyy"),h=n.get(d)||[];h.includes(y)||(h.push(y),n.set(d,h))}}}}return n}function IU(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function xU(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var a=n.date,o=n.holidayName;if(ji(a)){var u=gt(a,"MM.dd.yyyy"),d=t.get(u)||{className:"",holidayNames:[]};if(!("className"in d&&d.className===e&&IU(d.holidayNames,[o]))){d.className=e;var h=d.holidayNames;d.holidayNames=h?$r($r([],h,!0),[o],!1):[o],t.set(u,d)}}}),t}function kU(r,e,t,n,a){for(var o=a.length,u=[],d=0;d<o;d++){var h=r,m=a[d];m&&(h=Y2(h,Bi(m)),h=by(h,Fi(m)),h=K2(h,Fa(m)));var y=by(r,(t+1)*n);Wa(h,e)&&no(h,y)&&m!=null&&u.push(m)}return u}function OT(r){return r<10?"0".concat(r):"".concat(r)}function Pa(r,e){e===void 0&&(e=Wc);var t=Math.ceil(Le(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function MU(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function PT(r){var e=r.getSeconds(),t=r.getMilliseconds();return ve(r.getTime()-e*1e3-t)}function NU(r,e){return PT(r).getTime()===PT(e).getTime()}function LT(r){if(!ji(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function VT(r,e){if(!ji(r)||!ji(e))throw new Error("Invalid date received");var t=LT(r),n=LT(e);return no(t,n)}function _R(r){return r.key===he.Space}var OU=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=ee.createRef(),n.onTimeChange=function(a){var o,u;n.setState({time:a});var d=n.props.date,h=d instanceof Date&&!isNaN(+d),m=h?d:new Date;if(a!=null&&a.includes(":")){var y=a.split(":"),_=y[0],w=y[1];m.setHours(Number(_)),m.setMinutes(Number(w))}(u=(o=n.props).onChange)===null||u===void 0||u.call(o,m)},n.renderTimeInput=function(){var a=n.state.time,o=n.props,u=o.date,d=o.timeString,h=o.customTimeInput;return h?M.cloneElement(h,{date:u,value:a,onChange:n.onTimeChange}):ee.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:a,onChange:function(m){n.onTimeChange(m.target.value||d)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ee.createElement("div",{className:"react-datepicker__input-time-container"},ee.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ee.createElement("div",{className:"react-datepicker-time__input-container"},ee.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(M.Component),PU=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=M.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var a,o,u=n.key;u===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},t.isSameDay=function(n){return Qe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(u){return t.isSameDayOrWeek(u)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),ur(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return $v(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qe(t.props.day,Ha(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Qe(n,Ha(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,a=n.day,o=n.highlightDates;if(!o)return!1;var u=gt(a,"MM.dd.yyyy");return o.get(u)},t.getHolidaysClass=function(){var n,a=t.props,o=a.day,u=a.holidays;if(!u)return[void 0];var d=gt(o,"MM.dd.yyyy");return u.has(d)?[(n=u.get(d))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,a=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:fc(a,o,u)},t.isInSelectingRange=function(){var n,a=t.props,o=a.day,u=a.selectsStart,d=a.selectsEnd,h=a.selectsRange,m=a.selectsDisabledDaysInRange,y=a.startDate,_=a.endDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(u||d||h)||!w||!m&&t.isDisabled()?!1:u&&_&&(no(w,_)||qs(w,_))?fc(o,w,_):d&&y&&!_&&(Wa(w,y)||qs(w,y))||h&&y&&!_&&(Wa(w,y)||qs(w,y))?fc(o,y,w):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,u=a.startDate,d=a.selectsStart,h=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Qe(o,h):Qe(o,u)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,u=a.endDate,d=a.selectsEnd,h=a.selectsRange,m=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d||h?Qe(o,m):Qe(o,u)},t.isRangeStart=function(){var n=t.props,a=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Qe(o,a)},t.isRangeEnd=function(){var n=t.props,a=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Qe(u,a)},t.isWeekend=function(){var n=zL(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Rn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Rn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Je())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var a=t.props.dayClassName?t.props.dayClassName(n):void 0;return ln("react-datepicker__day",a,"react-datepicker__day--"+yU(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,a=n.day,o=n.ariaLabelPrefixWhenEnabled,u=o===void 0?"Choose":o,d=n.ariaLabelPrefixWhenDisabled,h=d===void 0?"Not available":d,m=t.isDisabled()||t.isExcluded()?h:u;return"".concat(m," ").concat(gt(a,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,a=n.day,o=n.holidays,u=o===void 0?new Map:o,d=n.excludeDates,h=gt(a,"MM.dd.yyyy"),m=[];return u.has(h)&&m.push.apply(m,u.get(h).holidayNames),t.isExcluded()&&m.push(d==null?void 0:d.filter(function(y){return y instanceof Date?Qe(y,a):Qe(y==null?void 0:y.date,a)}).map(function(y){if(!(y instanceof Date))return y==null?void 0:y.message})),m.join(", ")},t.getTabIndex=function(){var n=t.props.selected,a=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Qe(a,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(hT(t.props.day),t.props.day):hT(t.props.day)},t.render=function(){return ee.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ee.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,a;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(M.Component),LU=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=M.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var a,o,u=n.key;u===he.Space&&(n.preventDefault(),n.key=he.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.props.date,t.props.selected)&&Qe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qe(t.props.date,t.props.selected)&&Qe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var a=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Qe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,a=t.isWeekDisabled,o=t.ariaLabelPrefix,u=o===void 0?e.defaultProps.ariaLabelPrefix:o,d=t.onClick,h={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d&&!a,"react-datepicker__week-number--selected":!!d&&Qe(this.props.date,this.props.selected)};return ee.createElement("div",{ref:this.weekNumberEl,className:ln(h),"aria-label":"".concat(u," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(M.Component),VU=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return ur(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,a){t.props.onDayClick&&t.props.onDayClick(n,a)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,a,o){for(var u,d,h,m=new Date(n),y=0;y<7;y++){var _=new Date(n);_.setDate(_.getDate()+y);var w=!t.isDisabled(_);if(w){m=_;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(m,a,o),t.props.showWeekPicker&&t.handleDayClick(m,o),((u=t.props.shouldCloseOnSelect)!==null&&u!==void 0?u:e.defaultProps.shouldCloseOnSelect)&&((h=(d=t.props).setOpen)===null||h===void 0||h.call(d,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):gU(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),a=wr(n,6),o=new Date(n);o<=a;){if(!t.isDisabled(o))return!1;o=wr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),a=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var u=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;a.push(ee.createElement(LU,Ke({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:u})))}return a.concat([0,1,2,3,4,5,6].map(function(d){var h=wr(n,d);return ee.createElement(PU,Ke({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,onClick:t.handleDayClick.bind(t,h),onMouseEnter:t.handleDayMouseEnter.bind(t,h)}))}))},t.startOfWeek=function(){return Ha(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.startOfWeek(),t.props.selected)&&Qe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ee.createElement("div",{className:ln(t)},this.renderDays())},e}(M.Component),ic,UU=6,gl={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},qg=(ic={},ic[gl.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ic[gl.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ic[gl.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ic),Pf=1;function UT(r,e){return r?gl.FOUR_COLUMNS:e?gl.TWO_COLUMNS:gl.THREE_COLUMNS}var jU=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=$r([],Array(12),!0).map(function(){return M.createRef()}),t.QUARTER_REFS=$r([],Array(4),!0).map(function(){return M.createRef()}),t.isDisabled=function(n){return ur(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return $v(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,a){var o,u;(u=(o=t.props).onDayClick)===null||u===void 0||u.call(o,n,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var a,o;(o=(a=t.props).onDayMouseEnter)===null||o===void 0||o.call(a,n)},t.handleMouseLeave=function(){var n,a;(a=(n=t.props).onMouseLeave)===null||a===void 0||a.call(n)},t.isRangeStartMonth=function(n){var a=t.props,o=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:An(lr(o,n),u)},t.isRangeStartQuarter=function(n){var a=t.props,o=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Mh(ol(o,n),u)},t.isRangeEndMonth=function(n){var a=t.props,o=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:An(lr(o,n),d)},t.isRangeEndQuarter=function(n){var a=t.props,o=a.day,u=a.startDate,d=a.endDate;return!u||!d?!1:Mh(ol(o,n),d)},t.isInSelectingRangeMonth=function(n){var a,o=t.props,u=o.day,d=o.selectsStart,h=o.selectsEnd,m=o.selectsRange,y=o.startDate,_=o.endDate,w=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(d||h||m)||!w?!1:d&&_?kf(w,_,n,u):h&&y||m&&y&&!_?kf(y,w,n,u):!1},t.isSelectingMonthRangeStart=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,u=o.day,d=o.startDate,h=o.selectsStart,m=lr(u,n),y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return h?An(m,y):An(m,d)},t.isSelectingMonthRangeEnd=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,u=o.day,d=o.endDate,h=o.selectsEnd,m=o.selectsRange,y=lr(u,n),_=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return h||m?An(y,_):An(y,d)},t.isInSelectingRangeQuarter=function(n){var a,o=t.props,u=o.day,d=o.selectsStart,h=o.selectsEnd,m=o.selectsRange,y=o.startDate,_=o.endDate,w=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(d||h||m)||!w?!1:d&&_?Of(w,_,n,u):h&&y||m&&y&&!_?Of(y,w,n,u):!1},t.isWeekInMonth=function(n){var a=t.props.day,o=wr(n,6);return An(n,a)||An(o,a)},t.isCurrentMonth=function(n,a){return Le(n)===Le(Je())&&a===Rn(Je())},t.isCurrentQuarter=function(n,a){return Le(n)===Le(Je())&&a===Ys(Je())},t.isSelectedMonth=function(n,a,o){return Rn(o)===a&&Le(n)===Le(o)},t.isSelectMonthInList=function(n,a,o){return o.some(function(u){return t.isSelectedMonth(n,a,u)})},t.isSelectedQuarter=function(n,a,o){return Ys(n)===a&&Le(n)===Le(o)},t.renderWeeks=function(){for(var n=[],a=t.props.fixedHeight,o=0,u=!1,d=Ha(Hi(t.props.day),t.props.locale,t.props.calendarStartDay),h=function(T){return t.props.showWeekPicker?Ha(T,t.props.locale,t.props.calendarStartDay):t.props.preSelection},m=function(T){return t.props.showWeekPicker?Ha(T,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?m(t.props.selected):void 0,_=t.props.preSelection?h(t.props.preSelection):void 0;n.push(ee.createElement(VU,Ke({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:d,month:Rn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:_,showWeekNumber:t.props.showWeekNumbers}))),!u;){o++,d=Eh(d,1);var w=a&&o>=UU,S=!a&&!t.isWeekInMonth(d);if(w||S)if(t.props.peekNextMonth)u=!0;else break}return n},t.onMonthClick=function(n,a){var o=t.isMonthDisabledForLabelDate(a),u=o.isDisabled,d=o.labelDate;u||t.handleDayClick(Hi(d),n)},t.onMonthMouseEnter=function(n){var a=t.isMonthDisabledForLabelDate(n),o=a.isDisabled,u=a.labelDate;o||t.handleDayMouseEnter(Hi(u))},t.handleMonthNavigation=function(n,a){var o,u,d,h;(u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,a),(h=(d=t.MONTH_REFS[n])===null||d===void 0?void 0:d.current)===null||h===void 0||h.focus()},t.handleKeyboardNavigation=function(n,a,o){var u,d=t.props,h=d.selected,m=d.preSelection,y=d.setPreSelection,_=d.minDate,w=d.maxDate,S=d.showFourColumnMonthYearPicker,T=d.showTwoColumnMonthYearPicker;if(m){var C=UT(S,T),I=t.getVerticalOffset(C),V=(u=qg[C])===null||u===void 0?void 0:u.grid,G=function(N,A,x){var P,j,B=A,O=x;switch(N){case he.ArrowRight:B=Sr(A,Pf),O=x===11?0:x+Pf;break;case he.ArrowLeft:B=Gs(A,Pf),O=x===0?11:x-Pf;break;case he.ArrowUp:B=Gs(A,I),O=!((P=V==null?void 0:V[0])===null||P===void 0)&&P.includes(x)?x+12-I:x-I;break;case he.ArrowDown:B=Sr(A,I),O=!((j=V==null?void 0:V[V.length-1])===null||j===void 0)&&j.includes(x)?x-12+I:x+I;break}return{newCalculatedDate:B,newCalculatedMonth:O}},H=function(N,A,x){for(var P=40,j=N,B=!1,O=0,Me=G(j,A,x),we=Me.newCalculatedDate,Y=Me.newCalculatedMonth;!B;){if(O>=P){we=A,Y=x;break}if(_&&we<_){j=he.ArrowRight;var ie=G(j,we,Y);we=ie.newCalculatedDate,Y=ie.newCalculatedMonth}if(w&&we>w){j=he.ArrowLeft;var ie=G(j,we,Y);we=ie.newCalculatedDate,Y=ie.newCalculatedMonth}if(SU(we,t.props)){var ie=G(j,we,Y);we=ie.newCalculatedDate,Y=ie.newCalculatedMonth}else B=!0;O++}return{newCalculatedDate:we,newCalculatedMonth:Y}};if(a===he.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),y==null||y(h));return}var X=H(a,m,o),J=X.newCalculatedDate,le=X.newCalculatedMonth;switch(a){case he.ArrowRight:case he.ArrowLeft:case he.ArrowUp:case he.ArrowDown:t.handleMonthNavigation(le,J);break}}},t.getVerticalOffset=function(n){var a,o;return(o=(a=qg[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,a){var o=t.props,u=o.disabledKeyboardNavigation,d=o.handleOnMonthKeyDown,h=n.key;h!==he.Tab&&n.preventDefault(),u||t.handleKeyboardNavigation(n,h,a),d&&d(n)},t.onQuarterClick=function(n,a){var o=ol(t.props.day,a);Mf(o,t.props)||t.handleDayClick(TT(o),n)},t.onQuarterMouseEnter=function(n){var a=ol(t.props.day,n);Mf(a,t.props)||t.handleDayMouseEnter(TT(a))},t.handleQuarterNavigation=function(n,a){var o,u,d,h;t.isDisabled(a)||t.isExcluded(a)||((u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,a),(h=(d=t.QUARTER_REFS[n-1])===null||d===void 0?void 0:d.current)===null||h===void 0||h.focus())},t.onQuarterKeyDown=function(n,a){var o,u,d=n.key;if(!t.props.disabledKeyboardNavigation)switch(d){case he.Enter:t.onQuarterClick(n,a),(u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,t.props.selected);break;case he.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,Vv(t.props.preSelection,1));break;case he.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,nR(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var a,o=t.props,u=o.day,d=o.minDate,h=o.maxDate,m=o.excludeDates,y=o.includeDates,_=lr(u,n);return{isDisabled:(a=(d||h||m||y)&&gR(_,t.props))!==null&&a!==void 0?a:!1,labelDate:_}},t.isMonthDisabled=function(n){var a=t.isMonthDisabledForLabelDate(n).isDisabled;return a},t.getMonthClassNames=function(n){var a=t.props,o=a.day,u=a.startDate,d=a.endDate,h=a.preSelection,m=a.monthClassName,y=m?m(lr(o,n)):void 0,_=t.getSelection();return ln("react-datepicker__month-text","react-datepicker__month-".concat(n),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":_?t.isSelectMonthInList(o,n,_):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&h&&t.isSelectedMonth(o,n,h)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":u&&d?kf(u,d,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=Rn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(a).isDisabled,u=n===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return u},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=Ys(t.props.preSelection),o=Mf(t.props.day,t.props),u=n===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return u},t.getAriaLabel=function(n){var a=t.props,o=a.chooseDayAriaLabelPrefix,u=o===void 0?"Choose":o,d=a.disabledDayAriaLabelPrefix,h=d===void 0?"Not available":d,m=a.day,y=a.locale,_=lr(m,n),w=t.isDisabled(_)||t.isExcluded(_)?h:u;return"".concat(w," ").concat(gt(_,"MMMM yyyy",y))},t.getQuarterClassNames=function(n){var a=t.props,o=a.day,u=a.startDate,d=a.endDate,h=a.selected,m=a.minDate,y=a.maxDate,_=a.excludeDates,w=a.includeDates,S=a.filterDate,T=a.preSelection,C=a.disabledKeyboardNavigation,I=(m||y||_||w||S)&&Mf(ol(o,n),t.props);return ln("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":I,"react-datepicker__quarter-text--selected":h?t.isSelectedQuarter(o,n,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!C&&T&&t.isSelectedQuarter(o,n,T)&&!I,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":u&&d?Of(u,d,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var a=t.props,o=a.showFullMonthYearPicker,u=a.renderMonthContent,d=a.locale,h=a.day,m=mR(n,d),y=Wv(n,d);return u?u(n,m,y,h):o?y:m},t.getQuarterContent=function(n){var a,o=t.props,u=o.renderQuarterContent,d=o.locale,h=TU(n,d);return(a=u==null?void 0:u(n,h))!==null&&a!==void 0?a:h},t.renderMonths=function(){var n,a=t.props,o=a.showTwoColumnMonthYearPicker,u=a.showFourColumnMonthYearPicker,d=a.day,h=a.selected,m=(n=qg[UT(u,o)])===null||n===void 0?void 0:n.grid;return m==null?void 0:m.map(function(y,_){return ee.createElement("div",{className:"react-datepicker__month-wrapper",key:_},y.map(function(w,S){return ee.createElement("div",{ref:t.MONTH_REFS[w],key:S,onClick:function(T){t.onMonthClick(T,w)},onKeyDown:function(T){_R(T)&&(T.preventDefault(),T.key=he.Enter),t.onMonthKeyDown(T,w)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(w)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(w)}:void 0,tabIndex:Number(t.getTabIndex(w)),className:t.getMonthClassNames(w),"aria-disabled":t.isMonthDisabled(w),role:"option","aria-label":t.getAriaLabel(w),"aria-current":t.isCurrentMonth(d,w)?"date":void 0,"aria-selected":h?t.isSelectedMonth(d,w,h):void 0},t.getMonthContent(w))}))})},t.renderQuarters=function(){var n=t.props,a=n.day,o=n.selected,u=[1,2,3,4];return ee.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(d,h){return ee.createElement("div",{key:h,ref:t.QUARTER_REFS[h],role:"option",onClick:function(m){t.onQuarterClick(m,d)},onKeyDown:function(m){t.onQuarterKeyDown(m,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(d)}:void 0,className:t.getQuarterClassNames(d),"aria-selected":o?t.isSelectedQuarter(a,d,o):void 0,tabIndex:Number(t.getQuarterTabIndex(d)),"aria-current":t.isCurrentQuarter(a,d)?"date":void 0},t.getQuarterContent(d))}))},t.getClassNames=function(){var n=t.props,a=n.selectingDate,o=n.selectsStart,u=n.selectsEnd,d=n.showMonthYearPicker,h=n.showQuarterYearPicker,m=n.showWeekPicker;return ln("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||u)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":m})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,a=t.selectedDates,o=t.selectsMultiple;if(o)return a;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,a=t.showQuarterYearPicker,o=t.day,u=t.ariaLabelPrefix,d=u===void 0?"Month ":u,h=d?d.trim()+" ":"";return ee.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(h).concat(gt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},e}(M.Component),BU=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,a){return ee.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?ee.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ee.createElement(yp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),FU=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(a,o){return ee.createElement("option",{key:a,value:o},a)})},t.renderSelectMode=function(n){return ee.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,a){return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(n){return ee.createElement(BU,Ke({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var a=t.state.dropdownVisible,o=[t.renderReadView(!a,n)];return a&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return mR(o,t.props.locale)}:function(o){return Wv(o,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return ee.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e}(M.Component);function HU(r,e){for(var t=[],n=Hi(r),a=Hi(e);!Wa(n,a);)t.push(Je(n)),n=Sr(n,1);return t}var zU=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var o=Ay(a),u=Qr(n.props.date,a)&&An(n.props.date,a);return ee.createElement("div",{className:u?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":u?"true":void 0},u?ee.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",gt(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:HU(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=ln({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ee.createElement(yp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),qU=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Hi(t.props.minDate),a=Hi(t.props.maxDate),o=[];!Wa(n,a);){var u=Ay(n);o.push(ee.createElement("option",{key:u,value:u},gt(n,t.props.dateFormat,t.props.locale))),n=Sr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ee.createElement("select",{value:Ay(Hi(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var a=gt(t.props.date,t.props.dateFormat,t.props.locale);return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return ee.createElement(zU,Ke({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown();var a=Je(n);Qr(t.props.date,a)&&An(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(M.Component),YU=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var a,o;(t.props.minTime||t.props.maxTime)&&CT(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&RT(n,t.props)||(o=(a=t.props).onChange)===null||o===void 0||o.call(a,n)},t.isSelectedTime=function(n){return t.props.selected&&NU(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&CT(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&RT(n,t.props)},t.liClasses=function(n){var a,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Bi(n)*3600+Fi(n)*60+Fa(n))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,a){var o,u;n.key===he.Space&&(n.preventDefault(),n.key=he.Enter),(n.key===he.ArrowUp||n.key===he.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===he.ArrowDown||n.key===he.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===he.Enter&&t.handleClick(a),(u=(o=t.props).handleOnKeyDown)===null||u===void 0||u.call(o,n)},t.renderTimes=function(){for(var n,a=[],o=typeof t.props.format=="string"?t.props.format:"p",u=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,d=t.props.selected||t.props.openToDate||Je(),h=Zf(d),m=t.props.injectTimes&&t.props.injectTimes.sort(function(I,V){return I.getTime()-V.getTime()}),y=60*MU(d),_=y/u,w=0;w<_;w++){var S=by(h,w*u);if(a.push(S),m){var T=kU(h,S,w,u,m);a=a.concat(T)}}var C=a.reduce(function(I,V){return V.getTime()<=d.getTime()?V:I},a[0]);return a.map(function(I){return ee.createElement("li",{key:I.valueOf(),onClick:t.handleClick.bind(t,I),className:t.liClasses(I),ref:function(V){I===C&&(t.centerLi=V)},onKeyDown:function(V){t.handleOnKeyDown(V,I)},tabIndex:I===C?0:-1,role:"option","aria-selected":t.isSelectedTime(I)?"true":void 0,"aria-disabled":t.isDisabledTime(I)?"true":void 0},gt(I,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ee.createElement(ee.Fragment,null):ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ee.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,a=this.state.height;return ee.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ee.createElement("div",{className:"react-datepicker__time"},ee.createElement("div",{className:"react-datepicker__time-box"},ee.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(M.Component),jT=3,GU=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=$r([],Array(n.props.yearItemNumber),!0).map(function(){return M.createRef()}),n.isDisabled=function(a){return ur(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return $v(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var o=function(){var u,d;(d=(u=n.YEAR_REFS[a])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(a,o){n.props.onDayClick&&n.props.onDayClick(a,o)},n.handleYearNavigation=function(a,o){var u,d,h,m,y=n.props,_=y.date,w=y.yearItemNumber;if(!(_===void 0||w===void 0)){var S=Pa(_,w).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((d=(u=n.props).setPreSelection)===null||d===void 0||d.call(u,o),a-S<0?n.updateFocusOnPaginate(w-(S-a)):a-S>=w?n.updateFocusOnPaginate(Math.abs(w-(a-S))):(m=(h=n.YEAR_REFS[a-S])===null||h===void 0?void 0:h.current)===null||m===void 0||m.focus())}},n.isSameDay=function(a,o){return Qe(a,o)},n.isCurrentYear=function(a){return a===Le(Je())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Qr(Gr(Je(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Qr(Gr(Je(),a),n.props.endDate)},n.isInRange=function(a){return Nf(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var o=n.props,u=o.selectsStart,d=o.selectsEnd,h=o.selectsRange,m=o.startDate,y=o.endDate;return!(u||d||h)||!n.selectingDate()?!1:u&&y?Nf(a,n.selectingDate(),y):d&&m||h&&m&&!y?Nf(a,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var o;if(!n.isInSelectingRange(a))return!1;var u=n.props,d=u.startDate,h=u.selectsStart,m=Gr(Je(),a);return h?Qr(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):Qr(m,d??null)},n.isSelectingRangeEnd=function(a){var o;if(!n.isInSelectingRange(a))return!1;var u=n.props,d=u.endDate,h=u.selectsEnd,m=u.selectsRange,y=Gr(Je(),a);return h||m?Qr(y,(o=n.selectingDate())!==null&&o!==void 0?o:null):Qr(y,d??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,u=o.minDate,d=o.maxDate,h=o.excludeDates,m=o.includeDates,y=o.filterDate,_=dc(Gr(n.props.date,a)),w=(u||d||h||m||y)&&Jf(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Qe(_,dc(n.props.selected))&&Qe(_,dc(n.props.preSelection))&&!w}},n.isSelectedYear=function(a){var o=n.props,u=o.selectsMultiple,d=o.selected,h=o.selectedDates;return u?h==null?void 0:h.some(function(m){return a===Le(m)}):!d||a===Le(d)},n.onYearClick=function(a,o){var u=n.props.date;u!==void 0&&n.handleYearClick(dc(Gr(u,o)),a)},n.onYearKeyDown=function(a,o){var u,d,h=a.key,m=n.props,y=m.date,_=m.yearItemNumber,w=m.handleOnKeyDown;if(h!==he.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(h){case he.Enter:if(n.props.selected==null)break;n.onYearClick(a,o),(d=(u=n.props).setPreSelection)===null||d===void 0||d.call(u,n.props.selected);break;case he.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,Ui(n.props.preSelection,1));break;case he.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,Rl(n.props.preSelection,1));break;case he.ArrowUp:{if(y===void 0||_===void 0||n.props.preSelection==null)break;var S=Pa(y,_).startPeriod,T=jT,C=o-T;if(C<S){var I=_%T;o>=S&&o<S+I?T=I:T+=I,C=o-T}n.handleYearNavigation(C,Rl(n.props.preSelection,T));break}case he.ArrowDown:{if(y===void 0||_===void 0||n.props.preSelection==null)break;var V=Pa(y,_).endPeriod,T=jT,C=o+T;if(C>V){var I=_%T;o<=V&&o>V-I?T=I:T+=I,C=o+T}n.handleYearNavigation(C,Ui(n.props.preSelection,T));break}}w&&w(a)},n.getYearClassNames=function(a){var o=n.props,u=o.date,d=o.minDate,h=o.maxDate,m=o.excludeDates,y=o.includeDates,_=o.filterDate,w=o.yearClassName;return ln("react-datepicker__year-text","react-datepicker__year-".concat(a),u?w==null?void 0:w(Gr(u,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(d||h||m||y||_)&&Jf(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Le(n.props.preSelection),u=Jf(a,n.props);return a===o&&!u?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return e.prototype.render=function(){var t=this,n=[],a=this.props,o=a.date,u=a.yearItemNumber,d=a.onYearMouseEnter,h=a.onYearMouseLeave;if(o===void 0)return null;for(var m=Pa(o,u),y=m.startPeriod,_=m.endPeriod,w=function(C){n.push(ee.createElement("div",{ref:S.YEAR_REFS[C-y],onClick:function(I){t.onYearClick(I,C)},onKeyDown:function(I){_R(I)&&(I.preventDefault(),I.key=he.Enter),t.onYearKeyDown(I,C)},tabIndex:Number(S.getYearTabIndex(C)),className:S.getYearClassNames(C),onMouseEnter:S.props.usePointerEvent?void 0:function(I){return d(I,C)},onPointerEnter:S.props.usePointerEvent?function(I){return d(I,C)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(I){return h(I,C)},onPointerLeave:S.props.usePointerEvent?function(I){return h(I,C)}:void 0,key:C,"aria-current":S.isCurrentYear(C)?"date":void 0},S.getYearContent(C)))},S=this,T=y;T<=_;T++)w(T);return ee.createElement("div",{className:"react-datepicker__year"},ee.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(M.Component);function QU(r,e,t,n){for(var a=[],o=0;o<2*e+1;o++){var u=r+e-o,d=!0;t&&(d=Le(t)<=u),n&&d&&(d=Le(n)>=u),d&&a.push(u)}return a}var KU=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var d=n.props.year,h=n.state.yearsList.map(function(_){return ee.createElement("div",{className:d===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:n.onChange.bind(n,_),"aria-selected":d===_?"true":void 0},d===_?ee.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",_)}),m=n.props.minDate?Le(n.props.minDate):null,y=n.props.maxDate?Le(n.props.maxDate):null;return(!y||!n.state.yearsList.find(function(_){return _===y}))&&h.unshift(ee.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(_){return _===m}))&&h.push(ee.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),h},n.onChange=function(d){n.props.onChange(d)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(d){var h=n.state.yearsList.map(function(m){return m+d});n.setState({yearsList:h})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,u=a||(o?10:5);return n.state={yearsList:QU(n.props.year,u,n.props.minDate,n.props.maxDate)},n.dropdownRef=M.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,a=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=ln({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ee.createElement(yp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),WU=function(r){Jt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Le(t.props.minDate):1900,a=t.props.maxDate?Le(t.props.maxDate):2100,o=[],u=n;u<=a;u++)o.push(ee.createElement("option",{key:u,value:u},u));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ee.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},ee.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ee.createElement(KU,Ke({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,a){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,a),t.setOpen()},t.onSelect=function(n,a){var o,u;(u=(o=t.props).onSelect)===null||u===void 0||u.call(o,n,a)},t.setOpen=function(){var n,a;(a=(n=t.props).setOpen)===null||a===void 0||a.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(M.Component),$U=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],XU=function(r){var e=(r.className||"").split(/\s+/);return $U.some(function(t){return e.indexOf(t)>=0})},ZU=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var o,u;XU(a.target)&&((u=(o=n.props).onDropdownFocus)===null||u===void 0||u.call(o,a))},n.getDateInView=function(){var a=n.props,o=a.preSelection,u=a.selected,d=a.openToDate,h=yR(n.props),m=vR(n.props),y=Je(),_=d||u||o;return _||(h&&no(y,h)?h:m&&Wa(y,m)?m:y)},n.increaseMonth=function(){n.setState(function(a){var o=a.date;return{date:Sr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var o=a.date;return{date:Gs(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,o,u){n.props.onSelect(a,o,u),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,o){n.setState({selectingDate:Gr(Je(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,o)},n.handleYearMouseLeave=function(a,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,o)},n.handleYearChange=function(a){var o,u,d,h;(u=(o=n.props).onYearChange)===null||u===void 0||u.call(o,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(h=(d=n.props).setOpen)===null||h===void 0||h.call(d,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!ur(a,n.props))return a;for(var o=Hi(a),u=_U(a),d=$2(u,o),h=null,m=0;m<=d;m++){var y=wr(o,m);if(!ur(y,n.props)){h=y;break}}return h},n.handleMonthChange=function(a){var o,u,d,h=(o=n.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;n.handleCustomMonthChange(h),n.props.adjustDateOnChange&&(n.props.onSelect(h),(d=(u=n.props).setOpen)===null||d===void 0||d.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(h)},n.handleCustomMonthChange=function(a){var o,u;(u=(o=n.props).onMonthChange)===null||u===void 0||u.call(o,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(o){var u=o.date;return{date:Gr(u,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(o){var u=o.date;return{date:lr(u,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(o){var u=o.date;return{date:Gr(lr(u,Rn(a)),Le(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var o=Ha(a,n.props.locale,n.props.calendarStartDay),u=[];return n.props.showWeekNumbers&&u.push(ee.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),u.concat([0,1,2,3,4,5,6].map(function(d){var h=wr(o,d),m=n.formatWeekday(h,n.props.locale),y=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;return ee.createElement("div",{key:d,"aria-label":gt(h,"EEEE",n.props.locale),className:ln("react-datepicker__day-name",y)},m)}))},n.formatWeekday=function(a,o){return n.props.formatWeekDay?wU(a,n.props.formatWeekDay,o):n.props.useWeekdaysShort?bU(a,o):EU(a,o)},n.decreaseYear=function(){n.setState(function(a){var o,u=a.date;return{date:Rl(u,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,o,u;if(!n.props.renderCustomHeader){var d=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,h=n.props.showPreviousMonths?d-1:0,m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:h,y=Gs(n.state.date,m),_;switch(!0){case n.props.showMonthYearPicker:_=kT(n.state.date,n.props);break;case n.props.showYearPicker:_=RU(n.state.date,n.props);break;case n.props.showQuarterYearPicker:_=DU(n.state.date,n.props);break;default:_=IT(y,n.props);break}if(!(!((u=n.props.forceShowMonthNavigation)!==null&&u!==void 0?u:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&_||n.props.showTimeSelectOnly)){var w=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],T=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(T=n.decreaseYear),_&&n.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),T=void 0);var C=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,I=n.props,V=I.previousMonthButtonLabel,G=V===void 0?e.defaultProps.previousMonthButtonLabel:V,H=I.previousYearButtonLabel,X=H===void 0?e.defaultProps.previousYearButtonLabel:H,J=n.props,le=J.previousMonthAriaLabel,N=le===void 0?typeof G=="string"?G:"Previous Month":le,A=J.previousYearAriaLabel,x=A===void 0?typeof X=="string"?X:"Previous Year":A;return ee.createElement("button",{type:"button",className:S.join(" "),onClick:T,onKeyDown:n.props.handleOnKeyDown,"aria-label":C?x:N},ee.createElement("span",{className:w.join(" ")},C?X:G))}}},n.increaseYear=function(){n.setState(function(a){var o,u=a.date;return{date:Ui(u,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=MT(n.state.date,n.props);break;case n.props.showYearPicker:o=CU(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=AU(n.state.date,n.props);break;default:o=xT(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var u=["react-datepicker__navigation","react-datepicker__navigation--next"],d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&u.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&u.push("react-datepicker__navigation--next--with-today-button");var h=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(h=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--next--disabled"),h=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,_=y.nextMonthButtonLabel,w=_===void 0?e.defaultProps.nextMonthButtonLabel:_,S=y.nextYearButtonLabel,T=S===void 0?e.defaultProps.nextYearButtonLabel:S,C=n.props,I=C.nextMonthAriaLabel,V=I===void 0?typeof w=="string"?w:"Next Month":I,G=C.nextYearAriaLabel,H=G===void 0?typeof T=="string"?T:"Next Year":G;return ee.createElement("button",{type:"button",className:u.join(" "),onClick:h,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?H:V},ee.createElement("span",{className:d.join(" ")},m?T:w))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ee.createElement("h2",{className:o.join(" ")},gt(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return ee.createElement(WU,Ke({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Le(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return ee.createElement(FU,Ke({},e.defaultProps,n.props,{month:Rn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return ee.createElement(qU,Ke({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(ST(),a),n.props.setPreSelection&&n.props.setPreSelection(ST())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ee.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var o=a.monthDate,u=a.i;return ee.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),ee.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(u!==0),n.renderMonthYearDropdown(u!==0),n.renderYearDropdown(u!==0)),ee.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(a){var o,u,d=a.monthDate,h=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=IT(n.state.date,n.props),y=xT(n.state.date,n.props),_=kT(n.state.date,n.props),w=MT(n.state.date,n.props),S=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(u=(o=n.props).renderCustomHeader)===null||u===void 0?void 0:u.call(o,Ke(Ke({},n.state),{customHeaderCount:h,monthDate:d,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:y,prevYearButtonDisabled:_,nextYearButtonDisabled:w})),S&&ee.createElement("div",{className:"react-datepicker__day-names"},n.header(d)))},n.renderYearHeader=function(a){var o=a.monthDate,u=n.props,d=u.showYearPicker,h=u.yearItemNumber,m=h===void 0?e.defaultProps.yearItemNumber:h,y=Pa(o,m),_=y.startPeriod,w=y.endPeriod;return ee.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},d?"".concat(_," - ").concat(w):Le(o))},n.renderHeader=function(a){var o=a.monthDate,u=a.i,d=u===void 0?0:u,h={monthDate:o,i:d};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(h);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(h);default:return n.renderDefaultHeader(h)}},n.renderMonths=function(){var a,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var u=[],d=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,h=n.props.showPreviousMonths?d-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ui(n.state.date,h):Gs(n.state.date,h),y=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:h,_=0;_<d;++_){var w=_-y+h,S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ui(m,w):Sr(m,w),T="month-".concat(_),C=_<d-1,I=_>0;u.push(ee.createElement("div",{key:T,ref:function(V){n.monthContainer=V??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:S,i:_}),ee.createElement(jU,Ke({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:S,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:_,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:C,monthShowsDuplicateDaysStart:I}))))}return u}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ee.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ee.createElement(GU,Ke({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ee.createElement(YU,Ke({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,o=a&&vp(a)&&!!n.props.selected,u=o?"".concat(OT(a.getHours()),":").concat(OT(a.getMinutes())):"";if(n.props.showTimeInput)return ee.createElement(OU,Ke({},e.defaultProps,n.props,{date:a,timeString:u,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,o=Pa(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),u=o.startPeriod,d=o.endPeriod,h;return n.props.showYearPicker?h="".concat(u," - ").concat(d):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?h=Le(n.state.date):h="".concat(Wv(Rn(n.state.date),n.props.locale)," ").concat(Le(n.state.date)),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&h)},n.renderChildren=function(){if(n.props.children)return ee.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=M.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Wc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Qe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!An(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Qe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||fU;return ee.createElement(yp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ee.createElement("div",{style:{display:"contents"},ref:this.containerRef},ee.createElement(t,{className:ln("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(M.Component),JU=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,a=r.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return ee.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:a});if(ee.isValidElement(e)){var u=e;return ee.cloneElement(u,{className:"".concat(u.props.className||""," ").concat(o," ").concat(n),onClick:function(d){typeof u.props.onClick=="function"&&u.props.onClick(d),typeof a=="function"&&a(d)}})}return ee.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},ee.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},wR=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return CI.createPortal(this.props.children,this.el)},e}(M.Component),e3="[tabindex], a, button, input, select, textarea",t3=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},ER=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(e3),1,-1).filter(t3)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=M.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ee.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ee.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ee.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(M.Component);function n3(r){var e=function(t){var n,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=M.useRef(null),u=dU(Ke({open:!a,whileElementsMounted:Y4,placement:t.popperPlacement,middleware:$r([Z4({padding:15}),X4(10),J4({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),d=Ke(Ke({},t),{hidePopper:a,popperProps:Ke(Ke({},u),{arrowRef:o})});return ee.createElement(r,Ke({},d))};return e}var r3=function(r){Jt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,a=t.wrapperClassName,o=t.hidePopper,u=o===void 0?e.defaultProps.hidePopper:o,d=t.popperComponent,h=t.targetComponent,m=t.enableTabLoop,y=t.popperOnKeyDown,_=t.portalId,w=t.portalHost,S=t.popperProps,T=t.showArrow,C=void 0;if(!u){var I=ln("react-datepicker-popper",n);C=ee.createElement(ER,{enableTabLoop:m},ee.createElement("div",{ref:S.refs.setFloating,style:S.floatingStyles,className:I,"data-placement":S.placement,onKeyDown:y},d,T&&ee.createElement(iU,{ref:S.arrowRef,context:S.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(C=M.createElement(this.props.popperContainer,{},C)),_&&!u&&(C=ee.createElement(wR,{portalId:_,portalHost:w},C));var V=ln("react-datepicker-wrapper",a);return ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:S.refs.setReference,className:V},h),C)},e}(M.Component),i3=n3(r3),BT="react-datepicker-ignore-onclickoutside";function a3(r,e){return r&&e?Rn(r)!==Rn(e)||Le(r)!==Le(e):r!==e}var Yg="Date input not valid.",s3=function(r){Jt(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Je()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,u){var d=new Date(u.date);return vp(d)?$r($r([],o,!0),[Ke(Ke({},u),{date:d})],!1):o},[])},n.calcInitialState=function(){var a,o=n.getPreSelection(),u=yR(n.props),d=vR(n.props),h=u&&no(o,Zf(u))?u:d&&Wa(o,DT(d))?d:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:h,highlightDates:NT(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ke(Ke({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ke(Ke({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},n.setBlur=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,o){o===void 0&&(o=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Gg},function(){a||n.setState(function(u){return{focused:o?u.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ji(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var o,u,d=n.state.wasHidden,h=d?n.state.open:!0;d&&n.resetHiddenStatus(),n.state.preventFocus||((u=(o=n.props).onFocus)===null||u===void 0||u.call(o,a),h&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var o,u;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((u=(o=n.props).onBlur)===null||u===void 0||u.call(o,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var o,u;n.props.inline||n.setOpen(!1),(u=(o=n.props).onClickOutside)===null||u===void 0||u.call(o,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,o,u,d,h,m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];var _=m[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,m),!_||typeof _.isDefaultPrevented!="function"||_.isDefaultPrevented()))){n.setState({inputValue:(_==null?void 0:_.target)instanceof HTMLInputElement?_.target.value:null,lastPreSelectChange:o3});var w=n.props,S=w.selectsRange,T=w.startDate,C=w.endDate,I=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,V=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,G=(_==null?void 0:_.target)instanceof HTMLInputElement?_.target.value:"";if(S){var H=G.split("-",2).map(function(j){return j.trim()}),X=H[0],J=H[1],le=Hg(X??"",I,n.props.locale,V),N=Hg(J??"",I,n.props.locale,V),A=(T==null?void 0:T.getTime())!==(le==null?void 0:le.getTime()),x=(C==null?void 0:C.getTime())!==(N==null?void 0:N.getTime());if(!A&&!x||le&&ur(le,n.props)||N&&ur(N,n.props))return;(d=(u=n.props).onChange)===null||d===void 0||d.call(u,[le,N],_)}else{var P=Hg(G,I,n.props.locale,V,(h=n.props.selected)!==null&&h!==void 0?h:void 0);(P||!G)&&n.setSelected(P,_,!0)}}},n.handleSelect=function(a,o,u){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(a,o,!1,u),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var d=n.props,h=d.startDate,m=d.endDate;h&&!m&&(n.props.swapRange||!VT(a,h))&&n.setOpen(!1)}},n.setSelected=function(a,o,u,d){var h,m,y=a;if(n.props.showYearPicker){if(y!==null&&Jf(Le(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&gR(y,n.props))return}else if(y!==null&&ur(y,n.props))return;var _=n.props,w=_.onChange,S=_.selectsRange,T=_.startDate,C=_.endDate,I=_.selectsMultiple,V=_.selectedDates,G=_.minTime,H=_.swapRange;if(!qs(n.props.selected,y)||n.props.allowSameDay||S||I)if(y!==null&&(n.props.selected&&(!u||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=zg(y,{hour:Bi(n.props.selected),minute:Fi(n.props.selected),second:Fa(n.props.selected)})),!u&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&G&&(y=zg(y,{hour:G.getHours(),minute:G.getMinutes(),second:G.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:d})),S){var X=!T&&!C,J=T&&!C,le=T&&C;X?w==null||w([y,null],o):J&&(y===null?w==null||w([null,null],o):VT(y,T)?H?w==null||w([y,T],o):w==null||w([y,null],o):w==null||w([T,y],o)),le&&(w==null||w([y,null],o))}else if(I){if(y!==null)if(!(V!=null&&V.length))w==null||w([y],o);else{var N=V.some(function(x){return Qe(x,y)});if(N){var A=V.filter(function(x){return!Qe(x,y)});w==null||w(A,o)}else w==null||w($r($r([],V,!0),[y],!1),o)}}else w==null||w(y,o);u||((m=(h=n.props).onSelect)===null||m===void 0||m.call(h,y,o),n.setState({inputValue:null}))},n.setPreSelection=function(a){var o=ji(n.props.minDate),u=ji(n.props.maxDate),d=!0;if(a){var h=Zf(a);if(o&&u)d=fc(a,n.props.minDate,n.props.maxDate);else if(o){var m=Zf(n.props.minDate);d=Wa(a,m)||qs(h,m)}else if(u){var y=DT(n.props.maxDate);d=no(a,y)||qs(h,y)}}d&&n.setState({preSelection:a})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var o,u;if(!(n.props.selectsRange||n.props.selectsMultiple)){var d=n.props.selected?n.props.selected:n.getPreSelection(),h=n.props.selected?a:zg(d,{hour:Bi(a),minute:Fi(a)});n.setState({preSelection:h}),(u=(o=n.props).onChange)===null||u===void 0||u.call(o,h),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(a=n.props).onInputClick)===null||o===void 0||o.call(a)},n.onInputKeyDown=function(a){var o,u,d,h,m,y;(u=(o=n.props).onKeyDown)===null||u===void 0||u.call(o,a);var _=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(_===he.ArrowDown||_===he.ArrowUp||_===he.Enter)&&((d=n.onInputClick)===null||d===void 0||d.call(n));return}if(n.state.open){if(_===he.ArrowDown||_===he.ArrowUp){a.preventDefault();var w=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((h=n.calendar)===null||h===void 0?void 0:h.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(w);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var T=Je(n.state.preSelection);_===he.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Gg?(n.handleSelect(T,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(T)):n.setOpen(!1)):_===he.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):_===he.Tab&&n.setOpen(!1),n.inputOk()||(y=(m=n.props).onInputError)===null||y===void 0||y.call(m,{code:1,msg:Yg})}},n.onPortalKeyDown=function(a){var o=a.key;o===he.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var o,u,d,h,m,y,_=n.props,w=_.minDate,S=_.maxDate,T=_.disabledKeyboardNavigation,C=_.showWeekPicker,I=_.shouldCloseOnSelect,V=_.locale,G=_.calendarStartDay,H=_.adjustDateOnChange,X=_.inline;if((u=(o=n.props).onKeyDown)===null||u===void 0||u.call(o,a),!T){var J=a.key,le=a.shiftKey,N=Je(n.state.preSelection),A=function(we,Y){var ie=Y;switch(we){case he.ArrowRight:ie=C?Eh(Y,1):wr(Y,1);break;case he.ArrowLeft:ie=C?pT(Y):GV(Y);break;case he.ArrowUp:ie=pT(Y);break;case he.ArrowDown:ie=Eh(Y,1);break;case he.PageUp:ie=le?Rl(Y,1):Gs(Y,1);break;case he.PageDown:ie=le?Ui(Y,1):Sr(Y,1);break;case he.Home:ie=Ha(Y,V,G);break;case he.End:ie=vU(Y);break}return ie},x=function(we,Y){for(var ie=40,ue=we,be=!1,U=0,ne=A(we,Y);!be;){if(U>=ie){ne=Y;break}w&&ne<w&&(ue=he.ArrowRight,ne=ur(w,n.props)?A(ue,ne):w),S&&ne>S&&(ue=he.ArrowLeft,ne=ur(S,n.props)?A(ue,ne):S),ur(ne,n.props)?((ue===he.PageUp||ue===he.Home)&&(ue=he.ArrowRight),(ue===he.PageDown||ue===he.End)&&(ue=he.ArrowLeft),ne=A(ue,ne)):be=!0,U++}return ne};if(J===he.Enter){a.preventDefault(),n.handleSelect(N,a),!I&&n.setPreSelection(N);return}else if(J===he.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(h=(d=n.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:Yg});return}var P=null;switch(J){case he.ArrowLeft:case he.ArrowRight:case he.ArrowUp:case he.ArrowDown:case he.PageUp:case he.PageDown:case he.Home:case he.End:P=x(J,N);break}if(!P){(y=(m=n.props).onInputError)===null||y===void 0||y.call(m,{code:1,msg:Yg});return}if(a.preventDefault(),n.setState({lastPreSelectChange:Gg}),H&&n.setSelected(P),n.setPreSelection(P),X){var j=Rn(N),B=Rn(P),O=Le(N),Me=Le(P);j!==B||O!==Me?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var o=a.key;o===he.Escape&&(a.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var o=n.props,u=o.selectsRange,d=o.onChange;u?d==null||d([null,null],a):d==null||d(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,o;return!n.props.inline&&!n.isCalendarOpen()?null:ee.createElement(ZU,Ke({showMonthYearDropdown:void 0,ref:function(u){n.calendar=u}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:xU(n.modifyHolidays()),outsideClickIgnoreClass:BT,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,o=a.dateFormat,u=o===void 0?e.defaultProps.dateFormat:o,d=a.locale,h=n.props.showTimeInput||n.props.showTimeSelect,m=h?"PPPPp":"PPPP",y;return n.props.selectsRange?y="Selected start date: ".concat(or(n.props.startDate,{dateFormat:m,locale:d}),". ").concat(n.props.endDate?"End date: "+or(n.props.endDate,{dateFormat:m,locale:d}):""):n.props.showTimeSelectOnly?y="Selected time: ".concat(or(n.props.selected,{dateFormat:u,locale:d})):n.props.showYearPicker?y="Selected year: ".concat(or(n.props.selected,{dateFormat:"yyyy",locale:d})):n.props.showMonthYearPicker?y="Selected month: ".concat(or(n.props.selected,{dateFormat:"MMMM yyyy",locale:d})):n.props.showQuarterYearPicker?y="Selected quarter: ".concat(or(n.props.selected,{dateFormat:"yyyy, QQQ",locale:d})):y="Selected date: ".concat(or(n.props.selected,{dateFormat:m,locale:d})),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},y)},n.renderDateInput=function(){var a,o,u,d=ln(n.props.className,(a={},a[BT]=n.state.open,a)),h=n.props.customInput||ee.createElement("input",{type:"text"}),m=n.props.customInputRef||"ref",y=n.props,_=y.dateFormat,w=_===void 0?e.defaultProps.dateFormat:_,S=y.locale,T=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?pU(n.props.startDate,n.props.endDate,{dateFormat:w,locale:S}):n.props.selectsMultiple?mU((u=n.props.selectedDates)!==null&&u!==void 0?u:[],{dateFormat:w,locale:S}):or(n.props.selected,{dateFormat:w,locale:S});return M.cloneElement(h,(o={},o[m]=function(C){n.input=C},o.value=T,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=ln(h.props.className,d),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var a=n.props,o=a.isClearable,u=a.disabled,d=a.selected,h=a.startDate,m=a.endDate,y=a.clearButtonTitle,_=a.clearButtonClassName,w=_===void 0?"":_,S=a.ariaLabelClose,T=S===void 0?"Close":S,C=a.selectedDates;return o&&(d!=null||h!=null||m!=null||C!=null&&C.length)?ee.createElement("button",{type:"button",className:ln("react-datepicker__close-icon",w,{"react-datepicker__close-icon--disabled":u}),disabled:u,"aria-label":T,onClick:n.onClearClick,title:y,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Wc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var a,o,u,d;t.inline&&a3(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:NT(this.props.highlightDates)}),!n.focused&&!qs(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),n.open===!0&&this.state.open===!1&&((d=(u=this.props).onCalendarClose)===null||d===void 0||d.call(u)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,a=t.icon,o=t.calendarIconClassname,u=t.calendarIconClassName,d=t.toggleCalendarOnIconClick,h=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ee.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ee.createElement(JU,Ke({icon:a,className:ln(u,!u&&o,h&&"react-datepicker-ignore-onclickoutside")},d?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ee.createElement(ER,{enableTabLoop:this.props.enableTabLoop},ee.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ee.createElement(wR,Ke({portalId:this.props.portalId},this.props),n)),ee.createElement("div",null,this.renderInputContainer(),n)}return ee.createElement(i3,Ke({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(M.Component),o3="input",Gg="navigate";function FT(){const r=Nc(),{userLoggedIn:e}=up(),t=oo.currentUser,[n,a]=M.useState(!1),[o,u]=M.useState(""),[d,h]=M.useState(new Date),[m,y]=M.useState([]);M.useEffect(()=>{t&&_()},[]);async function _(){try{const T=St(yn(wn,"trip-users"),Mi("user_id","==",t.uid)),C=await On(T);if(C.empty)return;const I=C.docs.map(V=>V.data().trip_id);console.log("trip_ids: ",I),y(I)}catch(T){console.error(T)}}function w(T){r("/trip/"+T)}async function S(){console.log("adding new trip");const T={created_by:t.uid,image_url:`/images/example_${Math.floor(Math.random()*6)+1}.jpg`,trip_name:o};try{const C=await ti(yn(wn,"trips"),T);console.log("new trip added");const I={date:new Date(d.getFullYear(),d.getMonth(),d.getDate())};await ti(yn(C,"days"),I),console.log("first day added");const V={trip_id:C.id,user_id:t.uid};ti(yn(wn,"trip-users"),V),a(!1),r("/trip/"+C.id)}catch(C){console.error(C)}}return k.jsxs(k.Fragment,{children:[!e&&k.jsx(rS,{to:"/hero",replace:!0}),k.jsxs("div",{className:"home-container",children:[k.jsx(Lv,{navbarColor:"navbar--lightblue"}),k.jsxs("h1",{children:["Welcome, ",t!=null?t.email:""]}),m.length>0&&k.jsx("div",{className:"carddeck-container",children:k.jsx(H2,{tripIds:m,onClick:T=>w(T)})}),k.jsx("div",{className:"add-new-trip-button",children:k.jsx(un,{buttonColor:"btn--clear",buttonStyle:"btn--morepress",buttonSize:"btn--large",onClick:()=>a(!0),children:"Add a new trip"})})]}),n&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"backdrop",onClick:()=>a(!1)}),k.jsxs("div",{className:"set-newtrip-container",children:[k.jsxs("div",{className:"set-tripname-container",children:[k.jsx("h5",{children:"Trip name:"}),k.jsx("input",{className:"set-tripname-input",type:"text",placeholder:"Enter your trip name...",value:o,onChange:T=>u(T.target.value)})]}),k.jsxs("div",{className:"set-date-container",children:[k.jsx("h5",{children:"Start date:"}),k.jsx(s3,{className:"set-date-datepicker",calendarClassName:"set-date-datepicker-calendar",dateFormat:"dd/MM/yyyy",selected:d,onChange:T=>h(T)})]}),k.jsx("div",{className:"add-btn-container",children:k.jsx(un,{buttonColor:"btn--blue",buttonStyle:"btn--mediumpress",buttonSize:"btn--medium",onClick:S,children:"Add"})})]})]})]})}function l3({tripId:r}){const[e,t]=M.useState([]),[n,a]=M.useState(""),o=yn(wn,"trips",r,"tasks");M.useEffect(()=>{if(!r){console.error("no tripId provided");return}u();const C=St(o,Ln("order","asc"));return Xi(C,d)},[]);async function u(){console.log("getTasks function");try{const C=St(o,Ln("order","asc")),I=await On(C);console.log("tasks snapshot obtained"),d(I)}catch(C){console.error(C)}}function d(C){if(C.empty)return;console.log("setTasksFromSnapshot function");const I=C.docs.map(V=>({...V.data(),id:V.id}));t(I)}async function h(){if(n==="")return;console.log("addTask function");const C={assigned_to:"",content:n,order:e.length===0?0:e[e.length-1].order+1,checked:!1};try{await ti(o,C),console.log("new task added: ",C)}catch(I){console.error(I)}a("")}function m(C){C.key==="Enter"&&n!=""&&h()}async function y(C){console.log("deleting task: ",e[C].content);try{await Gc(vn(o,e[C].id)),console.log("task deleted")}catch(I){console.error(I)}}async function _(C,I){try{await Promise.all([hl(vn(o,e[C].id),{order:e[I].order}),hl(vn(o,e[I].id),{order:e[C].order})]),console.log("updated task orders")}catch(V){console.error(V)}}async function w(C){C!==0&&(console.log("moving task up"),await _(C-1,C))}async function S(C){C!==e.length-1&&(console.log("moving task down"),await _(C,C+1))}async function T(C,I){try{await hl(vn(o,e[C].id),{checked:I}),console.log("updated task, check: ",I)}catch(V){console.error(V)}}return k.jsx(k.Fragment,{children:k.jsxs(Rr,{className:"trip-smaller-card",width:"48%",margin:"0",padding:"1.5rem 0.3rem",children:[k.jsx("h5",{className:"trip-card-name",children:"Tasks"}),k.jsx("div",{className:"task-list-container",children:k.jsx("ol",{children:e.map((C,I)=>k.jsxs("li",{children:[k.jsxs("div",{className:"custom-checkbox-container",children:[k.jsx("input",{className:"task-checkbox",type:"checkbox",checked:C.checked,onChange:V=>T(I,V.target.checked)}),k.jsx("span",{className:`checkmark ${C.checked?"checked":""}`})]}),k.jsx("span",{className:`task-text ${C.checked?"checked":""}`,children:C.content}),k.jsx("button",{className:"delete-task-btn",onClick:()=>y(I),children:k.jsx("span",{children:""})}),k.jsx("button",{className:"move-task-btn",onClick:()=>w(I),children:k.jsx("span",{children:""})}),k.jsx("button",{className:"move-task-btn",onClick:()=>S(I),children:k.jsx("span",{children:""})})]},C.id))})}),k.jsxs("div",{className:"new-task-container",children:[k.jsxs("div",{className:"custom-checkbox-container",children:[k.jsx("input",{className:"task-checkbox",type:"checkbox",disabled:!0}),k.jsx("span",{className:"checkmark"})]}),k.jsx("textarea",{className:"new-task-textarea",placeholder:"new task",value:n,onChange:C=>a(C.target.value),onBlur:h,onKeyUp:m,maxLength:40,wrap:"soft",rows:1})]})]})})}function u3({tripId:r}){const[e,t]=M.useState([]),[n,a]=M.useState(""),o=yn(wn,"trips",r,"reminders");M.useEffect(()=>{if(!r){console.error("no trip id provided");return}u();const _=St(o,Ln("created_at","asc"));return Xi(_,d)},[]);async function u(){console.log("getReminders function");try{const _=St(o,Ln("created_at","asc")),w=await On(_);d(w)}catch(_){console.error(_)}}function d(_){console.log("setRemindersFromSnapshot function");const w=_.docs.map(S=>({...S.data(),id:S.id}));t(w)}async function h(_){console.log("deleting reminder");try{await Gc(vn(o,_)),console.log("reminder deleted")}catch(w){console.error(w)}}async function m(){if(n==="")return;console.log("adding new reminder");const _={content:n,created_at:Pv()};a("");try{await ti(o,_),console.log("new reminder added")}catch(w){console.error(w)}}function y(_){_.key==="Enter"&&n!=""&&m()}return k.jsx(k.Fragment,{children:k.jsxs(Rr,{className:"trip-smaller-card",width:"48%",margin:"0",padding:"1.5rem 0.3rem",children:[k.jsx("h5",{className:"trip-card-name",children:"Reminders"}),k.jsx("div",{className:"reminders-list-container",children:k.jsx("ul",{children:e.map(_=>k.jsxs("li",{children:[k.jsx("span",{className:"reminder-text",children:_.content}),k.jsx("button",{className:"delete-reminder-btn",onClick:()=>h(_.id),children:k.jsx("span",{children:""})})]},_.id))})}),k.jsx("div",{className:"new-reminder-container",children:k.jsx("textarea",{className:"new-reminder-textarea",placeholder:"new reminder",value:n,onChange:_=>a(_.target.value),onBlur:m,onKeyUp:y,maxLength:100,wrap:"soft",rows:1})})]})})}function c3({tripId:r}){const e=oo.currentUser,[t,n]=M.useState([]),[a,o]=M.useState(""),u=yn(wn,"trips",r,"chat");M.useEffect(()=>{if(!r){console.error("no trip id provided");return}d();const w=St(u,Ln("sent_at","asc"));return Xi(w,h)},[]);async function d(){console.log("getChatMEssages function");try{const w=St(u,Ln("sent_at","asc")),S=await On(w);h(S)}catch(w){console.error(w)}}function h(w){if(w.empty)return;console.log("getChatMessagesFromSnapshot function");const S=w.docs.map(T=>({...T.data(),id:T.id}));n(S)}async function m(){console.log("getUserFirstname function");try{const w=await NA(vn(wn,"users",e.uid));if(w.exists())return console.log("user first name: ",w.data().first_name),w.data().first_name;throw new Error("user not found")}catch(w){return console.error(w),"undefined user"}}async function y(){if(a==="")return;console.log("sending new message");const w={content:a,sender_uid:e.uid,sender_firstname:await m(),sent_at:Pv()};try{await ti(u,w),console.log("message sent"),o("")}catch(S){console.error(S)}}function _(w){w.key==="Enter"&&a!=""&&y()}return k.jsx(k.Fragment,{children:k.jsxs(Rr,{className:"trip-smaller-card",width:"64%",margin:"0",children:[k.jsx("h5",{className:"trip-card-name",children:"Chat"}),k.jsx("div",{className:"chat-container",children:k.jsx("ul",{children:t.map(w=>k.jsxs("li",{className:`message-listitem ${w.sender_uid===e.uid?"from-user":""}`,children:[w.sender_uid!=e.uid&&k.jsx("span",{className:"message-sender-text",children:w.sender_firstname}),k.jsx("span",{className:"message-text",children:w.content})]},w.id))})}),k.jsxs("div",{className:"send-message-container",children:[k.jsx("textarea",{className:"send-message-textarea",placeholder:"type a message...",value:a,onChange:w=>o(w.target.value),onKeyUp:_,wrap:"soft",rows:1}),k.jsx("div",{className:"send-btn-container",children:k.jsx(un,{onClick:y,buttonColor:"btn--blue",buttonStyle:"btn--mediumpress",buttonSize:"btn--medium",children:"send"})})]})]})})}function d3({day:r,daysCollectionRef:e}){const[t,n]=M.useState([]),a=yn(e,r.id,"events");M.useEffect(()=>{if(!r||!e){console.error("no day or days collection provided");return}o();const d=St(a,Ln("time","asc"));return Xi(d,u)},[]);async function o(){console.log("setEvents function");try{const d=St(a,Ln("time","asc")),h=await On(d);u(h)}catch(d){console.error(d)}}function u(d){if(d.empty)return;console.log("setEventsFromSnapshot function");const h=d.docs.map(m=>({...m.data(),id:m.id}));n(h)}return k.jsxs("div",{className:"itinerary-day-container",children:[k.jsx("h6",{children:r.date?to(r.date.toDate(),"dd MMM yyyy"):""}),k.jsx("ul",{children:t.map(d=>k.jsxs("li",{children:[k.jsx("p",{className:"event-name",children:d.name??""}),k.jsx("p",{className:"event-time",children:d.time?to(d.time.toDate(),"h.mm a"):""})]},d.id))})]})}var bR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HT=ee.createContext&&ee.createContext(bR),f3=["attr","size","title"];function h3(r,e){if(r==null)return{};var t=p3(r,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function p3(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Nh(){return Nh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Nh.apply(this,arguments)}function zT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Oh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(t),!0).forEach(function(n){m3(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):zT(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function m3(r,e,t){return e=g3(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function g3(r){var e=y3(r,"string");return typeof e=="symbol"?e:e+""}function y3(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function TR(r){return r&&r.map((e,t)=>ee.createElement(e.tag,Oh({key:t},e.attr),TR(e.child)))}function Xv(r){return e=>ee.createElement(v3,Nh({attr:Oh({},r.attr)},e),TR(r.child))}function v3(r){var e=t=>{var{attr:n,size:a,title:o}=r,u=h3(r,f3),d=a||t.size||"1em",h;return t.className&&(h=t.className),r.className&&(h=(h?h+" ":"")+r.className),ee.createElement("svg",Nh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,u,{className:h,style:Oh(Oh({color:r.color||t.color},t.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&ee.createElement("title",null,o),r.children)};return HT!==void 0?ee.createElement(HT.Consumer,null,t=>e(t)):e(bR)}function _3(r){return Xv({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(r)}function w3(r){return Xv({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(r)}function E3(r){return Xv({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}function b3({event:r,onChange:e}){const t=to(r.time.toDate(),"yyyy-MM-dd"),[n,a]=M.useState(r.name),[o,u]=M.useState(r.description),[d,h]=M.useState(to(r.time.toDate(),"h.mm a")),[m,y]=M.useState(r.location),[_,w]=M.useState(r.members);function S(T){return eR(`${t} ${T}`,"yyyy-MM-dd h.mm a",new Date)}return k.jsxs("div",{className:"event-container",children:[k.jsxs("div",{className:"event-text-info-container",children:[k.jsx("textarea",{className:"event-name",value:n,placeholder:"event name...",onChange:T=>{a(T.target.value)},onBlur:T=>e({name:T.target.value}),rows:2,maxLength:44}),k.jsx("textarea",{className:"event-description",value:o,placeholder:"enter any descriptions or notes...",onChange:T=>{u(T.target.value)},onBlur:T=>e({description:T.target.value}),rows:4,maxLength:400})]}),k.jsxs("div",{className:"event-other-info-container",children:[k.jsxs("div",{className:"information-container",children:[k.jsx(_3,{className:"icon"}),k.jsx("textarea",{className:"text",rows:1,placeholder:"time...",value:d,onChange:T=>{h(T.target.value)},onBlur:T=>e({time:S(T.target.value)})})]}),k.jsxs("div",{className:"information-container",children:[k.jsx(w3,{className:"icon"}),k.jsx("textarea",{className:"text",rows:1,placeholder:"location...",value:m,onChange:T=>{y(T.target.value)},onBlur:T=>e({location:T.target.value})})]}),k.jsxs("div",{className:"information-container",children:[k.jsx(E3,{className:"icon"}),k.jsx("textarea",{className:"text",rows:1,placeholder:"members...",value:_.join(", "),onChange:T=>{w(T.target.value.split(", "))},onBlur:T=>e({members:T.target.value.split(", ")})})]})]})]})}function T3({day:r,daysCollectionRef:e}){const[t,n]=M.useState([]),a=yn(e,r.id,"events");M.useEffect(()=>{if(!r||!e){console.error("no day or days collection provided");return}o();const y=St(a,Ln("time","asc"));return Xi(y,u)},[]);async function o(){console.log("setEvents function");try{const y=St(a,Ln("time","asc")),_=await On(y);u(_)}catch(y){console.error(y)}}function u(y){if(y.empty)return;console.log("setEventsFromSnapshot function");const _=y.docs.map(w=>({...w.data(),id:w.id}));n(_)}async function d(){console.log("adding new event");let y={name:"",description:"",time:new Date(r.date.toDate().getTime()+23*60*60*1e3),location:"",members:[]};try{await ti(a,y),console.log("new event added")}catch(_){console.error(_)}}async function h(y){console.log("deleting event");try{await Gc(vn(a,y)),console.log("event deleted")}catch(_){console.error(_)}}async function m(y,_){console.log("updating event");try{await hl(vn(a,y),_),console.log("updated event")}catch(w){console.error(w)}}return k.jsx(k.Fragment,{children:k.jsxs(Rr,{className:"day-card",height:"100%",width:"100%",margin:0,children:[k.jsx("h4",{children:to(r.date.toDate(),"dd MMM yyyy")}),k.jsxs("ul",{children:[t.map(y=>k.jsxs("li",{children:[k.jsx(b3,{event:y,onChange:_=>m(y.id,_)}),k.jsx("div",{className:"btn-container",children:k.jsx("button",{className:"delete-event-btn",onClick:()=>h(y.id),children:k.jsx("span",{children:""})})})]},y.id)),k.jsx("li",{children:k.jsx("div",{className:"add-btn-container",children:k.jsx(un,{onClick:d,buttonColor:"btn--blue",buttonStyle:"btn--mediumpress",buttonSize:"btn--large",children:"+"})})},"add-btn")]})]})})}function S3({tripId:r}){const[e,t]=M.useState([]),[n,a]=M.useState(-1),o=yn(wn,"trips",r,"days");M.useEffect(()=>{if(!r){console.error("no trip id provided");return}u();const m=St(o,Ln("date","asc"));return Xi(m,d)},[]);async function u(){console.log("getDays function");try{const m=St(o,Ln("date","asc")),y=await On(m);d(y)}catch(m){console.error(m)}}function d(m){if(m.empty)return;console.log("setDaysFromSnapshot function");const y=m.docs.map(_=>({..._.data(),id:_.id}));t(y)}async function h(){console.log("adding new day");try{console.log("new day added"),u()}catch(m){console.error(m)}}return k.jsxs(k.Fragment,{children:[k.jsxs(Rr,{className:"trip-itinerary-card",width:"64%",margin:"0",backgroundColor:"#e1f0fc",children:[k.jsx("h5",{className:"trip-card-name",children:"Itinerary"}),k.jsxs("ul",{className:"itinerary-days-ul",children:[e.map((m,y)=>k.jsx("li",{onClick:()=>a(y),children:k.jsx(d3,{day:m,daysCollectionRef:o})},m.id)),k.jsx("li",{children:k.jsx("div",{className:"add-btn-container",children:k.jsx(un,{onClick:h,buttonColor:"btn--blue",buttonStyle:"btn--mediumpress",buttonSize:"btn--large",children:"+"})})},-1)]})]}),n>-1&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"backdrop",onClick:()=>a(-1)}),k.jsx("div",{className:"day-container",children:k.jsx(T3,{day:e[n],daysCollectionRef:o})})]})]})}function D3({poll:r,pollsCollectionRef:e}){const t=oo.currentUser,[n,a]=M.useState(!1),[o,u]=M.useState(r.options),[d,h]=M.useState(0),[m,y]=M.useState(null),[_,w]=M.useState(!1),S=yn(wn,"voted");M.useEffect(()=>{if(!r){console.error("no poll provided");return}T(),C();const X=vn(e,r.id);return Xi(X,I)},[]),M.useEffect(()=>{const X=setTimeout(()=>{w(!0)},50);return()=>clearTimeout(X)},[]);async function T(){console.log("checkVoted function"),a(!1);try{const X=St(S,Mi("poll_id","==",r.id)),J=await On(X);if(J.empty){a(!1);return}const N=J.docs.map(A=>({user_id:A.data().user_id,option_idx:A.data().option_idx,id:A.id})).find(A=>A.user_id===t.uid);N?(a(!0),y(N),console.log("User has already voted for option index:",N.option_idx)):a(!1)}catch(X){console.error(X)}}function C(){let X=0;o.forEach(J=>X+=J.votes),h(X)}function I(X){if(!X.exists())return;const J=X.data().options;u(J);let le=0;J.forEach(N=>le+=N.votes),h(le)}function V(X){const J=o[X].votes/d;return console.log("percentage of votes for",o[X].content,":",J),J*100}async function G(X){if(n){console.log("Already voted");return}const J=[...o];J[X].votes+=1,a(!0);try{await hl(vn(e,r.id),{options:J}),console.log("Vote cast successfully");const le=await ti(S,{poll_id:r.id,user_id:t.uid,option_idx:X}),N={poll_id:r.id,user_id:t.uid,option_idx:X,id:le.id};y(N),console.log("Vote recorded in voted collection")}catch(le){console.error("Error casting vote:",le)}}async function H(){if(!n||m===null){console.log("not voted yet");return}const X=[...o];X[m.option_idx].votes-=1;try{await Promise.all([hl(vn(e,r.id),{options:X}),Gc(vn(S,m.id))]),console.log("Vote retracted successfully"),a(!1),y(null)}catch(J){console.error("Error retracting vote:",J)}}return k.jsx("div",{children:k.jsxs(Rr,{className:"poll-card",height:"100%",width:"100%",margin:0,children:[k.jsx("h4",{children:r.name}),k.jsx("ul",{className:"poll-options-ul",children:o.map((X,J)=>k.jsxs("li",{className:`poll-option-li ${n?"voted":"not-voted"} ${m&&m.option_idx===J?"voted-this":""}`,onClick:le=>G(J),children:[k.jsx("div",{className:"percentage-bar",style:{width:`${_&&n?V(J):0}%`}}),k.jsx("p",{children:X.content})]},J))}),n&&k.jsx("div",{className:"button-container",children:k.jsx(un,{buttonColor:"btn--blue",buttonStyle:"btn--lesspress",buttonSize:"btn--small",onClick:H,children:"Retract vote"})})]})})}function A3({tripId:r}){const[e,t]=M.useState([]),[n,a]=M.useState(-1),[o,u]=M.useState(!1),[d,h]=M.useState(""),[m,y]=M.useState([]),_=yn(wn,"trips",r,"polls");M.useEffect(()=>{if(!r){console.error("no trip id provided");return}w();const C=St(_,Ln("created_at","asc"));return Xi(C,S)},[]);async function w(){console.log("getDays function");try{const C=St(_,Ln("created_at","asc")),I=await On(C);S(I)}catch(C){console.error(C)}}function S(C){if(C.empty)return;console.log("setDaysFromSnapshot function");const I=C.docs.map(V=>({...V.data(),id:V.id}));t(I)}async function T(){console.log("addNewPoll function");const C={created_at:Pv(),name:d,options:m.map(I=>({content:I.trim(),votes:0}))};h(""),y([]);try{await ti(_,C),console.log("new poll added")}catch(I){console.error(I)}u(!1)}return k.jsxs(k.Fragment,{children:[k.jsxs(Rr,{className:"trip-polls-card",width:"32%",margin:0,backgroundColor:"#70b9ef",children:[k.jsx("h5",{className:"trip-card-name",children:"Polls"}),k.jsxs("ul",{className:"polls-ul",children:[e.map((C,I)=>k.jsx("li",{onClick:()=>a(I),children:k.jsx("h6",{children:C.name})},C.id)),k.jsx("li",{children:k.jsx("div",{className:"add-btn-container",children:k.jsx(un,{onClick:()=>u(!0),buttonColor:"btn--white",buttonStyle:"btn--mediumpress",buttonSize:"btn--large",children:"+"})})},-1)]})]}),n>-1&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"backdrop",onClick:()=>a(-1)}),k.jsx("div",{className:"poll-container",children:k.jsx(D3,{poll:e[n],pollsCollectionRef:_})})]}),o&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"backdrop",onClick:()=>u(!1)}),k.jsxs("div",{className:"set-newpoll-container",children:[k.jsxs("div",{className:"set-pollname-container",children:[k.jsx("h5",{children:"Poll name:"}),k.jsx("input",{className:"set-pollname-input",type:"text",placeholder:"Enter your poll name...",value:d,onChange:C=>h(C.target.value)})]}),k.jsxs("div",{className:"set-options-container",children:[k.jsx("h5",{children:"Options:"}),k.jsx("textarea",{className:"set-options-textarea",placeholder:"Enter options separated by commas...",value:m.join(","),onChange:C=>y(C.target.value.split(","))})]}),k.jsx("div",{className:"add-btn-container",children:k.jsx(un,{buttonColor:"btn--blue",buttonStyle:"btn--mediumpress",buttonSize:"btn--medium",onClick:T,children:"Add"})})]})]})]})}function R3(){const r=Nc(),{tripId:e}=eS(),[t,n]=M.useState(null);M.useEffect(()=>{e||(console.error("no trip id in url"),r("/home")),console.log("showing trip: ",e),a()},[]);async function a(){try{const o=await NA(vn(wn,"trips",e));if(!o.exists())throw new Error("trip does not exist");n(o.data())}catch(o){console.error(o),n(null),r("/home")}}if(t)return k.jsxs(k.Fragment,{children:[k.jsx(Lv,{navbarColor:"navbar--blue"}),k.jsxs("div",{className:"trip-container",children:[k.jsxs("div",{className:"trip-header",children:[k.jsx("h3",{className:"trip-name",children:t.trip_name}),k.jsx("div",{className:"button-container",children:k.jsx(un,{buttonColor:"btn--white",buttonStyle:"btn--lesspress",buttonSize:"btn--small",onClick:()=>r("/trip/"+e+"/add-member"),children:"Manage members"})})]}),k.jsxs("div",{className:"trip-cards-container",children:[k.jsx(Rr,{className:"trip-image-card",height:"24rem",width:"32%",margin:"0",padding:0,children:k.jsx("img",{className:"trip-image",src:t.image_url,alt:"image"})}),k.jsx(S3,{tripId:e})]}),k.jsxs("div",{className:"trip-cards-container",children:[k.jsx(l3,{tripId:e}),k.jsx(u3,{tripId:e})]}),k.jsxs("div",{className:"trip-cards-container",children:[k.jsx(c3,{tripId:e}),k.jsx(A3,{tripId:e})]})]})]})}function C3(){const{tripId:r}=eS(),[e,t]=M.useState(""),[n,a]=M.useState([]),[o,u]=M.useState([]),d=yn(wn,"trip-users");M.useEffect(()=>{if(!r){console.error("no trip id provided");return}h();const T=St(d,Mi("trip_id","==",r));return Xi(T,m)},[]);async function h(){console.log("getCurrentMembers function");try{const T=St(d,Mi("trip_id","==",r)),C=await On(T);m(C)}catch(T){console.error(T)}}async function m(T){if(T.empty)return;console.log("getCurrentMembersFromSnapshot function");const C=T.docs.map(G=>G.data().user_id),I=St(yn(wn,"users"),Mi("user_id","in",C)),V=await On(I);y(V)}function y(T){if(T.empty)return;console.log("setCurrentMembersFromSnapshot function");const C=T.docs.map(I=>({...I.data(),id:I.id}));console.log(C),u(C)}async function _(){if(e.trim()!=="")try{const T=St(yn(wn,"users"),Mi("email","==",e)),C=await On(T);if(C.empty){console.log("No user found with that email."),a([]);return}const I=C.docs.map(G=>({...G.data(),id:G.id})),V=I.filter(G=>!o.map(H=>H.id).includes(G.id));console.log(I),console.log(V),a(V)}catch(T){console.error("Error searching for user:",T);return}}async function w(T){console.log("addUserToTrip function");try{const C={trip_id:r,user_id:T.id};await ti(d,C)}catch(C){console.error(C)}}async function S(T){console.log("removeUserFromTrip function");try{const C=St(d,Mi("trip_id","==",r),Mi("user_id","==",T.id)),I=await On(C);await Gc(vn(d,I.docs[0].id))}catch(C){console.error(C)}}return k.jsxs(k.Fragment,{children:[k.jsx(Lv,{navbarColor:"navbar--blue"}),k.jsxs("div",{className:"current-members-container",children:[k.jsx("h3",{children:"Current members"}),k.jsx("ul",{className:"current-members-ul",children:o.map(T=>k.jsxs("li",{className:"current-member-listitem",children:[k.jsxs("div",{className:"current-member-info",children:[k.jsxs("div",{className:"current-member-name",children:[k.jsx("span",{className:"current-member-firstname",children:T.first_name}),k.jsx("span",{className:"current-membert-lastname",children:T.last_name})]}),k.jsx("span",{className:"current-member-email",children:T.email})]}),k.jsx(un,{buttonColor:"btn--white",buttonStyle:"btn--lesspress",buttonSize:"btn--small",onClick:()=>{S(T)},children:"Remove"})]},T.id))})]}),k.jsxs("div",{className:"add-member-container",children:[k.jsx("h3",{children:"Add new member to trip"}),k.jsxs("div",{className:"search-user-container",children:[k.jsx("input",{type:"text",placeholder:"Search for a user by email...",className:"search-user-input",value:e,onChange:T=>t(T.target.value)}),k.jsx(un,{buttonColor:"btn--white",buttonStyle:"btn--lesspress",buttonSize:"btn--medium",onClick:_,children:"Search"})]}),k.jsx("ul",{className:"search-result-ul",children:n.map(T=>k.jsxs("li",{className:"search-result-listitem",children:[k.jsxs("div",{className:"search-result-info",children:[k.jsxs("div",{className:"search-result-name",children:[k.jsx("span",{className:"search-result-firstname",children:T.first_name}),k.jsx("span",{className:"search-result-lastname",children:T.last_name})]}),k.jsx("span",{className:"search-result-email",children:T.email})]}),k.jsx(un,{buttonColor:"btn--white",buttonStyle:"btn--lesspress",buttonSize:"btn--small",onClick:()=>{w(T)},children:"Add to Trip"})]},T.id))})]})]})}function I3(){const{userLoggedIn:r}=up();return k.jsx(k.Fragment,{children:r?k.jsxs(TE,{children:[k.jsx(Bs,{path:"/home",element:k.jsx(FT,{})}),k.jsx(Bs,{path:"/trip/:tripId",element:k.jsx(R3,{})}),k.jsx(Bs,{path:"/trip/:tripId/add-member",element:k.jsx(C3,{})}),k.jsx(Bs,{path:"*",element:k.jsx(FT,{})})]}):k.jsxs(TE,{children:[k.jsx(Bs,{index:!0,element:k.jsx(rT,{})}),k.jsx(Bs,{path:"*",element:k.jsx(rT,{})})]})})}a1.createRoot(document.getElementById("root")).render(k.jsx(M.StrictMode,{children:k.jsx(F2,{children:k.jsx(vI,{children:k.jsx(I3,{})})})}));
